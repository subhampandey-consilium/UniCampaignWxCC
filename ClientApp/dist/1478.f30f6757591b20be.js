"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[1478],{68117:(E,A,a)=>{a.d(A,{$O:()=>p,B3:()=>S,Fn:()=>l,LE:()=>Z,SQ:()=>h,Sr:()=>_,XL:()=>b,e_:()=>v,fe:()=>y,j1:()=>T,jY:()=>f,rf:()=>d,sH:()=>N,ye:()=>s});var s=(()=>{return(t=s||(s={}))[t.Select=-1]="Select",t[t.LocalDirectory=1]="LocalDirectory",t[t.FTP=2]="FTP",t[t.SFTP=3]="SFTP",t[t.Salesforce=4]="Salesforce",s;var t})(),S=(()=>{return(t=S||(S={}))[t.Voice=1]="Voice",t[t.SMS=2]="SMS",t[t.Whatsapp=6]="Whatsapp",t[t.Email=4]="Email",t[t.DNC=3]="DNC",t[t.All=5]="All",S;var t})(),f=(()=>{return(t=f||(f={}))[t.Voice=1]="Voice",t[t.SMS=2]="SMS",t[t.Email=4]="Email",t[t.Whatsapp=6]="Whatsapp",f;var t})(),l=(()=>{return(t=l||(l={}))[t.None=0]="None",t[t.And=1]="And",t[t.Or=2]="Or",l;var t})(),h=(()=>{return(t=h||(h={}))[t.None=0]="None",t[t.Equal=1]="Equal",t[t.NotEqual=2]="NotEqual",t[t.GreaterThan=3]="GreaterThan",t[t.LessThan=4]="LessThan",t[t.GreaterOrEqual=5]="GreaterOrEqual",t[t.LessOrEqual=6]="LessOrEqual",t[t.Like=7]="Like",t[t.NotLike=8]="NotLike",t[t.Null=9]="Null",t[t.NotNull=10]="NotNull",t[t.Contains=11]="Contains",t[t.DoesNotContain=12]="DoesNotContain",t[t.BeginsWith=13]="BeginsWith",t[t.DoesNotBeginWith=14]="DoesNotBeginWith",t[t.EndsWith=15]="EndsWith",t[t.DoesNotEndWith=16]="DoesNotEndWith",h;var t})(),d=(()=>{return(t=d||(d={}))[t.Pending=1]="Pending",t[t.Duplicate=3]="Duplicate",t[t.Invalid=4]="Invalid",t[t.Excluded=6]="Excluded",t[t.Retry=7]="Retry",t[t.Imported=9]="Imported",t[t.Failed=10]="Failed",t[t.Deleted=11]="Deleted",t[t.Completed=12]="Completed",t[t.BlockedByTCPA=18]="BlockedByTCPA",t[t.Transitioned_To_SMS_Or_Email=20]="Transitioned_To_SMS_Or_Email",t[t.Received=21]="Received",t[t.Sent=22]="Sent",t[t.DoNotCall=23]="DoNotCall",d;var t})(),p=(()=>{return(t=p||(p={}))[t.Pending=0]="Pending",t[t.AnswerSuccess=10]="AnswerSuccess",t[t.SIT_UnCallable=11]="SIT_UnCallable",t[t.AnsweringMachine=12]="AnsweringMachine",t[t.NumberCouldNotBeDialed=13]="NumberCouldNotBeDialed",t[t.BusySignal=14]="BusySignal",t[t.Voice=16]="Voice",t[t.AbandonedByAgent=17]="AbandonedByAgent",t[t.NoAnswer=8]="NoAnswer",t[t.SkippedOrRejected=18]="SkippedOrRejected",t[t.SkippedOrRejectedWithClose=19]="SkippedOrRejectedWithClose",t[t.TimedOutAcceptingPreviewCall=33]="TimedOutAcceptingPreviewCall",t[t.OutboundDisconnect=50]="OutboundDisconnect",t[t.AgentUnreachable=51]="AgentUnreachable",t[t.WrapupTimeOut=52]="WrapupTimeOut",t[t.StuckInteraction=11]="StuckInteraction",t[t.Sent=61]="Sent",t[t.Fail=62]="Fail",t[t.UnSuccessful=63]="UnSuccessful",t[t.Deliverd=64]="Deliverd",t[t.UnDelivered=65]="UnDelivered",t[t.Delivery_Unknown=66]="Delivery_Unknown",t[t.Queued=67]="Queued",p;var t})(),_=(()=>{return(t=_||(_={}))[t.Pending=1]="Pending",t[t.Active=2]="Active",t[t.Completed=3]="Completed",t[t.Expired=4]="Expired",t[t.InActive=5]="InActive",_;var t})(),Z=(()=>{return(t=Z||(Z={}))[t.Never=0]="Never",t[t.Daily=1]="Daily",t[t.Weeks=2]="Weeks",t[t.Months=3]="Months",t[t.Years=4]="Years",Z;var t})(),N=(()=>{return(t=N||(N={}))[t.Pending=1]="Pending",t[t.Active=2]="Active",t[t.Completed=3]="Completed",N;var t})(),y=(()=>{return(t=y||(y={}))[t.ASC=1]="ASC",t[t.DESC=2]="DESC",y;var t})(),v=(()=>{return(t=v||(v={}))[t.Single=0]="Single",t[t.Incremental=1]="Incremental",t[t.Repetitive=2]="Repetitive",v;var t})(),T=(()=>{return(t=T||(T={}))[t.Seconds=0]="Seconds",t[t.Minutes=1]="Minutes",t[t.Hours=2]="Hours",t[t.Days=3]="Days",t[t.Weeks=4]="Weeks",t[t.Months=5]="Months",t[t.Year=6]="Year",t[t.None=9]="None",T;var t})(),b=(()=>{return(t=b||(b={}))[t.Pending=0]="Pending",t[t.InvalidNumber=1]="InvalidNumber",t[t.NoAnswer=2]="NoAnswer",t[t.Busy=3]="Busy",t[t.Fax=4]="Fax",t[t.AnsweringMachine=5]="AnsweringMachine",t[t.NetworkVoicemail=6]="NetworkVoicemail",t[t.NoRingback=7]="NoRingback",t[t.OperatorIntercept=8]="OperatorIntercept",t[t.Callback_Requested=9]="Callback_Requested",t[t.Abandoned=10]="Abandoned",t[t.AbandonedToIVR=11]="AbandonedToIVR",t[t.Flushed_Camp_Stop=12]="Flushed_Camp_Stop",t[t.Gaurd_Time_Expiry=13]="Gaurd_Time_Expiry",t[t.Flushed_Error=14]="Flushed_Error",t[t.DNC_Requested=15]="DNC_Requested",t[t.Live_Voice=16]="Live_Voice",t[t.Invalid_Cad=17]="Invalid_Cad",t[t.Dial_At_Time_Invalid=18]="Dial_At_Time_Invalid",b;var t})()},77394:(E,A,a)=>{a.d(A,{J:()=>f});var s=a(94650),g=a(65938),S=a(4859);let f=(()=>{class l{constructor(d){this.dialogRef=d}}return l.\u0275fac=function(d){return new(d||l)(s.Y36(g.so))},l.\u0275cmp=s.Xpm({type:l,selectors:[["cuc-confirm-dialog"]],decls:9,vars:1,consts:[["matDialogTitle",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end",1,"pt-24"],["mat-raised-button","",1,"mat-accent","mr-16",3,"click"],["mat-raised-button","",3,"click"]],template:function(d,p){1&d&&(s.TgZ(0,"h1",0),s._uU(1,"Confirm"),s.qZA(),s.TgZ(2,"div",1),s._uU(3),s.qZA(),s.TgZ(4,"div",2)(5,"button",3),s.NdJ("click",function(){return p.dialogRef.close(!0)}),s._uU(6,"Confirm"),s.qZA(),s.TgZ(7,"button",4),s.NdJ("click",function(){return p.dialogRef.close(!1)}),s._uU(8,"Cancel"),s.qZA()()),2&d&&(s.xp6(3),s.Oqu(p.confirmMessage))},directives:[g.uh,g.xY,g.H8,S.lW],styles:[""]}),l})()},51478:(E,A,a)=>{a.r(A),a.d(A,{SourceModule:()=>Ce});var s=a(93917),g=a(4859),S=a(3238),f=a(59549),l=a(97392),h=a(44144),d=a(84385),p=a(56709),_=a(8882),Z=a(82689),N=a(77331),y=a(37084),v=a(27974),T=a(96308),b=a(17009),t=a(2143),w=a(3848),x=a(28255),F=a(68117),M=a(79497),B=a(77394),O=a(23753),V=a(36787),K=a(21086),G=a(1059),$=a(87545),j=a(24850),z=a(27221),e=a(94650),I=a(63687),X=a(65938),k=a(6072),L=a(96560),D=a(1576),J=a(43764),U=a(36895);let W=(()=>{class n{transform(o,r){return r[o].replace(","," ")}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=e.Yjl({name:"enumAsStringPipeFTPSFTP",type:n,pure:!0}),n})();const R=["searchSource"];function ee(n,c){1&n&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"Name"),e.qZA())}function te(n,c){if(1&n&&(e.TgZ(0,"mat-cell")(1,"p",31),e._uU(2),e.qZA()()),2&n){const o=c.$implicit;e.xp6(2),e.Oqu(o.name)}}function oe(n,c){1&n&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"Type"),e.qZA())}function ne(n,c){if(1&n&&(e.TgZ(0,"mat-cell")(1,"p",31),e._uU(2),e.ALo(3,"enumAsStringPipeFTPSFTP"),e.qZA()()),2&n){const o=c.$implicit,r=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,1,o.type,r.sourceType))}}function re(n,c){1&n&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"Connection"),e.qZA())}function ae(n,c){if(1&n){const o=e.EpF();e.TgZ(0,"mat-cell")(1,"a",32),e.NdJ("click",function(){const u=e.CHM(o).$implicit;return e.oxw().testSourceConnectivity(u)}),e._uU(2,"Test"),e.qZA()()}}function ie(n,c){1&n&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"Created On"),e.qZA())}function ce(n,c){if(1&n&&(e.TgZ(0,"mat-cell")(1,"p",31),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const o=c.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,o.createdOn+"Z","medium"))}}function se(n,c){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function me(n,c){if(1&n){const o=e.EpF();e.TgZ(0,"mat-cell")(1,"button",33),e.NdJ("click",function(m){return m.stopPropagation()}),e.TgZ(2,"mat-icon",34),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,35)(6,"button",36)(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit"),e.qZA()(),e.TgZ(11,"button",37),e.NdJ("click",function(){const u=e.CHM(o).$implicit;return e.oxw().deleteSource(u)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Delete"),e.qZA()()()()}if(2&n){const o=c.$implicit,r=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",r),e.xp6(5),e.Q6J("routerLink","/app/source-management/source/"+o.id)}}function ue(n,c){1&n&&e._UZ(0,"mat-header-row")}function le(n,c){1&n&&e._UZ(0,"mat-row",38)}function de(n,c){1&n&&(e.TgZ(0,"div",39)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const pe=function(){return{delay:"50ms",scale:"0.2"}},Y=function(n){return{value:"*",params:n}},fe=function(){return{delay:"100ms",x:"-25px"}},he=function(){return{value:"50"}},ge=function(){return[10,25,100]};let H=(()=>{class n{constructor(o,r,m,u,P,q){this._sourceService=o,this._matSnackBar=r,this._matDialog=m,this._toastService=u,this._router=P,this._changeDetectorRefs=q,this.filteredAndPagedLists=[],this.displayedColumns=["name","type","testConnection","createdOn","actions"],this.resultsLength=0,this.sourceType=F.ye}ngOnInit(){}ngAfterViewInit(){let o=(0,O.R)(this.searchSource.nativeElement,"keyup");(0,V.T)(this.sort.sortChange,this.paginator.page,o).pipe((0,G.O)({}),(0,$.w)(()=>this._sourceService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchSource.nativeElement.value,this.sort.direction)),(0,j.U)(r=>(this.resultsLength=r.result.total,r.result.items)),(0,z.K)(()=>(0,K.of)([]))).subscribe(r=>{this.filteredAndPagedLists=r,console.log("Fetched sources:",this.filteredAndPagedLists)})}reload(){this._sourceService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchSource.nativeElement.value,this.sort.direction).subscribe(o=>{this.filteredAndPagedLists=o.result.items,console.log(o)})}onSelectedChange(o){console.log(o)}deleteSource(o){this.confirmDialogRef=this._matDialog.open(B.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage=`Are you sure you want to delete ${o.name} Source?`,this.confirmDialogRef.afterClosed().subscribe(r=>{r&&this._sourceService.delete(o.id).subscribe(m=>{m&&(this._toastService.success(`Source ${o.name} deleted successfully.`),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(u=>u.id==o.id),1),this.matDataSourceTable.renderRows())}),this.confirmDialogRef=null})}testSourceConnectivity(o){this._sourceService.testConnectivity(o.id).subscribe(r=>{r.result?this._toastService.success(`Connection to ${o.name} succeeded.`):this._toastService.error(`Connection to ${o.name} failed.`)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(I.t),e.Y36(b.ux),e.Y36(X.uw),e.Y36(k.k),e.Y36(s.F0),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["uc-source-home"]],viewQuery:function(o,r){if(1&o&&(e.Gf(v.NW,7),e.Gf(T.YE,7),e.Gf(t.BZ,5),e.Gf(R,7)),2&o){let m;e.iGM(m=e.CRH())&&(r.paginator=m.first),e.iGM(m=e.CRH())&&(r.sort=m.first),e.iGM(m=e.CRH())&&(r.matDataSourceTable=m.first),e.iGM(m=e.CRH())&&(r.searchSource=m.first)}},decls:47,vars:20,consts:[["id","sources",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a source"],["searchSource",""],["mat-raised-button","",1,"cuc-white","mt-24","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"sources-table",3,"dataSource"],["matDataSourceTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","type"],["matColumnDef","testConnection"],["matColumnDef","createdOn"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","source-row",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],[3,"click"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"routerLink"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"source-row"],[1,"no-data-message"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),e._uU(6," storage "),e.qZA(),e.TgZ(7,"span",6),e._uU(8," Source Management "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),e._uU(12,"search"),e.qZA(),e._UZ(13,"input",9,10),e.qZA()(),e.TgZ(15,"button",11)(16,"mat-icon"),e._uU(17,"add"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Add New Source"),e.qZA()()(),e.TgZ(20,"div",12)(21,"mat-table",13,14),e.ynx(23,15),e.YNc(24,ee,2,0,"mat-header-cell",16),e.YNc(25,te,3,1,"mat-cell",17),e.BQk(),e.ynx(26,18),e.YNc(27,oe,2,0,"mat-header-cell",16),e.YNc(28,ne,4,4,"mat-cell",17),e.BQk(),e.ynx(29,19),e.YNc(30,re,2,0,"mat-header-cell",16),e.YNc(31,ae,3,0,"mat-cell",17),e.BQk(),e.ynx(32,20),e.YNc(33,ie,2,0,"mat-header-cell",16),e.YNc(34,ce,4,4,"mat-cell",17),e.BQk(),e.ynx(35,21),e.YNc(36,se,2,0,"mat-header-cell",22),e.YNc(37,me,16,2,"mat-cell",17),e.BQk(),e.YNc(38,ue,1,0,"mat-header-row",23),e.YNc(39,le,1,0,"mat-row",24),e.qZA(),e.YNc(40,de,3,0,"div",25),e.TgZ(41,"div",26)(42,"button",27),e.NdJ("click",function(){return r.reload()}),e.TgZ(43,"mat-icon"),e._uU(44,"refresh"),e.qZA()(),e._UZ(45,"mat-paginator",28,29),e.qZA()()()()),2&o&&(e.xp6(5),e.Q6J("@animate",e.VKq(13,Y,e.DdM(12,pe))),e.xp6(2),e.Q6J("@animate",e.VKq(16,Y,e.DdM(15,fe))),e.xp6(8),e.Q6J("routerLink","/app/source-management/source/new"),e.xp6(6),e.Q6J("dataSource",r.filteredAndPagedLists)("@animateStagger",e.DdM(18,he)),e.xp6(17),e.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==r.filteredAndPagedLists.length),e.xp6(5),e.Q6J("length",r.resultsLength)("pageSize",10)("pageSizeOptions",e.DdM(19,ge)))},directives:[L.V,D.xw,D.Wh,l.Hw,D.yH,g.lW,s.rH,t.BZ,T.YE,J.i,t.w1,t.fO,t.ge,T.nU,t.Dz,t.ev,x.p6,x.VK,x.OP,t.as,t.XQ,t.nj,t.Gk,U.O5,v.NW],pipes:[W,U.uU],styles:["@media screen and (max-width: 959px){uc-source-home #sources .top-bg{height:256px}}uc-source-home #sources>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-source-home #sources>.center>.header .search-wrapper{width:100%}}uc-source-home #sources>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-source-home #sources>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-source-home #sources>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-source-home .sources-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-source-home .sources-table .mat-header-row{min-height:64px}uc-source-home .sources-table .source-row{position:relative;cursor:pointer;height:60px}uc-source-home .sources-table .mat-cell{min-width:0;display:flex;align-items:center}uc-source-home .sources-table .active-icon{border-radius:50%}uc-source-home .no-data-message{padding-top:25px;height:100%;text-align:center}\n"],encapsulation:2,data:{animation:M.J}}),n})();var i=a(24006),C=a(39928),Se=a(20974),Te=a(55443),_e=a(40368);function ve(n,c){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.hij(" ",o.source.name," ")}}function Ze(n,c){1&n&&(e.TgZ(0,"div",26),e._uU(1,"New Source"),e.qZA())}function be(n,c){if(1&n){const o=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(o),e.oxw().addSource()}),e.TgZ(1,"span"),e._uU(2,"Save"),e.qZA()()}if(2&n){const o=e.oxw();e.Q6J("disabled",o.SourceForm.invalid)}}function Ae(n,c){if(1&n){const o=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(o),e.oxw().saveSource()}),e.TgZ(1,"span"),e._uU(2,"SAVE"),e.qZA()()}if(2&n){const o=e.oxw();e.Q6J("disabled",o.SourceForm.invalid||o.SourceForm.pristine)}}function Ne(n,c){if(1&n&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&n){const o=c.$implicit;e.Q6J("value",o.value),e.xp6(1),e.Oqu(o.text)}}function ye(n,c){if(1&n){const o=e.EpF();e.TgZ(0,"mat-tab",29)(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),e._uU(4,"Host"),e.qZA(),e._UZ(5,"input",30),e.qZA(),e.TgZ(6,"mat-form-field",15)(7,"mat-label"),e._uU(8,"Port"),e.qZA(),e._UZ(9,"input",31),e.qZA(),e.TgZ(10,"mat-form-field",15)(11,"mat-label"),e._uU(12,"Directory"),e.qZA(),e._UZ(13,"input",32),e.qZA(),e.TgZ(14,"mat-form-field",15)(15,"mat-label"),e._uU(16,"User Name"),e.qZA(),e._UZ(17,"input",33),e.qZA(),e.TgZ(18,"mat-form-field",15)(19,"mat-label"),e._uU(20,"Password"),e.qZA(),e._UZ(21,"input",34),e.qZA(),e.TgZ(22,"mat-checkbox",35),e.NdJ("ngModelChange",function(m){return e.CHM(o),e.oxw().source.isOPDEnabled=m}),e._uU(23,"Activate Output Directory"),e.qZA(),e.TgZ(24,"mat-form-field",15)(25,"mat-label"),e._uU(26,"Output Directory"),e.qZA(),e._UZ(27,"input",36),e.qZA(),e.TgZ(28,"mat-checkbox",37),e.NdJ("ngModelChange",function(m){return e.CHM(o),e.oxw().source.isDNCEnabled=m}),e._uU(29,"Enable DNC Usage"),e.qZA(),e.TgZ(30,"mat-form-field",15)(31,"mat-label"),e._uU(32,"DNC Directory"),e.qZA(),e._UZ(33,"input",38),e.qZA()()()}if(2&n){const o=e.oxw();e.xp6(22),e.Q6J("ngModel",o.source.isOPDEnabled),e.xp6(6),e.Q6J("ngModel",o.source.isDNCEnabled)}}function Fe(n,c){1&n&&(e.TgZ(0,"mat-tab",39)(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),e._uU(4,"Host"),e.qZA(),e._UZ(5,"input",30),e.qZA(),e.TgZ(6,"mat-form-field",15)(7,"mat-label"),e._uU(8,"Port"),e.qZA(),e._UZ(9,"input",31),e.qZA(),e.TgZ(10,"mat-form-field",15)(11,"mat-label"),e._uU(12,"Directory"),e.qZA(),e._UZ(13,"input",32),e.qZA(),e.TgZ(14,"mat-form-field",15)(15,"mat-label"),e._uU(16,"User Name"),e.qZA(),e._UZ(17,"input",33),e.qZA(),e.TgZ(18,"mat-form-field",15)(19,"mat-label"),e._uU(20,"Password"),e.qZA(),e._UZ(21,"input",34),e.qZA()()())}function De(n,c){1&n&&(e.TgZ(0,"mat-tab",40)(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),e._uU(4,"Directory"),e.qZA(),e._UZ(5,"input",41),e.qZA()()())}function Pe(n,c){1&n&&(e.TgZ(0,"mat-tab",42)(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),e._uU(4,"Username"),e.qZA(),e._UZ(5,"input",43),e.qZA(),e.TgZ(6,"mat-form-field",15)(7,"mat-label"),e._uU(8,"Password"),e.qZA(),e._UZ(9,"input",44),e.qZA(),e.TgZ(10,"mat-form-field",15)(11,"mat-label"),e._uU(12,"Consumer Key"),e.qZA(),e._UZ(13,"input",45),e.qZA(),e.TgZ(14,"mat-form-field",15)(15,"mat-label"),e._uU(16,"Consumer Secret"),e.qZA(),e._UZ(17,"input",46),e.qZA(),e.TgZ(18,"mat-form-field",15)(19,"mat-label"),e._uU(20,"Security Token"),e.qZA(),e._UZ(21,"input",47),e.qZA()()())}function xe(n,c){1&n&&(e.TgZ(0,"mat-tab",48)(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),e._uU(4,"URL"),e.qZA(),e._UZ(5,"input",49),e.qZA(),e.TgZ(6,"mat-form-field",15)(7,"mat-label"),e._uU(8,"Domain"),e.qZA(),e._UZ(9,"input",50),e.qZA(),e.TgZ(10,"mat-form-field",15)(11,"mat-label"),e._uU(12,"User Name"),e.qZA(),e._UZ(13,"input",51),e.qZA(),e.TgZ(14,"mat-form-field",15)(15,"mat-label"),e._uU(16,"Password"),e.qZA(),e._UZ(17,"input",52),e.qZA()()())}const Ue=function(){return{delay:"100ms",x:"-25px"}},we=function(n){return{value:"*",params:n}};let Q=(()=>{class n{constructor(o,r,m,u,P,q){this._sourceService=o,this._formBuilder=r,this._toastService=m,this.route=u,this._router=P,this._snackbarService=q,this.dataSourceTypes=F.ye,this.source=new C.H,this.source.isOPDEnabled=!0,this.source.isDNCEnabled=!0}ngOnInit(){this.routeParams=this.route.params,this.SourceForm=this.createSourceForm(),"new"===this.routeParams.value.id?(this.pageType="new",this.source=new C.H):(this.pageType="edit",this.source.id=this.routeParams.value.id,this._sourceService.getById(this.routeParams.value.id).subscribe(o=>{this.source=new C.H(o),this.selectedType=this.source.type,this.SourceForm=this.createSourceForm(),this.addSourceFormControls(this.source.type)})),this.SourceForm.controls.type.valueChanges.subscribe(o=>{console.log(this.SourceForm),this.addSourceFormControls(o)})}createSourceForm(){return this._formBuilder.group({id:[this.source.id],name:new i.NI(this.source.name,[i.kI.required]),description:[this.source.description],type:[this.source.type,[i.kI.required]],handle:[this.source.handle],isOPDEnabled:this.source.isOPDEnabled,isDNCEnabled:this.source.isDNCEnabled})}addSourceFormControls(o){switch(o){case F.ye.Salesforce:this.SourceForm.addControl("salesforceUserName",new i.NI(this.source.salesforceUserName,[i.kI.required])),this.SourceForm.addControl("salesforcePassword",new i.NI(this.source.salesforcePassword,[i.kI.required])),this.SourceForm.addControl("salesforceConsumerKey",new i.NI(this.source.salesforceConsumerKey,[i.kI.required])),this.SourceForm.addControl("salesforceConsumerSecret",new i.NI(this.source.salesforceConsumerSecret,[i.kI.required])),this.SourceForm.addControl("salesforceSecurityToken",new i.NI(this.source.salesforceSecurityToken,[i.kI.required]));break;case F.ye.LocalDirectory:this.SourceForm.addControl("directory",new i.NI(this.source.directory,[i.kI.required]));break;case F.ye.SFTP:this.SourceForm.addControl("ftpSFTPHost",new i.NI(this.source.ftpSFTPHost,[i.kI.required])),this.SourceForm.addControl("ftpSFTPPort",new i.NI(this.source.ftpSFTPPort,[i.kI.required])),this.SourceForm.addControl("ftpSFTPDirectory",new i.NI(this.source.ftpSFTPDirectory,[i.kI.required])),this.SourceForm.addControl("ftpSFTPOutputDirectory",new i.NI(this.source.ftpSFTPOutputDirectory)),this.SourceForm.addControl("ftpSFTPUsername",new i.NI(this.source.ftpSFTPUsername,[i.kI.required])),this.SourceForm.addControl("ftpSFTPPassword",new i.NI(this.source.ftpSFTPPassword,[i.kI.required])),this.SourceForm.addControl("isDNCEnabled",new i.NI(this.source.isDNCEnabled)),this.SourceForm.addControl("ftpSFTPDNC",new i.NI(this.source.ftpSFTPDNC));break;case F.ye.FTP:this.SourceForm.addControl("ftpSFTPHost",new i.NI(this.source.ftpSFTPHost,[i.kI.required])),this.SourceForm.addControl("ftpSFTPPort",new i.NI(this.source.ftpSFTPPort,[i.kI.required])),this.SourceForm.addControl("ftpSFTPDirectory",new i.NI(this.source.ftpSFTPDirectory,[i.kI.required])),this.SourceForm.addControl("ftpSFTPUsername",new i.NI(this.source.ftpSFTPUsername,[i.kI.required])),this.SourceForm.addControl("ftpSFTPPassword",new i.NI(this.source.ftpSFTPPassword,[i.kI.required]))}}saveSource(){const o=this.SourceForm.getRawValue();o.id=this.source.id,this._sourceService.save(o).subscribe(r=>{r.result&&(this._toastService.success(`Source ${o.name} saved successfully`),this._router.navigateByUrl("app/source-management/sources"))})}addSource(){const o=this.SourceForm.getRawValue();o.handle=Se.j.handleize(o.name),this.source.handle=o.handle,this._sourceService.add(o).subscribe(r=>{r.result>0&&(this.source.id=r.result,this._toastService.success(`Source ${o.name} added successfully.`),this._router.navigateByUrl("app/source-management/sources"))},r=>{console.log(r)})}sourceTypeOnChange(o){switch(o){case 1:return void(this.activeTab="LOCALDIRECTORY");case 2:return void(this.activeTab="FTP");case 3:return void(this.activeTab="SFTP");case 4:return void(this.activeTab="SALESFORCE");case 5:return void(this.activeTab="MSDYNAMICS");default:this.activeTab=""}}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(I.t),e.Y36(i.qu),e.Y36(k.k),e.Y36(s.gz),e.Y36(s.F0),e.Y36(Te.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["uc-source"]],decls:42,vars:19,consts:[["id","product",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["name","SourceForm","fxLayout","column","fxFlex","",1,"product","w-100-p",3,"formGroup"],["label","Basic Info"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","Source Name","name","name","formControlName","name"],["matInput","","placeholder","Source Description","name","description","formControlName","description","rows","5"],["appearance","outline","floatlabel","always",1,"w-30-p"],["name","type","formControlName","type","requied","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["label","SFTP",4,"ngIf"],["label","FTP",4,"ngIf"],["label","Local Directory",4,"ngIf"],["label","Salesforce",4,"ngIf"],["label","Microsoft Dynamics",4,"ngIf"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"],[3,"value"],["label","SFTP"],["matInput","","placeholder","Host","name","ftpSFTPHost","formControlName","ftpSFTPHost","required",""],["matInput","","placeholder","Port","name","ftpSFTPPort","formControlName","ftpSFTPPort","required",""],["matInput","","placeholder","Directory","name","ftpSFTPDirectory","formControlName","ftpSFTPDirectory","required",""],["matInput","","placeholder","User Name","name","ftpSFTPUsername","formControlName","ftpSFTPUsername","required",""],["matInput","","type","password","name","ftpSFTPPassword","formControlName","ftpSFTPPassword","required",""],["labelPosition","before","type","checkbox","name","isOPDEnabled","formControlName","isOPDEnabled",1,"w-30-p",3,"ngModel","ngModelChange"],["matInput","","placeholder"," Output Directory","name","ftpSFTPOutputDirectory","formControlName","ftpSFTPOutputDirectory"],["labelPosition","before","type","checkbox","name","isDNCEnabled","formControlName","isDNCEnabled",1,"w-30-p",3,"ngModel","ngModelChange"],["matInput","","type","text","name","ftpSFTPDNC","formControlName","ftpSFTPDNC"],["label","FTP"],["label","Local Directory"],["matInput","","placeholder","Directory","name","directory","formControlName","directory","required",""],["label","Salesforce"],["matInput","","placeholder","User Name","name","salesforceUserName","formControlName","salesforceUserName","required",""],["matInput","","type","password","placeholder","Password","name","salesforcePassword","formControlName","salesforcePassword","required",""],["matInput","","type","password","placeholder","Consumer Key","name","salesforceConsumerKey","formControlName","salesforceConsumerKey","required",""],["matInput","","type","password","placeholder","Consumer Secret","name","salesforceConsumerSecret","formControlName","salesforceConsumerSecret","required",""],["matInput","","type","password","placeholder","Security Token","name","salesforceSecurityToken","formControlName","salesforceSecurityToken","required",""],["label","Microsoft Dynamics"],["matInput","","placeholder","URL","name","msdURL","formControlName","msdURL","required",""],["matInput","","placeholder","Domain","name","msdDomain","formControlName","msdDomain","required",""],["matInput","","placeholder","User Name","name","msdUserName","formControlName","msdUserName","required",""],["matInput","","placeholder","Password","name","msdPassword","formControlName","msdPassword","required",""]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),e._uU(7,"arrow_back"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,ve,2,1,"div",7),e.YNc(10,Ze,2,0,"div",7),e.TgZ(11,"div",8)(12,"span"),e._uU(13,"Source Settings"),e.qZA()()()(),e.YNc(14,be,3,1,"button",9),e.YNc(15,Ae,3,1,"button",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),e._uU(24,"Source Name"),e.qZA(),e._UZ(25,"input",16),e.qZA(),e.TgZ(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"Source Description"),e.qZA(),e.TgZ(29,"textarea",17),e._uU(30,"                                    "),e.qZA()(),e.TgZ(31,"mat-form-field",18)(32,"mat-label"),e._uU(33,"Source Type"),e.qZA(),e.TgZ(34,"mat-select",19),e.NdJ("ngModelChange",function(u){return r.selectedType=u})("ngModelChange",function(){return r.sourceTypeOnChange(r.selectedType)}),e.YNc(35,Ne,2,2,"mat-option",20),e.ALo(36,"enumToArrayPipe"),e.qZA()()()(),e.YNc(37,ye,34,2,"mat-tab",21),e.YNc(38,Fe,22,0,"mat-tab",22),e.YNc(39,De,6,0,"mat-tab",23),e.YNc(40,Pe,22,0,"mat-tab",24),e.YNc(41,xe,18,0,"mat-tab",25),e.qZA()()()()()()),2&o&&(e.xp6(5),e.Q6J("routerLink","/app/source-management/sources"),e.xp6(3),e.Q6J("@animate",e.VKq(17,we,e.DdM(16,Ue))),e.xp6(1),e.Q6J("ngIf","edit"===r.pageType),e.xp6(1),e.Q6J("ngIf","new"===r.pageType),e.xp6(4),e.Q6J("ngIf","new"===r.pageType),e.xp6(1),e.Q6J("ngIf","edit"===r.pageType),e.xp6(3),e.Q6J("formGroup",r.SourceForm),e.xp6(16),e.Q6J("ngModel",r.selectedType),e.xp6(1),e.Q6J("ngForOf",e.lcZ(36,14,r.dataSourceTypes)),e.xp6(2),e.Q6J("ngIf","SFTP"===r.activeTab),e.xp6(1),e.Q6J("ngIf","FTP"===r.activeTab),e.xp6(1),e.Q6J("ngIf","LOCALDIRECTORY"===r.activeTab),e.xp6(1),e.Q6J("ngIf","SALESFORCE"===r.activeTab),e.xp6(1),e.Q6J("ngIf","MSDYNAMICS"===r.activeTab))},directives:[L.V,D.xw,D.Wh,g.lW,s.rH,l.Hw,U.O5,i._Y,i.JL,D.yH,i.sg,w.SP,w.uX,J.i,f.KE,f.hX,h.Nt,i.Fj,i.JJ,i.u,d.gD,U.sg,S.ey,i.Q7,p.oG],pipes:[_e.T],styles:[""],encapsulation:2,data:{animation:M.J}}),n})();const Ie=[{path:"",component:H},{path:"sources",component:H},{path:"source/:id",component:Q},{path:"source/:id/:handle",component:Q}];let Ce=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[I.t],imports:[[s.Bz.forChild(Ie),g.ot,N.Hi,y.To,f.lN,l.Ps,h.c,v.TU,S.si,d.LD,T.JX,b.ZX,t.p0,w.Nh,p.p9,x.Tx,_.A,Z.lJ,Z.QH]]}),n})()}}]);