"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[5691],{68117:(w,D,l)=>{l.d(D,{$O:()=>u,B3:()=>h,Fn:()=>m,LE:()=>v,SQ:()=>f,Sr:()=>_,XL:()=>S,e_:()=>T,fe:()=>N,j1:()=>A,jY:()=>C,rf:()=>r,sH:()=>x,ye:()=>c});var c=(()=>{return(t=c||(c={}))[t.Select=-1]="Select",t[t.LocalDirectory=1]="LocalDirectory",t[t.FTP=2]="FTP",t[t.SFTP=3]="SFTP",t[t.Salesforce=4]="Salesforce",c;var t})(),h=(()=>{return(t=h||(h={}))[t.Voice=1]="Voice",t[t.SMS=2]="SMS",t[t.Whatsapp=6]="Whatsapp",t[t.Email=4]="Email",t[t.DNC=3]="DNC",t[t.All=5]="All",h;var t})(),C=(()=>{return(t=C||(C={}))[t.Voice=1]="Voice",t[t.SMS=2]="SMS",t[t.Email=4]="Email",t[t.Whatsapp=6]="Whatsapp",C;var t})(),m=(()=>{return(t=m||(m={}))[t.None=0]="None",t[t.And=1]="And",t[t.Or=2]="Or",m;var t})(),f=(()=>{return(t=f||(f={}))[t.None=0]="None",t[t.Equal=1]="Equal",t[t.NotEqual=2]="NotEqual",t[t.GreaterThan=3]="GreaterThan",t[t.LessThan=4]="LessThan",t[t.GreaterOrEqual=5]="GreaterOrEqual",t[t.LessOrEqual=6]="LessOrEqual",t[t.Like=7]="Like",t[t.NotLike=8]="NotLike",t[t.Null=9]="Null",t[t.NotNull=10]="NotNull",t[t.Contains=11]="Contains",t[t.DoesNotContain=12]="DoesNotContain",t[t.BeginsWith=13]="BeginsWith",t[t.DoesNotBeginWith=14]="DoesNotBeginWith",t[t.EndsWith=15]="EndsWith",t[t.DoesNotEndWith=16]="DoesNotEndWith",f;var t})(),r=(()=>{return(t=r||(r={}))[t.Pending=1]="Pending",t[t.Duplicate=3]="Duplicate",t[t.Invalid=4]="Invalid",t[t.Excluded=6]="Excluded",t[t.Retry=7]="Retry",t[t.Imported=9]="Imported",t[t.Failed=10]="Failed",t[t.Deleted=11]="Deleted",t[t.Completed=12]="Completed",t[t.BlockedByTCPA=18]="BlockedByTCPA",t[t.Transitioned_To_SMS_Or_Email=20]="Transitioned_To_SMS_Or_Email",t[t.Received=21]="Received",t[t.Sent=22]="Sent",t[t.DoNotCall=23]="DoNotCall",r;var t})(),u=(()=>{return(t=u||(u={}))[t.Pending=0]="Pending",t[t.AnswerSuccess=10]="AnswerSuccess",t[t.SIT_UnCallable=11]="SIT_UnCallable",t[t.AnsweringMachine=12]="AnsweringMachine",t[t.NumberCouldNotBeDialed=13]="NumberCouldNotBeDialed",t[t.BusySignal=14]="BusySignal",t[t.Voice=16]="Voice",t[t.AbandonedByAgent=17]="AbandonedByAgent",t[t.NoAnswer=8]="NoAnswer",t[t.SkippedOrRejected=18]="SkippedOrRejected",t[t.SkippedOrRejectedWithClose=19]="SkippedOrRejectedWithClose",t[t.TimedOutAcceptingPreviewCall=33]="TimedOutAcceptingPreviewCall",t[t.OutboundDisconnect=50]="OutboundDisconnect",t[t.AgentUnreachable=51]="AgentUnreachable",t[t.WrapupTimeOut=52]="WrapupTimeOut",t[t.StuckInteraction=11]="StuckInteraction",t[t.Sent=61]="Sent",t[t.Fail=62]="Fail",t[t.UnSuccessful=63]="UnSuccessful",t[t.Deliverd=64]="Deliverd",t[t.UnDelivered=65]="UnDelivered",t[t.Delivery_Unknown=66]="Delivery_Unknown",t[t.Queued=67]="Queued",u;var t})(),_=(()=>{return(t=_||(_={}))[t.Pending=1]="Pending",t[t.Active=2]="Active",t[t.Completed=3]="Completed",t[t.Expired=4]="Expired",t[t.InActive=5]="InActive",_;var t})(),v=(()=>{return(t=v||(v={}))[t.Never=0]="Never",t[t.Daily=1]="Daily",t[t.Weeks=2]="Weeks",t[t.Months=3]="Months",t[t.Years=4]="Years",v;var t})(),x=(()=>{return(t=x||(x={}))[t.Pending=1]="Pending",t[t.Active=2]="Active",t[t.Completed=3]="Completed",x;var t})(),N=(()=>{return(t=N||(N={}))[t.ASC=1]="ASC",t[t.DESC=2]="DESC",N;var t})(),T=(()=>{return(t=T||(T={}))[t.Single=0]="Single",t[t.Incremental=1]="Incremental",t[t.Repetitive=2]="Repetitive",T;var t})(),A=(()=>{return(t=A||(A={}))[t.Seconds=0]="Seconds",t[t.Minutes=1]="Minutes",t[t.Hours=2]="Hours",t[t.Days=3]="Days",t[t.Weeks=4]="Weeks",t[t.Months=5]="Months",t[t.Year=6]="Year",t[t.None=9]="None",A;var t})(),S=(()=>{return(t=S||(S={}))[t.Pending=0]="Pending",t[t.InvalidNumber=1]="InvalidNumber",t[t.NoAnswer=2]="NoAnswer",t[t.Busy=3]="Busy",t[t.Fax=4]="Fax",t[t.AnsweringMachine=5]="AnsweringMachine",t[t.NetworkVoicemail=6]="NetworkVoicemail",t[t.NoRingback=7]="NoRingback",t[t.OperatorIntercept=8]="OperatorIntercept",t[t.Callback_Requested=9]="Callback_Requested",t[t.Abandoned=10]="Abandoned",t[t.AbandonedToIVR=11]="AbandonedToIVR",t[t.Flushed_Camp_Stop=12]="Flushed_Camp_Stop",t[t.Gaurd_Time_Expiry=13]="Gaurd_Time_Expiry",t[t.Flushed_Error=14]="Flushed_Error",t[t.DNC_Requested=15]="DNC_Requested",t[t.Live_Voice=16]="Live_Voice",t[t.Invalid_Cad=17]="Invalid_Cad",t[t.Dial_At_Time_Invalid=18]="Dial_At_Time_Invalid",S;var t})()},53377:(w,D,l)=>{l.d(D,{S:()=>c});class c{}},60500:(w,D,l)=>{l.d(D,{q:()=>C});var c=l(16916),g=l(94650),h=l(80529);let C=(()=>{class m{constructor(r){this._http=r,this.API_BASE_URL=c.N.apiUrl}getAllTimeZones(){return this._http.get(this.API_BASE_URL+"api/geo-info/timezones")}getAllCountries(){return this._http.get(this.API_BASE_URL+"api/geo-info/countries")}}return m.\u0275fac=function(r){return new(r||m)(g.LFG(h.eN))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},12054:(w,D,l)=>{l.d(D,{Z:()=>C});var c=l(80529),g=l(16916),h=l(94650);let C=(()=>{class m{constructor(r){this._http=r,this.API_BASE_URL=g.N.apiUrl}getAll(r,u,_,v="",x=""){return this._http.get(this.API_BASE_URL+"api/leadlist/get",{params:(new c.LE).set("index",r.toString()).set("size",u.toString()).set("listPurpose",_.toString()).set("searchItem",v).set("sortBy",x)})}addList(r){return this._http.post(this.API_BASE_URL+"api/leadlist/add",r)}deleteList(r){return this._http.delete(this.API_BASE_URL+`api/leadlist/delete/${r}`)}saveList(r){return this._http.put(this.API_BASE_URL+`api/leadlist/update/${r.id}`,r)}getById(r){return this._http.get(this.API_BASE_URL+`api/leadlist/get/${r}`)}getLeadHeader(r,u=0,_=null,v=null,x=""){let N=(new c.LE).set("listId",r.toString()).set("sourceId",u.toString());return _&&(N=N.set("crmObject",_)),v&&x&&(N=N.set("filePath",v).set("delimiter",x)),this._http.get(this.API_BASE_URL+"api/leadlist/get/list-headers",{params:N})}postFile(r,u){const _=this.API_BASE_URL+"api/file/v2/upload",v=new FormData;return v.append("file",r,r.name),v.append("directory",u),this._http.post(_,v)}getSalesforceObjects(r){return this._http.get(this.API_BASE_URL+"api/leadlist/get/objects",{params:(new c.LE).set("sourceId",r.toString())})}getAllGroupByList(){return this._http.get(this.API_BASE_URL+"api/leadlist/getAllGroupByList",{})}}return m.\u0275fac=function(r){return new(r||m)(h.LFG(c.eN))},m.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},77394:(w,D,l)=>{l.d(D,{J:()=>C});var c=l(94650),g=l(65938),h=l(4859);let C=(()=>{class m{constructor(r){this.dialogRef=r}}return m.\u0275fac=function(r){return new(r||m)(c.Y36(g.so))},m.\u0275cmp=c.Xpm({type:m,selectors:[["cuc-confirm-dialog"]],decls:9,vars:1,consts:[["matDialogTitle",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end",1,"pt-24"],["mat-raised-button","",1,"mat-accent","mr-16",3,"click"],["mat-raised-button","",3,"click"]],template:function(r,u){1&r&&(c.TgZ(0,"h1",0),c._uU(1,"Confirm"),c.qZA(),c.TgZ(2,"div",1),c._uU(3),c.qZA(),c.TgZ(4,"div",2)(5,"button",3),c.NdJ("click",function(){return u.dialogRef.close(!0)}),c._uU(6,"Confirm"),c.qZA(),c.TgZ(7,"button",4),c.NdJ("click",function(){return u.dialogRef.close(!1)}),c._uU(8,"Cancel"),c.qZA()()),2&r&&(c.xp6(3),c.Oqu(u.confirmMessage))},directives:[g.uh,g.xY,g.H8,h.lW],styles:[""]}),m})()},69949:(w,D,l)=>{l.r(D),l.d(D,{DNCListModule:()=>pt});var c=l(93917),g=l(36895),h=l(4859),C=l(3238),m=l(59549),f=l(97392),r=l(44144),u=l(84385),_=l(56709),v=l(99602),x=l(8882),N=l(82689),T=l(33054),A=l(27974),S=l(44850),t=l(96308),p=l(2143),F=l(3848),I=l(28255),y=l(68117),E=l(79497),K=l(77394),X=l(23753),O=l(36787),G=l(21086),M=l(1059),H=l(87545),U=l(24850),k=l(27221),e=l(94650),j=l(65938),J=l(6072),B=l(96560),L=l(1576),P=l(43764);const W=["searchDncList"];function R(a,o){1&a&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"Name"),e.qZA())}function ee(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",31),e._uU(2),e.qZA()()),2&a){const n=o.$implicit;e.xp6(2),e.Oqu(n.name)}}function te(a,o){1&a&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"Size"),e.qZA())}function ne(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",31),e._uU(2),e.qZA()()),2&a){const n=o.$implicit;e.xp6(2),e.Oqu(n.size)}}function ae(a,o){1&a&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"DNC Type"),e.qZA())}function ie(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",31),e._uU(2),e.qZA()()),2&a){const n=o.$implicit;e.xp6(2),e.Oqu(n.dncSourceType)}}function oe(a,o){1&a&&(e.TgZ(0,"mat-header-cell",30),e._uU(1,"Created On"),e.qZA())}function le(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",31),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&a){const n=o.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,n.createdOn+"Z","medium"))}}function se(a,o){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function re(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"mat-cell")(1,"button",32),e.NdJ("click",function(){const b=e.CHM(n).$implicit;return e.oxw().goToSendDetails(b)}),e.TgZ(2,"span",33)(3,"mat-icon"),e._uU(4,"open_in_new"),e.qZA()()(),e.TgZ(5,"button",34),e.NdJ("click",function(s){return s.stopPropagation()}),e.TgZ(6,"mat-icon",35),e._uU(7,"more_vert"),e.qZA()(),e.TgZ(8,"mat-menu",null,36)(10,"button",37),e.NdJ("click",function(){const b=e.CHM(n).$implicit;return e.oxw().deleteGlobalDNC(b)}),e.TgZ(11,"mat-icon"),e._uU(12,"delete"),e.qZA(),e.TgZ(13,"span"),e._uU(14,"Delete"),e.qZA()()()()}if(2&a){const n=e.MAs(9);e.xp6(5),e.Q6J("matMenuTriggerFor",n)}}function ce(a,o){1&a&&e._UZ(0,"mat-header-row")}function me(a,o){1&a&&e._UZ(0,"mat-row",38)}function de(a,o){1&a&&(e.TgZ(0,"div",39)(1,"center"),e._uU(2," No Records found. "),e.qZA()())}const ue=function(){return{delay:"50ms",scale:"0.2"}},$=function(a){return{value:"*",params:a}},pe=function(){return{delay:"100ms",x:"-25px"}},ge=function(){return{value:"50"}},he=function(){return[5,10,25,100]};let V=(()=>{class a{constructor(n,i,s){this._globalDNCService=n,this._matDialog=i,this._snackbarService=s,this.filteredAndPagedLists=[],this.displayedColumns=["name","dncSourceType","size","createdOn","actions"],this.resultsLength=0,this.holidayStatus=y.sH}ngOnInit(){}ngAfterViewInit(){let n=(0,X.R)(this.searchHoliday.nativeElement,"keyup");(0,O.T)(this.sort.sortChange,this.paginator.page,n).pipe((0,M.O)({}),(0,H.w)(()=>this._globalDNCService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize)),(0,U.U)(i=>(this.resultsLength=i.result.total,i.result.items)),(0,k.K)(()=>(0,G.of)([]))).subscribe(i=>{this.filteredAndPagedLists=i,console.log("Fetched global DNCs numbers:",this.filteredAndPagedLists)})}reload(){this._globalDNCService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchHoliday.nativeElement.value,this.sort.direction).subscribe(n=>{this.filteredAndPagedLists=n.result.items,console.log(n)})}deleteGlobalDNC(n){this.confirmDialogRef=this._matDialog.open(K.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete DNC list?",this.confirmDialogRef.afterClosed().subscribe(i=>{i&&this._globalDNCService.delete(n.id).subscribe(s=>{s&&(this._snackbarService.success("DNC list deleted successfully."),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(b=>b.id==n.id),1),this.matGlobalDNCTable.renderRows())}),this.confirmDialogRef=null})}goToSendDetails(n){console.log(n),window.open("/app/dnc-management/dnc-details/"+n.id)}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(T.o),e.Y36(j.uw),e.Y36(J.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-dnc-list-home"]],viewQuery:function(n,i){if(1&n&&(e.Gf(A.NW,7),e.Gf(t.YE,7),e.Gf(p.BZ,5),e.Gf(W,7)),2&n){let s;e.iGM(s=e.CRH())&&(i.paginator=s.first),e.iGM(s=e.CRH())&&(i.sort=s.first),e.iGM(s=e.CRH())&&(i.matGlobalDNCTable=s.first),e.iGM(s=e.CRH())&&(i.searchHoliday=s.first)}},decls:47,vars:19,consts:[["id","dnc-list-home",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a DNC list"],["searchDncList",""],["mat-raised-button","",1,"cuc-white","mt-24","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"globalDNCs-table",3,"dataSource"],["matGlobalDNCTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","size"],["matColumnDef","dncSourceType"],["matColumnDef","createdOn"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","holiday-row",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],[3,"length","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],["target","_blank","color","accent","mat-icon-button","","color","primary",3,"click"],[1,"material-icons"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"holiday-row"],[1,"no-data-message"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),e._uU(6," phone_disabled "),e.qZA(),e.TgZ(7,"span",6),e._uU(8," DNC List Management "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),e._uU(12,"search"),e.qZA(),e._UZ(13,"input",9,10),e.qZA()(),e.TgZ(15,"button",11)(16,"mat-icon"),e._uU(17,"add"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Add DNC List"),e.qZA()()(),e.TgZ(20,"div",12)(21,"mat-table",13,14),e.ynx(23,15),e.YNc(24,R,2,0,"mat-header-cell",16),e.YNc(25,ee,3,1,"mat-cell",17),e.BQk(),e.ynx(26,18),e.YNc(27,te,2,0,"mat-header-cell",16),e.YNc(28,ne,3,1,"mat-cell",17),e.BQk(),e.ynx(29,19),e.YNc(30,ae,2,0,"mat-header-cell",16),e.YNc(31,ie,3,1,"mat-cell",17),e.BQk(),e.ynx(32,20),e.YNc(33,oe,2,0,"mat-header-cell",16),e.YNc(34,le,4,4,"mat-cell",17),e.BQk(),e.ynx(35,21),e.YNc(36,se,2,0,"mat-header-cell",22),e.YNc(37,re,15,1,"mat-cell",17),e.BQk(),e.YNc(38,ce,1,0,"mat-header-row",23),e.YNc(39,me,1,0,"mat-row",24),e.qZA(),e.YNc(40,de,3,0,"div",25),e.TgZ(41,"div",26)(42,"button",27),e.NdJ("click",function(){return i.reload()}),e.TgZ(43,"mat-icon"),e._uU(44,"refresh"),e.qZA()(),e._UZ(45,"mat-paginator",28,29),e.qZA()()()()),2&n&&(e.xp6(5),e.Q6J("@animate",e.VKq(12,$,e.DdM(11,ue))),e.xp6(2),e.Q6J("@animate",e.VKq(15,$,e.DdM(14,pe))),e.xp6(8),e.Q6J("routerLink","/app/dnc-management/dnc-list/new"),e.xp6(6),e.Q6J("dataSource",i.filteredAndPagedLists)("@animateStagger",e.DdM(17,ge)),e.xp6(17),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==i.filteredAndPagedLists.length),e.xp6(5),e.Q6J("length",i.resultsLength)("pageSizeOptions",e.DdM(18,he)))},directives:[B.V,L.xw,L.Wh,f.Hw,L.yH,h.lW,c.rH,p.BZ,t.YE,P.i,p.w1,p.fO,p.ge,t.nU,p.Dz,p.ev,I.p6,I.VK,I.OP,p.as,p.XQ,p.nj,p.Gk,g.O5,A.NW],pipes:[g.uU],styles:["@media screen and (max-width: 959px){uc-dnc-list-home #dnc-list-home .top-bg{height:256px}}uc-dnc-list-home #dnc-list-home>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-dnc-list-home #dnc-list-home>.center>.header .search-wrapper{width:100%}}uc-dnc-list-home #dnc-list-home>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-dnc-list-home #dnc-list-home>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-dnc-list-home #dnc-list-home>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}\n"],encapsulation:2,data:{animation:E.J}}),a})();var d=l(24006),fe=l(74357);class Q{constructor(o){this.id=(o=o||{}).id||0,this.name=o.name||"",this.sourceType=o.sourceType||"",this.size=o.size||0,this.sourceId=o.sourceId||0,this.dncSourceType=o.dncSourceType||"",this.dncsftpType=o.dncsftpType||"",this.recurrence=o.recurrence||y.e_.Single,this.recurrenceInterval=o.recurrenceInterval||0,this.recurrenceIntervalUnit=o.recurrenceIntervalUnit||y.j1.None,this.createdOn=o.createdOn||"",this.delimiter=o.delimiter||"",this.dncColumn=o.dncColumn||"",this.firstName=o.firstName||"",this.lastName=o.lastName||"",this.country=o.country||new fe.C,this.crmObject=o.crmObject||"",this.dncCodes=o.dncCodes||[],this.loginId=o.loginId||""}}var z=l(40368),_e=l(60500),ve=l(12054),Ne=l(63687),be=l(17009),Y=l(47957);function Ce(a,o){if(1&a&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&a){const n=e.oxw();e.xp6(1),e.hij(" ",n.globalDNC.phoneNumber," ")}}function De(a,o){1&a&&(e.TgZ(0,"div",25),e._uU(1,"New Dnc List"),e.qZA())}function xe(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(n),e.oxw().addGlobalDNC()}),e.TgZ(1,"span"),e._uU(2,"Add"),e.qZA()()}if(2&a){const n=e.oxw();e.Q6J("disabled",n.GlobalDNCForm.invalid)}}function Te(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(n),e.oxw().saveGlobalDNC()}),e.TgZ(1,"span"),e._uU(2,"Save"),e.qZA()()}if(2&a){const n=e.oxw();e.Q6J("disabled",n.GlobalDNCForm.invalid||n.GlobalDNCForm.pristine)}}function Ae(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.text," ")}}function Ze(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.name,"")}}function ye(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.text,"")}}function Le(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n,"")}}function Se(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"div",15)(1,"mat-form-field",41)(2,"mat-label"),e._uU(3,"CRM Object"),e.qZA(),e.TgZ(4,"mat-select",42),e.NdJ("ngModelChange",function(){return e.CHM(n),e.oxw(2).crmObjectChanged()}),e.YNc(5,Le,2,2,"mat-option",23),e.qZA()()()}if(2&a){const n=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",n.crmObjects)}}function we(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.key," ")}}function Ie(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n.name," ")}}function Ue(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.key," ")}}function Fe(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.key," ")}}function Ee(a,o){1&a&&(e.TgZ(0,"mat-form-field",29)(1,"mat-label"),e._uU(2,"Recurrence Interval"),e.qZA(),e._UZ(3,"input",43),e.qZA())}function Me(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.text," ")}}function Je(a,o){if(1&a&&(e.TgZ(0,"mat-form-field",29)(1,"mat-label"),e._uU(2,"Iteration"),e.qZA(),e.TgZ(3,"mat-select",44),e.YNc(4,Me,2,2,"mat-option",23),e.ALo(5,"enumToArrayPipe"),e.qZA()()),2&a){const n=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,1,n.timeUnit))}}function Be(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"mat-tab",28)(1,"div",14)(2,"div",15)(3,"mat-form-field",29)(4,"mat-label"),e._uU(5,"Source Name"),e.qZA(),e.TgZ(6,"mat-select",30),e.NdJ("ngModelChange",function(){return e.CHM(n),e.oxw().availableSourcesOnChange()}),e.YNc(7,Ze,2,2,"mat-option",23),e.qZA()(),e.TgZ(8,"mat-form-field",29)(9,"mat-label"),e._uU(10,"Recurrence"),e.qZA(),e.TgZ(11,"mat-select",31),e.YNc(12,ye,2,2,"mat-option",23),e.ALo(13,"enumToArrayPipe"),e.qZA()()(),e.YNc(14,Se,6,1,"div",32),e.TgZ(15,"div",15)(16,"mat-form-field",33)(17,"mat-label"),e._uU(18,"Phone Column"),e.qZA(),e.TgZ(19,"mat-select",34),e.YNc(20,we,2,2,"mat-option",23),e.qZA()(),e.TgZ(21,"mat-form-field",29)(22,"mat-label"),e._uU(23,"Country"),e.qZA(),e._UZ(24,"input",35),e.TgZ(25,"mat-autocomplete",36,37),e.YNc(27,Ie,2,2,"mat-option",23),e.ALo(28,"async"),e.qZA()()(),e.TgZ(29,"div",15)(30,"mat-form-field",33)(31,"mat-label"),e._uU(32,"First Name"),e.qZA(),e.TgZ(33,"mat-select",38),e.YNc(34,Ue,2,2,"mat-option",23),e.qZA()(),e.TgZ(35,"mat-form-field",33)(36,"mat-label"),e._uU(37,"Last Name"),e.qZA(),e.TgZ(38,"mat-select",39),e.YNc(39,Fe,2,2,"mat-option",23),e.qZA()()(),e.TgZ(40,"div",15),e.YNc(41,Ee,4,0,"mat-form-field",40),e.YNc(42,Je,6,3,"mat-form-field",40),e.qZA()()()}if(2&a){const n=e.MAs(26),i=e.oxw();e.xp6(7),e.Q6J("ngForOf",i.availableSources),e.xp6(5),e.Q6J("ngForOf",e.lcZ(13,11,i.recurrenceType)),e.xp6(2),e.Q6J("ngIf",4==i.GlobalDNCForm.get("sourceType").value),e.xp6(6),e.Q6J("ngForOf",i.listHeaders),e.xp6(4),e.Q6J("matAutocomplete",n),e.xp6(1),e.Q6J("displayWith",i.displayCountryNameFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(28,13,i.filteredCountryCodes)),e.xp6(7),e.Q6J("ngForOf",i.listHeaders),e.xp6(5),e.Q6J("ngForOf",i.listHeaders),e.xp6(2),e.Q6J("ngIf",i.GlobalDNCForm.get("recurrence").value==i.recurrenceType.Incremental||i.GlobalDNCForm.get("recurrence").value==i.recurrenceType.Repetitive),e.xp6(1),e.Q6J("ngIf",i.GlobalDNCForm.get("recurrence").value==i.recurrenceType.Incremental||i.GlobalDNCForm.get("recurrence").value==i.recurrenceType.Repetitive)}}function Pe(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"div",49)(1,"mat-checkbox",50),e.NdJ("ngModelChange",function(s){return e.CHM(n).$implicit.isSelected=s}),e._uU(2),e.qZA()()}if(2&a){const n=o.$implicit;e.xp6(1),e.Q6J("ngModel",n.isSelected),e.xp6(1),e.hij(" ",n.text," ")}}function Qe(a,o){if(1&a&&(e.TgZ(0,"div")(1,"span"),e._uU(2,"Codes That Can't Be Called"),e.qZA(),e.YNc(3,Pe,3,2,"div",48),e.qZA()),2&a){const n=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",n.dncCodes)}}function Ye(a,o){if(1&a&&(e.TgZ(0,"mat-tab",28)(1,"div",14)(2,"div",15)(3,"mat-form-field",16)(4,"mat-label"),e._uU(5,"Login Id"),e.qZA(),e._UZ(6,"input",45),e.TgZ(7,"mat-hint"),e._uU(8,"DNC.com login Id must be exactly 44 characters."),e.qZA()()(),e.TgZ(9,"div",46),e.YNc(10,Qe,4,1,"div",47),e.qZA()()()),2&a){const n=e.oxw();e.xp6(10),e.Q6J("ngIf","dnc.com"==n.GlobalDNCForm.get("dncSourceType").value)}}function qe(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.name,"")}}function Oe(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.key," ")}}function Ge(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n.name," ")}}function He(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.key," ")}}function ke(a,o){if(1&a&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&a){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.key," ")}}function je(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"mat-tab",28)(1,"div",51)(2,"mat-form-field",29)(3,"mat-label"),e._uU(4,"Source Name"),e.qZA(),e.TgZ(5,"mat-select",30),e.NdJ("ngModelChange",function(){return e.CHM(n),e.oxw().availableSourcesOnChange()}),e.YNc(6,qe,2,2,"mat-option",23),e.qZA()(),e.TgZ(7,"div",29)(8,"div",52)(9,"label",53),e._uU(10,"Choose File"),e.qZA(),e.TgZ(11,"input",54),e.NdJ("change",function(s){return e.CHM(n),e.oxw().uploadDNCFile(s.target.files)}),e.qZA()()()(),e.TgZ(12,"div",55)(13,"mat-form-field",33)(14,"mat-label"),e._uU(15,"Phone Column"),e.qZA(),e.TgZ(16,"mat-select",34),e.YNc(17,Oe,2,2,"mat-option",23),e.qZA()(),e.TgZ(18,"mat-form-field",29)(19,"mat-label"),e._uU(20,"Country"),e.qZA(),e._UZ(21,"input",35),e.TgZ(22,"mat-autocomplete",36,37),e.YNc(24,Ge,2,2,"mat-option",23),e.ALo(25,"async"),e.qZA()()(),e.TgZ(26,"div",55)(27,"mat-form-field",33)(28,"mat-label"),e._uU(29,"First Name"),e.qZA(),e.TgZ(30,"mat-select",38),e.YNc(31,He,2,2,"mat-option",23),e.qZA()(),e.TgZ(32,"mat-form-field",33)(33,"mat-label"),e._uU(34,"Last Name"),e.qZA(),e.TgZ(35,"mat-select",39),e.YNc(36,ke,2,2,"mat-option",23),e.qZA()()()()}if(2&a){const n=e.MAs(23),i=e.oxw();e.xp6(6),e.Q6J("ngForOf",i.availableSources),e.xp6(11),e.Q6J("ngForOf",i.listHeaders),e.xp6(4),e.Q6J("matAutocomplete",n),e.xp6(1),e.Q6J("displayWith",i.displayCountryNameFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(25,7,i.filteredCountryCodes)),e.xp6(7),e.Q6J("ngForOf",i.listHeaders),e.xp6(5),e.Q6J("ngForOf",i.listHeaders)}}const $e=function(){return{delay:"100ms",x:"-25px"}},Ve=function(a){return{value:"*",params:a}};let ze=(()=>{class a{constructor(n,i,s,b,Z,q,gt,ht,ft){this._globalDNCService=n,this._geoInfoService=i,this._leadListService=s,this._sourceService=b,this._formBuilder=Z,this.route=q,this._router=gt,this._matSnackBar=ht,this._snackbarService=ft,this.dataSourceTypes=[],this.listHeaders=[],this.crmObjects=[],this.timeUnit=y.j1,this.recurrenceType=y.e_,this.availableSources=[],this.selectedDncCodes=[],this.dncCodes=[{text:"Blocked",value:"B",isSelected:!1},{text:"Clean",value:"C",isSelected:!1},{text:"DNC database match",value:"D",isSelected:!1},{text:"Valid EBR (existing business relationship); number can be called",value:"E",isSelected:!1},{text:"Valid EBR and wireless number in a US state that prohibits manual/non-manual telemarketing to wireless numbers",value:"F",isSelected:!1},{text:"US wireless number; valid EBR; no DNC database match; cannot be called from a predictive dialer as EBRs do not constitute an exemption from those rules",value:"G",isSelected:!1},{text:"US wireless number; valid EBR overriding an otherwise DNC number; cannot be called from a predictive dialer as EBRs do not constitute an exemption from those rules",value:"H",isSelected:!1},{text:" Invalid phone number",value:"I",isSelected:!1},{text:"Wireless number in a US state that prohibits manual/non-manual telemarketing to wireless numbers; not on any DNC list; not an EBR",value:"L",isSelected:!1},{text:"Malformed, i.e. not a 10-digit number; never reported",value:"M",isSelected:!1},{text:"EBR overriding an otherwise DNC number (including an explicit EBR overriding a number in Project DNC); number can be called",value:"O",isSelected:!1},{text:"Project DNC or DNF database match",value:"P",isSelected:!1},{text:"Expired EBR; not on a DNC list; number can be called",value:"R",isSelected:!1},{text:"Disconnected",value:"S",isSelected:!1},{text:"Tier C phone company",value:"T",isSelected:!1},{text:"Valid EBR overriding otherwise DNC number; wireless number in a US state that prohibits manual/non-manual telemarketing to wireless numbers",value:"V",isSelected:!1},{text:"US wireless number; no DNC database match (or overridden by an industry exemption); cannot be called from a predictive dialer",value:"W",isSelected:!1},{text:"Industry exemption applied to an otherwise DNC number; number can be called",value:"X",isSelected:!1},{text:"VoIP number not in any DNC databases (or overridden by an industry exemption)",value:"Y",isSelected:!1}],this.globalDNC=new Q,this.dataSourceTypes=(new z.T).transform(y.ye)}ngOnInit(){this.routeParams=this.route.params,this.GlobalDNCForm=this.createCreateForm(),this._geoInfoService.getAllCountries().subscribe(n=>{this.countryCodes=n.result,console.log(this.countryCodes);const i=this.countryCodes.find(s=>s.IsCurrentServerCountry);i&&this.GlobalDNCForm.get("country").setValue(i),this.filteredCountryCodes=this.GlobalDNCForm.get("country").valueChanges.pipe((0,M.O)(""),(0,U.U)(s=>"string"==typeof s?s:s.name),(0,U.U)(s=>s?this._filterCountries(s):this.countryCodes.slice()))}),"new"===this.routeParams.value.id?(this.pageType="new",this.globalDNC=new Q,this.getDataSourceByType(this.globalDNC.sourceType)):(this.pageType="edit",this._globalDNCService.getById(this.routeParams.value.id).subscribe(n=>{console.log(n),this.globalDNC=new Q(n.result),this.GlobalDNCForm=this.createCreateForm()})),this.GlobalDNCForm.controls.sourceType.valueChanges.subscribe(n=>{console.log(this.GlobalDNCForm),this.sourceTypeOnChange(n),this.getDataSourceByType(n)})}_filterCountries(n){const i=n.toLowerCase();return this.countryCodes.filter(s=>s.name.toLowerCase().includes(i))}displayCountryNameFn(n){return n&&n.name?n.name:void 0}createCreateForm(){return this._formBuilder.group({id:new d.NI(this.globalDNC.id),name:new d.NI(this.globalDNC.name,[d.kI.maxLength(44)]),dncSourceType:new d.NI(this.globalDNC.dncSourceType),sourceType:new d.NI(this.globalDNC.sourceType,[d.kI.required]),dncsftpType:new d.NI(this.globalDNC.dncsftpType),recurrence:[this.globalDNC.recurrence],recurrenceInterval:new d.NI(this.globalDNC.recurrenceInterval),recurrenceIntervalUnit:[this.globalDNC.recurrenceIntervalUnit],sourceId:new d.NI(this.globalDNC.sourceId,[d.kI.required]),dncColumn:new d.NI(this.globalDNC.dncColumn),firstName:new d.NI(this.globalDNC.firstName),lastName:new d.NI(this.globalDNC.lastName),country:new d.NI(this.globalDNC.country),crmObject:[this.globalDNC.crmObject],dncCodes:new d.NI(this.globalDNC.dncCodes),loginId:new d.NI(this.globalDNC.loginId,[d.kI.minLength(44),d.kI.maxLength(44)])})}saveGlobalDNC(){const n=this.GlobalDNCForm.getRawValue();n.dncCodes=this.dncCodes.filter(i=>i.isSelected).map(i=>i.value),this._globalDNCService.save(n).subscribe(i=>{i.result&&(this._snackbarService.success(`List ${n.name} updated successfully.`),this._router.navigateByUrl("app/dnc-management"))})}addGlobalDNC(){const n=this.GlobalDNCForm.getRawValue();n.id="00000000-0000-0000-0000-000000000000",n.filePath=this.uploadedFilePath,console.log(n),n.dncCodes=this.dncCodes.filter(i=>i.isSelected).map(i=>i.value),this._globalDNCService.add(n).subscribe(i=>{i.result&&(this.globalDNC.id=i.result,this._snackbarService.success(`List ${n.name} added successfully.`),this._router.navigateByUrl("app/dnc-management"))})}sourceTypeOnChange(n){switch(n){case 1:return void(this.activeTab="LOCALDIRECTORY");case 2:return void(this.activeTab="FTP");case 3:return void(this.activeTab="SFTP");case 4:return void(this.activeTab="SALESFORCE");case 5:return void(this.activeTab="MSDYNAMICS");default:this.activeTab=""}}availableSourcesOnChange(){let n=this.GlobalDNCForm.value.sourceId,i="";return("SFTP"==this.activeTab||"FTP"==this.activeTab)&&this.availableSources.forEach(s=>{s.id==n&&(i=s.name,console.log(this.availableSources),this.getHeaders(this.GlobalDNCForm.value.sourceId,null,this.fileDBPath,this.GlobalDNCForm.value.delimiter))}),i}getHeaders(n,i=null,s=null,b=null){this._globalDNCService.getLeadHeader(0,n,i,s,b).subscribe(Z=>{this.listHeaders=Z.result,console.log(this.listHeaders)})}getDataSourceByType(n){this._sourceService.getBySourceType(n).subscribe(i=>{i.result.items.length>0&&(this.availableSources=i.result.items,4==n&&this._leadListService.getSalesforceObjects(this.availableSources[0].id).subscribe(s=>{this.crmObjects=s.result}))})}uploadDNCFile(n){const i=n.item(0);this._globalDNCService.postFile(i).subscribe(s=>{this.uploadedFilePath=s.result,console.log("Uploaded file::",this.uploadedFilePath),this.getHeaders(this.GlobalDNCForm.value.sourceId,null,this.uploadedFilePath,this.GlobalDNCForm.value.delimiter)},s=>{console.log(s)})}crmObjectChanged(){let n=this.GlobalDNCForm.value.sourceId,i=this.GlobalDNCForm.value.crmObject;n&&i&&this.getHeaders(n,i)}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(T.o),e.Y36(_e.q),e.Y36(ve.Z),e.Y36(Ne.t),e.Y36(d.qu),e.Y36(c.gz),e.Y36(c.F0),e.Y36(be.ux),e.Y36(J.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-dnc-list"]],decls:45,vars:14,consts:[[1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["fxLayout","column","fxFlex","",1,"form-lead-assign",3,"formGroup"],["label","Basic Info"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["fxLayout","row","fxLayoutAlign","space-between"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","Name","name","name","formControlName","name"],["appearance","outline","floatlabel","always",1,"w-100-p"],["name","dncSourceType","formControlName","dncSourceType","requied",""],["value","internal"],["value","dnc.com"],["formControlName","sourceType","requied",""],[3,"value",4,"ngFor","ngForOf"],["label","Settings",4,"ngIf"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"],[3,"value"],["label","Settings"],["appearance","outline","floatLabel","always","fxFlex","48"],["placeholder","Source Name","name","sourceId","formControlName","sourceId","required","",3,"ngModelChange"],["formControlName","recurrence","required",""],["fxLayout","row","fxLayoutAlign","space-between",4,"ngIf"],["appearance","outline","floatlabel","always","fxFlex","48"],["placeholder","Selection Required","formControlName","dncColumn"],["type","text","placeholder","Select country","matInput","","formControlName","country","required","",3,"matAutocomplete"],[3,"displayWith"],["autoCountry","matAutocomplete"],["placeholder","Selection Required","formControlName","firstName"],["placeholder","Selection Required","formControlName","lastName"],["appearance","outline","floatLabel","always","fxFlex","48",4,"ngIf"],["appearance","outline","floatlabel","always",1,"w-30-p"],["placeholder","CRM Object","formControlName","crmObject",3,"ngModelChange"],["matInput","","placeholder","Interval should be equal or greater than 30 minutes","name","recurrenceInterval","formControlName","recurrenceInterval"],["formControlName","recurrenceIntervalUnit"],["matInput","","placeholder","Login Id","formControlName","loginId"],["fxLayout","row","fxLayoutAlign","space-between",2,"margin-top","5px","margin-bottom","5px"],[4,"ngIf"],["style","margin-top: 4px;",4,"ngFor","ngForOf"],[2,"margin-top","4px"],["formControlName","dncCodes",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-around",2,"margin-top","10px"],[1,"form-group"],["for","file"],["type","file","id","file",3,"change"],["fxLayout","row","fxLayoutAlign","space-around"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),e._uU(7,"arrow_back"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,Ce,2,1,"div",7),e.YNc(10,De,2,0,"div",7),e.TgZ(11,"div",8)(12,"span"),e._uU(13,"DNC List Settings"),e.qZA()()()(),e.YNc(14,xe,3,1,"button",9),e.YNc(15,Te,3,1,"button",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"div",15)(23,"mat-form-field",16)(24,"mat-label"),e._uU(25,"DNC List Name"),e.qZA(),e._UZ(26,"input",17),e.qZA()(),e.TgZ(27,"div",15)(28,"mat-form-field",18)(29,"mat-label"),e._uU(30,"Dnc List Type"),e.qZA(),e.TgZ(31,"mat-select",19)(32,"mat-option",20),e._uU(33,"Internal"),e.qZA(),e.TgZ(34,"mat-option",21),e._uU(35,"dnc.com"),e.qZA()()()(),e.TgZ(36,"div",15)(37,"mat-form-field",18)(38,"mat-label"),e._uU(39,"Source Type"),e.qZA(),e.TgZ(40,"mat-select",22),e.YNc(41,Ae,2,2,"mat-option",23),e.qZA()()()()(),e.YNc(42,Be,43,15,"mat-tab",24),e.YNc(43,Ye,11,1,"mat-tab",24),e.YNc(44,je,37,9,"mat-tab",24),e.qZA()()()()()()),2&n&&(e.xp6(5),e.Q6J("routerLink","/app/dnc-management/dnc-list"),e.xp6(3),e.Q6J("@animate",e.VKq(12,Ve,e.DdM(11,$e))),e.xp6(1),e.Q6J("ngIf","edit"===i.pageType),e.xp6(1),e.Q6J("ngIf","new"===i.pageType),e.xp6(4),e.Q6J("ngIf","new"===i.pageType),e.xp6(1),e.Q6J("ngIf","edit"===i.pageType),e.xp6(3),e.Q6J("formGroup",i.GlobalDNCForm),e.xp6(23),e.Q6J("ngForOf",i.dataSourceTypes),e.xp6(1),e.Q6J("ngIf",5==i.GlobalDNCForm.get("sourceType").value||2==i.GlobalDNCForm.get("sourceType").value||3==i.GlobalDNCForm.get("sourceType").value),e.xp6(1),e.Q6J("ngIf","dnc.com"==i.GlobalDNCForm.get("dncSourceType").value),e.xp6(1),e.Q6J("ngIf","internal"==i.GlobalDNCForm.get("dncSourceType").value&&1==i.GlobalDNCForm.get("sourceType").value))},directives:[B.V,L.xw,L.Wh,h.lW,c.rH,f.Hw,g.O5,d._Y,d.JL,L.yH,d.sg,F.SP,F.uX,P.i,m.KE,m.hX,r.Nt,d.Fj,d.JJ,d.u,u.gD,C.ey,g.sg,d.Q7,Y.ZL,Y.XC,m.bx,_.oG],pipes:[z.T,g.Ov],styles:[".form-lead-assign{width:500px;height:800px}\n"],encapsulation:2,data:{animation:E.J}}),a})();var Ke=l(83683),Xe=l(5764),We=l(62335),Re=l(17622);const et=["filter"],tt=["input"];function nt(a,o){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Name"),e.qZA())}function at(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",17),e._uU(2),e.qZA()()),2&a){const n=o.$implicit;e.xp6(2),e.AsE("",n.firstName," ",n.lastName,"")}}function it(a,o){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Phone Number"),e.qZA())}function ot(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",17),e._uU(2),e.qZA()()),2&a){const n=o.$implicit;e.xp6(2),e.Oqu(n.phoneNumber)}}function lt(a,o){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Processed On "),e.qZA())}function st(a,o){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.createdOn+"Z","medium")," ")}}function rt(a,o){1&a&&e._UZ(0,"mat-header-row")}function ct(a,o){if(1&a){const n=e.EpF();e.TgZ(0,"mat-row",18),e.NdJ("click",function(){const b=e.CHM(n).$implicit;return e.oxw().toggleRow(b)}),e.qZA()}}const mt=function(){return{value:"50"}},dt=function(){return[5,10,25,50]},ut=[{path:"",component:V},{path:"dnc-list",component:V},{path:"dnc-list/:id",component:ze},{path:"dnc-details/:id",component:(()=>{class a{constructor(n,i,s,b,Z,q){this._smsDetailsService=n,this._dncListService=i,this._activatedRoute=s,this._matDialog=b,this._cucConfigService=Z,this._toastService=q,this.recordStatuses=y.rf,this.recordResults=y.$O,this.filteredAndPagedLists=[],this.resultsLength=0,this.isFilterAreaVisible=!1,this.displayedColumns=["name","phoneNumber","processedOn"],this.listName="",this.routeParams=this._activatedRoute.params,this.smscampaign=new Xe._,this._cucConfigService.config={layout:{navbar:{hidden:!1,folded:!0},toolbar:{hidden:!1},footer:{hidden:!1},sidepanel:{hidden:!0}}}}ngOnInit(){this.filterApplyForm=new d.cw({recordStatus:new d.NI(""),recordResult:new d.NI("")})}ngAfterViewInit(){(0,O.T)(this.sort.sortChange,this.paginator.page).pipe((0,M.O)({}),(0,H.w)(()=>this._dncListService.getDncDetails(this.routeParams.value.id,this.paginator.pageIndex+1,this.paginator.pageSize)),(0,U.U)(n=>n),(0,k.K)(()=>(0,G.of)([]))).subscribe(n=>{n.result&&(this.resultsLength=n.result.total,this.filteredAndPagedLists=n.result.items,this.listName=n.result.items[0].listName),console.log(n)})}submitFiltersForm(){console.log(this.routeParams),this._dncListService.getDncDetails(this.routeParams.value.id,this.paginator.pageIndex+1,this.paginator.pageSize).subscribe(n=>{n.result&&(this.resultsLength=n.result.total,this.filteredAndPagedLists=n.result.items)})}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(We.W),e.Y36(T.o),e.Y36(c.gz),e.Y36(j.uw),e.Y36(Re.F),e.Y36(J.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-dnc-list-details"]],viewQuery:function(n,i){if(1&n&&(e.Gf(A.NW,7),e.Gf(t.YE,7),e.Gf(et,7),e.Gf(tt,7),e.Gf(p.BZ,5)),2&n){let s;e.iGM(s=e.CRH())&&(i.paginator=s.first),e.iGM(s=e.CRH())&&(i.sort=s.first),e.iGM(s=e.CRH())&&(i.filter=s.first),e.iGM(s=e.CRH())&&(i.input=s.first),e.iGM(s=e.CRH())&&(i.matSendDetailsTable=s.first)}},decls:24,vars:11,consts:[["id","dnc-details",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"center"],[1,"send-detail-header"],[1,"content-card"],["multiTemplateDataRows","","matSort","","cucPerfectScrollbar","",1,"send-details-table",3,"dataSource"],["table",""],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","phoneNumber"],["matColumnDef","processedOn"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","sms-record","matRipple","",3,"click",4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[1,"text-truncate"],["matRipple","",1,"sms-record",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"mat-divider"),e.TgZ(5,"mat-table",4,5),e.ynx(7,6),e.YNc(8,nt,2,0,"mat-header-cell",7),e.YNc(9,at,3,2,"mat-cell",8),e.BQk(),e.ynx(10,9),e.YNc(11,it,2,0,"mat-header-cell",7),e.YNc(12,ot,3,1,"mat-cell",8),e.BQk(),e.ynx(13,10),e.YNc(14,lt,2,0,"mat-header-cell",7),e.YNc(15,st,3,4,"mat-cell",8),e.BQk(),e.YNc(16,rt,1,0,"mat-header-row",11),e.YNc(17,ct,1,0,"mat-row",12),e.qZA(),e.TgZ(18,"div",13)(19,"button",14),e.NdJ("click",function(){return i.submitFiltersForm()}),e.TgZ(20,"mat-icon"),e._uU(21,"refresh"),e.qZA()(),e._UZ(22,"mat-paginator",15,16),e.qZA()()()()),2&n&&(e.xp6(5),e.Q6J("dataSource",i.filteredAndPagedLists)("@animateStagger",e.DdM(9,mt)),e.xp6(11),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(5),e.Q6J("length",i.resultsLength)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(10,dt)))},directives:[B.V,S.d,p.BZ,t.YE,P.i,p.w1,p.fO,p.ge,p.Dz,p.ev,p.as,p.XQ,p.nj,p.Gk,C.wG,L.xw,L.Wh,h.lW,f.Hw,A.NW],pipes:[g.uU],styles:["@media screen and (max-width: 959px){uc-dnc-list-details #smscampaign-details .top-bg{height:256px}}uc-dnc-list-details #smscampaign-details>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;text-align:center!important;margin-left:30%!important;margin-top:40px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-dnc-list-details #smscampaign-details>.center>.header .search-wrapper{width:100%}}uc-dnc-list-details #smscampaign-details>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-dnc-list-details #smscampaign-details>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-dnc-list-details #smscampaign-details>.center>.header{padding:8px 0;height:192px!important;min-height:0px!important;max-height:192px!important}}uc-dnc-list-details .send-detail-header{margin-top:10px;margin-bottom:10px}uc-dnc-list-details .example-headers-align .mat-form-field+.mat-form-field{margin-left:8px}uc-dnc-list-details .send-details-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-dnc-list-details .send-details-table .mat-header-row{min-height:64px}uc-dnc-list-details .send-details-table .sms-record{position:relative;cursor:pointer;height:50px}uc-dnc-list-details .send-details-table .mat-cell{min-width:0;display:flex;align-items:center}uc-dnc-list-details .send-details-table .mat-column-phoneNumber{flex:0 1 30%}uc-dnc-list-details .send-details-table .mat-column-processedOn{flex:0 1 30%}uc-dnc-list-details .spacer{flex:1 1 auto}uc-dnc-list-details .example-detail-row{height:0;min-height:auto;display:none;width:100%}uc-dnc-list-details .display-expanded-row{display:inline-block;height:auto}\n"],encapsulation:2,data:{animation:E.J}}),a})()}];let pt=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[T.o],imports:[[g.ez,c.Bz.forChild(ut),h.ot,m.lN,f.Ps,r.c,A.TU,C.si,u.LD,t.JX,p.p0,F.Nh,_.p9,I.Tx,Ke.g0,v.FA,x.A,N.lJ,N.QH,Y.Bb,S.t]]}),a})()}}]);