"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[5115],{68117:(M,T,o)=>{o.d(T,{$O:()=>f,B3:()=>h,Fn:()=>s,LE:()=>w,SQ:()=>d,Sr:()=>A,XL:()=>y,e_:()=>N,fe:()=>b,j1:()=>Z,jY:()=>x,rf:()=>u,sH:()=>_,ye:()=>m});var m=(()=>{return(e=m||(m={}))[e.Select=-1]="Select",e[e.LocalDirectory=1]="LocalDirectory",e[e.FTP=2]="FTP",e[e.SFTP=3]="SFTP",e[e.Salesforce=4]="Salesforce",m;var e})(),h=(()=>{return(e=h||(h={}))[e.Voice=1]="Voice",e[e.SMS=2]="SMS",e[e.Whatsapp=6]="Whatsapp",e[e.Email=4]="Email",e[e.DNC=3]="DNC",e[e.All=5]="All",h;var e})(),x=(()=>{return(e=x||(x={}))[e.Voice=1]="Voice",e[e.SMS=2]="SMS",e[e.Email=4]="Email",e[e.Whatsapp=6]="Whatsapp",x;var e})(),s=(()=>{return(e=s||(s={}))[e.None=0]="None",e[e.And=1]="And",e[e.Or=2]="Or",s;var e})(),d=(()=>{return(e=d||(d={}))[e.None=0]="None",e[e.Equal=1]="Equal",e[e.NotEqual=2]="NotEqual",e[e.GreaterThan=3]="GreaterThan",e[e.LessThan=4]="LessThan",e[e.GreaterOrEqual=5]="GreaterOrEqual",e[e.LessOrEqual=6]="LessOrEqual",e[e.Like=7]="Like",e[e.NotLike=8]="NotLike",e[e.Null=9]="Null",e[e.NotNull=10]="NotNull",e[e.Contains=11]="Contains",e[e.DoesNotContain=12]="DoesNotContain",e[e.BeginsWith=13]="BeginsWith",e[e.DoesNotBeginWith=14]="DoesNotBeginWith",e[e.EndsWith=15]="EndsWith",e[e.DoesNotEndWith=16]="DoesNotEndWith",d;var e})(),u=(()=>{return(e=u||(u={}))[e.Pending=1]="Pending",e[e.Duplicate=3]="Duplicate",e[e.Invalid=4]="Invalid",e[e.Excluded=6]="Excluded",e[e.Retry=7]="Retry",e[e.Imported=9]="Imported",e[e.Failed=10]="Failed",e[e.Deleted=11]="Deleted",e[e.Completed=12]="Completed",e[e.BlockedByTCPA=18]="BlockedByTCPA",e[e.Transitioned_To_SMS_Or_Email=20]="Transitioned_To_SMS_Or_Email",e[e.Received=21]="Received",e[e.Sent=22]="Sent",e[e.DoNotCall=23]="DoNotCall",u;var e})(),f=(()=>{return(e=f||(f={}))[e.Pending=0]="Pending",e[e.AnswerSuccess=10]="AnswerSuccess",e[e.SIT_UnCallable=11]="SIT_UnCallable",e[e.AnsweringMachine=12]="AnsweringMachine",e[e.NumberCouldNotBeDialed=13]="NumberCouldNotBeDialed",e[e.BusySignal=14]="BusySignal",e[e.Voice=16]="Voice",e[e.AbandonedByAgent=17]="AbandonedByAgent",e[e.NoAnswer=8]="NoAnswer",e[e.SkippedOrRejected=18]="SkippedOrRejected",e[e.SkippedOrRejectedWithClose=19]="SkippedOrRejectedWithClose",e[e.TimedOutAcceptingPreviewCall=33]="TimedOutAcceptingPreviewCall",e[e.OutboundDisconnect=50]="OutboundDisconnect",e[e.AgentUnreachable=51]="AgentUnreachable",e[e.WrapupTimeOut=52]="WrapupTimeOut",e[e.StuckInteraction=11]="StuckInteraction",e[e.Sent=61]="Sent",e[e.Fail=62]="Fail",e[e.UnSuccessful=63]="UnSuccessful",e[e.Deliverd=64]="Deliverd",e[e.UnDelivered=65]="UnDelivered",e[e.Delivery_Unknown=66]="Delivery_Unknown",e[e.Queued=67]="Queued",f;var e})(),A=(()=>{return(e=A||(A={}))[e.Pending=1]="Pending",e[e.Active=2]="Active",e[e.Completed=3]="Completed",e[e.Expired=4]="Expired",e[e.InActive=5]="InActive",A;var e})(),w=(()=>{return(e=w||(w={}))[e.Never=0]="Never",e[e.Daily=1]="Daily",e[e.Weeks=2]="Weeks",e[e.Months=3]="Months",e[e.Years=4]="Years",w;var e})(),_=(()=>{return(e=_||(_={}))[e.Pending=1]="Pending",e[e.Active=2]="Active",e[e.Completed=3]="Completed",_;var e})(),b=(()=>{return(e=b||(b={}))[e.ASC=1]="ASC",e[e.DESC=2]="DESC",b;var e})(),N=(()=>{return(e=N||(N={}))[e.Single=0]="Single",e[e.Incremental=1]="Incremental",e[e.Repetitive=2]="Repetitive",N;var e})(),Z=(()=>{return(e=Z||(Z={}))[e.Seconds=0]="Seconds",e[e.Minutes=1]="Minutes",e[e.Hours=2]="Hours",e[e.Days=3]="Days",e[e.Weeks=4]="Weeks",e[e.Months=5]="Months",e[e.Year=6]="Year",e[e.None=9]="None",Z;var e})(),y=(()=>{return(e=y||(y={}))[e.Pending=0]="Pending",e[e.InvalidNumber=1]="InvalidNumber",e[e.NoAnswer=2]="NoAnswer",e[e.Busy=3]="Busy",e[e.Fax=4]="Fax",e[e.AnsweringMachine=5]="AnsweringMachine",e[e.NetworkVoicemail=6]="NetworkVoicemail",e[e.NoRingback=7]="NoRingback",e[e.OperatorIntercept=8]="OperatorIntercept",e[e.Callback_Requested=9]="Callback_Requested",e[e.Abandoned=10]="Abandoned",e[e.AbandonedToIVR=11]="AbandonedToIVR",e[e.Flushed_Camp_Stop=12]="Flushed_Camp_Stop",e[e.Gaurd_Time_Expiry=13]="Gaurd_Time_Expiry",e[e.Flushed_Error=14]="Flushed_Error",e[e.DNC_Requested=15]="DNC_Requested",e[e.Live_Voice=16]="Live_Voice",e[e.Invalid_Cad=17]="Invalid_Cad",e[e.Dial_At_Time_Invalid=18]="Dial_At_Time_Invalid",y;var e})()},77394:(M,T,o)=>{o.d(T,{J:()=>x});var m=o(94650),g=o(65938),h=o(4859);let x=(()=>{class s{constructor(u){this.dialogRef=u}}return s.\u0275fac=function(u){return new(u||s)(m.Y36(g.so))},s.\u0275cmp=m.Xpm({type:s,selectors:[["cuc-confirm-dialog"]],decls:9,vars:1,consts:[["matDialogTitle",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end",1,"pt-24"],["mat-raised-button","",1,"mat-accent","mr-16",3,"click"],["mat-raised-button","",3,"click"]],template:function(u,f){1&u&&(m.TgZ(0,"h1",0),m._uU(1,"Confirm"),m.qZA(),m.TgZ(2,"div",1),m._uU(3),m.qZA(),m.TgZ(4,"div",2)(5,"button",3),m.NdJ("click",function(){return f.dialogRef.close(!0)}),m._uU(6,"Confirm"),m.qZA(),m.TgZ(7,"button",4),m.NdJ("click",function(){return f.dialogRef.close(!1)}),m._uU(8,"Cancel"),m.qZA()()),2&u&&(m.xp6(3),m.Oqu(f.confirmMessage))},directives:[g.uh,g.xY,g.H8,h.lW],styles:[""]}),s})()},85115:(M,T,o)=>{o.r(T),o.d(T,{CampaignRuleManagementModule:()=>Ne});var m=o(93917),g=o(36895),h=o(4859),x=o(3238),s=o(59549),d=o(97392),u=o(44144),f=o(84385),A=o(56709),w=o(99602),_=o(8882),b=o(82689),N=o(77331),Z=o(37084),y=o(27974),e=o(96308),E=o(17009),p=o(2143),S=o(3848),C=o(28255),H=o(79497),V=o(77394),G=o(23753),q=o(36787),j=o(21086),z=o(1059),$=o(87545),K=o(24850),X=o(27221),a=o(94650),L=o(80529),O=o(16916);let B=(()=>{class t{constructor(n){this._http=n,this.API_BASE_URL=O.N.apiUrl}getAll(n,i,c="",v=""){return this._http.get(this.API_BASE_URL+"api/campaignrule/get-all",{params:(new L.LE).set("index",n.toString()).set("size",i.toString()).set("searchItem",c).set("sortBy",v)})}add(n){return this._http.post(this.API_BASE_URL+"api/campaignrule/add",n)}delete(n){return this._http.delete(this.API_BASE_URL+`api/campaignrule/delete/${n}`)}save(n){return this._http.put(this.API_BASE_URL+`api/campaignrule/update/${n.id}`,n)}getById(n){return this._http.get(this.API_BASE_URL+`api/campaignrule/get/${n}`)}}return t.\u0275fac=function(n){return new(n||t)(a.LFG(L.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var W=o(65938),F=o(55443),k=o(96560),D=o(1576),J=o(43764);const R=["searchCampaignRule"];function ee(t,r){1&t&&(a.TgZ(0,"mat-header-cell",28),a._uU(1,"Name"),a.qZA())}function ae(t,r){if(1&t&&(a.TgZ(0,"mat-cell")(1,"p",29),a._uU(2),a.qZA()()),2&t){const n=r.$implicit;a.xp6(2),a.Oqu(n.name)}}function ne(t,r){1&t&&(a.TgZ(0,"mat-header-cell",28),a._uU(1,"Created On"),a.qZA())}function te(t,r){if(1&t&&(a.TgZ(0,"mat-cell")(1,"p",29),a._uU(2),a.ALo(3,"date"),a.qZA()()),2&t){const n=r.$implicit;a.xp6(2),a.Oqu(a.xi3(3,1,n.createdOn+"Z","medium"))}}function ie(t,r){1&t&&(a.TgZ(0,"mat-header-cell"),a._uU(1,"Actions"),a.qZA())}function oe(t,r){if(1&t){const n=a.EpF();a.TgZ(0,"mat-cell")(1,"button",30),a.NdJ("click",function(c){return c.stopPropagation()}),a.TgZ(2,"mat-icon",31),a._uU(3,"more_vert"),a.qZA()(),a.TgZ(4,"mat-menu",null,32)(6,"button",33)(7,"mat-icon"),a._uU(8,"edit"),a.qZA(),a.TgZ(9,"span"),a._uU(10,"Edit"),a.qZA()(),a.TgZ(11,"button",34),a.NdJ("click",function(){const v=a.CHM(n).$implicit;return a.oxw().deleteCampaignRule(v)}),a.TgZ(12,"mat-icon"),a._uU(13,"delete"),a.qZA(),a.TgZ(14,"span"),a._uU(15,"Delete"),a.qZA()()()()}if(2&t){const n=r.$implicit,i=a.MAs(5);a.xp6(1),a.Q6J("matMenuTriggerFor",i),a.xp6(5),a.Q6J("routerLink","/app/campaign-rule-management/campaign-rule/"+n.id)}}function me(t,r){1&t&&a._UZ(0,"mat-header-row")}function re(t,r){1&t&&a._UZ(0,"mat-row",35)}function ce(t,r){1&t&&(a.TgZ(0,"div",36)(1,"center"),a._uU(2," No Records found. "),a.qZA()())}const le=function(){return{delay:"50ms",scale:"0.2"}},Y=function(t){return{value:"*",params:t}},se=function(){return{delay:"100ms",x:"-25px"}},ue=function(){return{value:"50"}},pe=function(){return[5,10,25,100]};let de=(()=>{class t{constructor(n,i,c,v){this._campaignRuleService=n,this._matSnackBar=i,this._matDialog=c,this._snackbarService=v,this.filteredAndPagedLists=[],this.displayedColumns=["name","createdOn","actions"],this.resultsLength=0}ngOnInit(){}ngAfterViewInit(){let n=(0,G.R)(this.searchCampaignRule.nativeElement,"keyup");(0,q.T)(this.sort.sortChange,this.paginator.page,n).pipe((0,z.O)({}),(0,$.w)(()=>this._campaignRuleService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchCampaignRule.nativeElement.value,this.sort.direction)),(0,K.U)(i=>(this.resultsLength=i.result.total,i.result.items)),(0,X.K)(()=>(0,j.of)([]))).subscribe(i=>{this.filteredAndPagedLists=i,console.log("Fetched Campaign Rules:",this.filteredAndPagedLists)})}reload(){this._campaignRuleService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchCampaignRule.nativeElement.value,this.sort.direction).subscribe(n=>{this.filteredAndPagedLists=n.result.items,console.log(n)})}deleteCampaignRule(n){this.confirmDialogRef=this._matDialog.open(V.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage=`Are you sure you want to delete ${n.name} Campaign Rule?`,this.confirmDialogRef.afterClosed().subscribe(i=>{i&&this._campaignRuleService.delete(n.id).subscribe(c=>{c&&(this._snackbarService.success(`Campaign Rule ${n.name} deleted successfully.`),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(v=>v.id==n.id),1),this.matCampaignRuleTable.renderRows())}),this.confirmDialogRef=null})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(B),a.Y36(E.ux),a.Y36(W.uw),a.Y36(F.o))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-campaign-rule-home"]],viewQuery:function(n,i){if(1&n&&(a.Gf(y.NW,7),a.Gf(e.YE,7),a.Gf(p.BZ,5),a.Gf(R,7)),2&n){let c;a.iGM(c=a.CRH())&&(i.paginator=c.first),a.iGM(c=a.CRH())&&(i.sort=c.first),a.iGM(c=a.CRH())&&(i.matCampaignRuleTable=c.first),a.iGM(c=a.CRH())&&(i.searchCampaignRule=c.first)}},decls:41,vars:19,consts:[["id","campaignRules",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a Campaign Rules"],["searchCampaignRule",""],["mat-raised-button","",1,"cuc-white","mt-24","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"campaign-rules-table",3,"dataSource"],["matCampaignRuleTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","holiday-row",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],[3,"length","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"routerLink"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"holiday-row"],[1,"no-data-message"]],template:function(n,i){1&n&&(a.TgZ(0,"div",0),a._UZ(1,"div",1),a.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),a._uU(6," storage "),a.qZA(),a.TgZ(7,"span",6),a._uU(8," Campaign Rules Management "),a.qZA()(),a.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),a._uU(12,"search"),a.qZA(),a._UZ(13,"input",9,10),a.qZA()(),a.TgZ(15,"button",11)(16,"mat-icon"),a._uU(17,"add"),a.qZA(),a.TgZ(18,"span"),a._uU(19,"Add New Campaign Rule"),a.qZA()()(),a.TgZ(20,"div",12)(21,"mat-table",13,14),a.ynx(23,15),a.YNc(24,ee,2,0,"mat-header-cell",16),a.YNc(25,ae,3,1,"mat-cell",17),a.BQk(),a.ynx(26,18),a.YNc(27,ne,2,0,"mat-header-cell",16),a.YNc(28,te,4,4,"mat-cell",17),a.BQk(),a.ynx(29,19),a.YNc(30,ie,2,0,"mat-header-cell",20),a.YNc(31,oe,16,2,"mat-cell",17),a.BQk(),a.YNc(32,me,1,0,"mat-header-row",21),a.YNc(33,re,1,0,"mat-row",22),a.qZA(),a.YNc(34,ce,3,0,"div",23),a.TgZ(35,"div",24)(36,"button",25),a.NdJ("click",function(){return i.reload()}),a.TgZ(37,"mat-icon"),a._uU(38,"refresh"),a.qZA()(),a._UZ(39,"mat-paginator",26,27),a.qZA()()()()),2&n&&(a.xp6(5),a.Q6J("@animate",a.VKq(12,Y,a.DdM(11,le))),a.xp6(2),a.Q6J("@animate",a.VKq(15,Y,a.DdM(14,se))),a.xp6(8),a.Q6J("routerLink","/app/campaign-rule-management/campaign-rule/new"),a.xp6(6),a.Q6J("dataSource",i.filteredAndPagedLists)("@animateStagger",a.DdM(17,ue)),a.xp6(11),a.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns),a.xp6(1),a.Q6J("ngIf",0==i.filteredAndPagedLists.length),a.xp6(5),a.Q6J("length",i.resultsLength)("pageSizeOptions",a.DdM(18,pe)))},directives:[k.V,D.xw,D.Wh,d.Hw,D.yH,h.lW,m.rH,p.BZ,e.YE,J.i,p.w1,p.fO,p.ge,e.nU,p.Dz,p.ev,C.p6,C.VK,C.OP,p.as,p.XQ,p.nj,p.Gk,g.O5,y.NW],pipes:[g.uU],styles:["@media screen and (max-width: 959px){uc-campaign-rule-home #campaignRules .top-bg{height:256px}}uc-campaign-rule-home #campaignRules>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-campaign-rule-home #campaignRules>.center>.header .search-wrapper{width:100%}}uc-campaign-rule-home #campaignRules>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-campaign-rule-home #campaignRules>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-campaign-rule-home #campaignRules>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-campaign-rule-home .matCampaignRuleTable{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-campaign-rule-home .matCampaignRuleTable .mat-header-row{min-height:64px}uc-campaign-rule-home .matCampaignRuleTable .product{position:relative;cursor:pointer;height:60px}uc-campaign-rule-home .matCampaignRuleTable .mat-cell{min-width:0;display:flex;align-items:center}uc-campaign-rule-home .matCampaignRuleTable .mat-column-id{flex:0 1 84px}uc-campaign-rule-home .matCampaignRuleTable .mat-column-image{flex:0 1 84px}uc-campaign-rule-home .matCampaignRuleTable .mat-column-image .product-image{width:52px;height:52px;border:1px solid rgba(0,0,0,.12)}uc-campaign-rule-home .matCampaignRuleTable .mat-column-category{flex:0 1 240px}uc-campaign-rule-home .matCampaignRuleTable .mat-column-price{flex:0 1 160px}uc-campaign-rule-home .matCampaignRuleTable .mat-column-quantity{flex:0 1 160px}uc-campaign-rule-home .matCampaignRuleTable .mat-column-active{flex:0 1 80px}uc-campaign-rule-home .matCampaignRuleTable .quantity-indicator{display:inline-block;vertical-align:middle;width:8px;height:8px;border-radius:4px;margin-right:8px}uc-campaign-rule-home .matCampaignRuleTable .quantity-indicator+span{display:inline-block;vertical-align:middle}uc-campaign-rule-home .matCampaignRuleTable .active-icon{border-radius:50%}\n"],encapsulation:2,data:{animation:H.J}}),t})();var l=o(24006),P=o(20974),U=o(28513),ge=o(68117),he=o(39750);const fe=["pickerStartDateTime"],ve=["pickerStopDateTime"];function xe(t,r){if(1&t&&(a.TgZ(0,"div",19),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.holiday.name," ")}}function Ae(t,r){1&t&&(a.TgZ(0,"div",19),a._uU(1,"New Campaign Rule"),a.qZA())}function ye(t,r){if(1&t){const n=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(){return a.CHM(n),a.oxw().addHoliday()}),a.TgZ(1,"span"),a._uU(2,"Save"),a.qZA()()}if(2&t){const n=a.oxw();a.Q6J("disabled",n.HolidayForm.invalid)}}function be(t,r){if(1&t){const n=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(){return a.CHM(n),a.oxw().saveHoliday()}),a.TgZ(1,"span"),a._uU(2,"Save"),a.qZA()()}if(2&t){const n=a.oxw();a.Q6J("disabled",n.HolidayForm.invalid||n.HolidayForm.pristine)}}const Te=function(){return{delay:"100ms",x:"-25px"}},we=function(t){return{value:"*",params:t}};let Q=(()=>{class t{constructor(n,i,c,v,I,Ze){this._HolidayService=n,this._formBuilder=i,this.route=c,this._router=v,this._matSnackBar=I,this._snackbarService=Ze,this.repeatTypes=ge.LE,this.holiday=new U.B}ngOnInit(){this.routeParams=this.route.params,this.HolidayForm=this.createCreateForm(),"new"===this.routeParams.value.id?(this.pageType="new",this.holiday=new U.B):(this.pageType="edit",this._HolidayService.getById(this.routeParams.value.id).subscribe(n=>{console.log(n),this.holiday=new U.B(n),this.HolidayForm=this.createCreateForm()}))}createCreateForm(){return this._formBuilder.group({id:new l.NI(this.holiday.id),name:new l.NI(this.holiday.name,[l.kI.required]),description:new l.NI(this.holiday.description),status:new l.NI(this.holiday.status,[l.kI.required]),handle:[this.holiday.handle],recurrence:new l.NI(this.holiday.recurrence,[l.kI.required])})}saveHoliday(){const n=this.HolidayForm.getRawValue();n.handle=P.j.handleize(n.name),this._HolidayService.save(n).subscribe(i=>{i.result&&(this._snackbarService.success(`Holiday ${n.name} saved successfully.`),this._router.navigateByUrl("app/holiday-management/holidays"))})}addHoliday(){const n=this.HolidayForm.getRawValue();this.holiday.handle=P.j.handleize(n.name),this._HolidayService.add(n).subscribe(i=>{i.result>0&&(this.holiday.id=i.result,this._snackbarService.success(`Holiday ${n.name} added successfully.`),this._router.navigateByUrl("app/holiday-management/holidays"))})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(he.W),a.Y36(l.qu),a.Y36(m.gz),a.Y36(m.F0),a.Y36(E.ux),a.Y36(F.o))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-campaign-rule"]],viewQuery:function(n,i){if(1&n&&(a.Gf(fe,7),a.Gf(ve,7)),2&n){let c;a.iGM(c=a.CRH())&&(i.pickerStartDateTime=c.first),a.iGM(c=a.CRH())&&(i.pickerStopDateTime=c.first)}},decls:32,vars:10,consts:[["id","product",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["name","HolidayForm","fxLayout","column","fxFlex","",1,"product","w-100-p",3,"formGroup"],["label","Basic Info"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","Campaign Rule Name","name","name","formControlName","name","required",""],["matInput","","placeholder","Campaign Rule Description","name","description","formControlName","description","rows","5"],["fxLayout","row","fxLayoutAlign","space-between"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"]],template:function(n,i){1&n&&(a.TgZ(0,"div",0),a._UZ(1,"div",1),a.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),a._uU(7,"arrow_back"),a.qZA()(),a.TgZ(8,"div",6),a.YNc(9,xe,2,1,"div",7),a.YNc(10,Ae,2,0,"div",7),a.TgZ(11,"div",8)(12,"span"),a._uU(13,"Campaign Rule Settings"),a.qZA()()()(),a.YNc(14,ye,3,1,"button",9),a.YNc(15,be,3,1,"button",9),a.qZA(),a.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),a._uU(24,"Holiday Name"),a.qZA(),a._UZ(25,"input",16),a.qZA(),a.TgZ(26,"mat-form-field",15)(27,"mat-label"),a._uU(28,"Holiday Description"),a.qZA(),a.TgZ(29,"textarea",17),a._uU(30,"                                    "),a.qZA()(),a._UZ(31,"div",18),a.qZA()()()()()()()()),2&n&&(a.xp6(5),a.Q6J("routerLink","/app/holiday-management/holidays"),a.xp6(3),a.Q6J("@animate",a.VKq(8,we,a.DdM(7,Te))),a.xp6(1),a.Q6J("ngIf","edit"===i.pageType),a.xp6(1),a.Q6J("ngIf","new"===i.pageType),a.xp6(4),a.Q6J("ngIf","new"===i.pageType),a.xp6(1),a.Q6J("ngIf","edit"===i.pageType),a.xp6(3),a.Q6J("formGroup",i.HolidayForm))},directives:[k.V,D.xw,D.Wh,h.lW,m.rH,d.Hw,g.O5,l._Y,l.JL,D.yH,l.sg,S.SP,S.uX,J.i,s.KE,s.hX,u.Nt,l.Fj,l.JJ,l.u,l.Q7],styles:["@media screen and (max-width: 959px){uc-source-home #sources .top-bg{height:256px}}uc-source-home #sources>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-source-home #sources>.center>.header .search-wrapper{width:100%}}uc-source-home #sources>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-source-home #sources>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-source-home #sources>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-source-home .sources-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-source-home .sources-table .mat-header-row{min-height:64px}uc-source-home .sources-table .source-row{position:relative;cursor:pointer;height:60px}uc-source-home .sources-table .mat-cell{min-width:0;display:flex;align-items:center}uc-source-home .sources-table .active-icon{border-radius:50%}uc-source-home .no-data-message{padding-top:25px;height:100%;text-align:center}\n"],encapsulation:2,data:{animation:H.J}}),t})();const _e=[{path:"",component:de},{path:"campaign-rule/:id",component:Q},{path:"campaign-rule/:id/:handle",component:Q}];let Ne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[B],imports:[[g.ez,m.Bz.forChild(_e),h.ot,N.Hi,Z.To,s.lN,d.Ps,u.c,y.TU,x.si,f.LD,e.JX,E.ZX,p.p0,S.Nh,A.p9,C.Tx,w.FA,_.A,b.lJ,b.QH]]}),t})()}}]);