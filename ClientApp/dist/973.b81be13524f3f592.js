"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[973],{973:(Bo,le,r)=>{r.r(le),r.d(le,{CampaignModule:()=>Fo});var N=r(93917),C=r(4859),v=r(3238),_=r(59549),D=r(97392),R=r(44144),I=r(84385),se=r(56709),O=r(99602),we=r(73546),Q=r(86257),Ne=r(8882),re=r(82689),De=r(77331),k=r(37084),x=r(27974),f=r(96308),Ie=r(23753),F=r(36787),Y=r(21086),Se=r(80013),Le=r(75778),U=r(1059),J=r(87545),y=r(24850),P=r(27221),W=r(79497),G=r(77394),me=r(88428),l=r(24006),e=r(94650),$=r(69061),T=r(6072),p=r(65938),b=r(83683),d=r(1576),h=r(36895);function Ue(a,i){if(1&a&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}let qe=(()=>{class a{constructor(t,n,o,s,c){this._formBuilder=t,this._csrService=n,this._toastService=o,this._snackbarService=s,this.dialogRef=c,this.csrs=[],this.csrEditForm=this.createCreateForm(),this._csrService.getAll(1,200).subscribe(u=>{this.csrs=u.result.items})}createCreateForm(){return this._formBuilder.group({name:new l.NI(this.name)})}saveCSR(){const t=this.csrEditForm.getRawValue();t.mapId=this.mapId,this._csrService.saveEditCSR(t).subscribe(()=>{this._toastService.success("Dialer Record  saved successfully."),this.dialogRef.close()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36($.d),e.Y36(T.k),e.Y36(T.k),e.Y36(p.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-csr-edit-dialog"]],decls:16,vars:3,consts:[[1,"top-bg","accent"],[1,"form-csr-edit",3,"formGroup"],["fxLayout","row","fxLayoutAlign","space-between"],["appearance","outline","floatlabel","always",1,"w-100-p"],["formControlName","name"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["color","secondary","mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",1,"save-product-button",3,"disabled","click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1,"Edit Filters"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"CSR Filter"),e.qZA(),e.TgZ(8,"mat-select",4),e.YNc(9,Ue,2,2,"mat-option",5),e.qZA()()()()(),e.TgZ(10,"mat-dialog-actions",6)(11,"button",7),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(12,"Close"),e.qZA(),e.TgZ(13,"button",8),e.NdJ("click",function(){return n.saveCSR()}),e.TgZ(14,"span"),e._uU(15,"Save"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.csrEditForm),e.xp6(6),e.Q6J("ngForOf",n.csrs),e.xp6(4),e.Q6J("disabled",n.csrEditForm.invalid||n.csrEditForm.pristine))},directives:[b.Ye,p.xY,l._Y,l.JL,l.sg,d.xw,d.Wh,_.KE,_.hX,I.gD,l.JJ,l.u,h.sg,v.ey,p.H8,C.lW],styles:[".form-csr-edit[_ngcontent-%COMP%]{width:500px;height:300px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:25px}"]}),a})();var B=r(4556),S=r(51205),q=r(3848),m=r(2143);function Re(a,i){1&a&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," List Name "),e.qZA())}function ke(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.leadName," ")}}function Fe(a,i){1&a&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Total Records "),e.qZA())}function Ye(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.totalRecords," ")}}function Je(a,i){1&a&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Filtered Records "),e.qZA())}function Pe(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.totalFilteredRecords," ")}}function Me(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Total Imported "),e.qZA())}function Oe(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.totalDialed," ")}}function Qe(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Priority "),e.qZA())}function Be(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).changeLeadPriority(o)}),e.TgZ(1,"span",33),e._uU(2,"done"),e.qZA()()}}function He(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return s.restoreChangePriorityControl(o),o.priority=s.previousPriority}),e.TgZ(1,"span",33),e._uU(2,"close"),e.qZA()()}}function Ee(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"div",29)(2,"input",30),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit.priority=o}),e.qZA(),e.TgZ(3,"div",31)(4,"button",32),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw(2).editPriorityClick(s)}),e.TgZ(5,"span",33),e._uU(6,"edit"),e.qZA()()(),e.YNc(7,Be,3,0,"button",34),e.YNc(8,He,3,0,"button",34),e.qZA()()}if(2&a){const t=i.$implicit,n=i.index,o=e.oxw(2);e.xp6(2),e.Q6J("disabled",!o.enablePriorityInput&&n!=o.currentRowIndex)("ngModel",t.priority),e.xp6(1),e.Q6J("hidden",o.showCancelBtnClicked&&n==o.currentRowIndex),e.xp6(4),e.Q6J("ngIf",n==o.currentRowIndex&&o.showDoneBtnClicked),e.xp6(1),e.Q6J("ngIf",n==o.currentRowIndex&&o.showCancelBtnClicked)}}function We(a,i){1&a&&(e.ynx(0,28),e.YNc(1,Qe,2,0,"mat-header-cell",11),e.YNc(2,Ee,9,5,"mat-cell",7),e.BQk())}function Ge(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Weightage "),e.qZA())}function $e(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit.weightage=o}),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(o){const c=e.CHM(t).$implicit;return e.oxw(2).changeLeadWeightage(c,o)}),e.TgZ(4,"span",33),e._uU(5," drive_file_rename_outline "),e.qZA()()()()}if(2&a){const t=i.$implicit;e.xp6(2),e.Q6J("ngModel",t.weightage)}}function je(a,i){1&a&&(e.ynx(0,35),e.YNc(1,Ge,2,0,"mat-header-cell",11),e.YNc(2,$e,6,1,"mat-cell",7),e.BQk())}function Ve(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Status "),e.qZA())}function ze(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.status," ")}}function Xe(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Assigned On "),e.qZA())}function Ke(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.assignedOn+"Z","medium")," ")}}function et(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Actions "),e.qZA())}function tt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().toggleLeadStatus(o,"STOP")}),e.TgZ(1,"span",43),e._uU(2," stop_circle "),e.qZA()()}}function at(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().toggleLeadStatus(o,"START")}),e.TgZ(1,"span",43),e._uU(2," play_circle "),e.qZA()()}}function it(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell"),e.YNc(1,tt,3,0,"button",39),e.YNc(2,at,3,0,"button",39),e.TgZ(3,"button",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToDialerDetail(s)}),e.TgZ(4,"span",33)(5,"mat-icon"),e._uU(6,"open_in_new"),e.qZA()()(),e.TgZ(7,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteLead(s)}),e.TgZ(8,"span",33)(9,"mat-icon"),e._uU(10,"delete"),e.qZA()()()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","Stopped"!=t.status),e.xp6(1),e.Q6J("ngIf","Stopped"==t.status)}}function nt(a,i){1&a&&e._UZ(0,"mat-header-row")}function ot(a,i){1&a&&e._UZ(0,"mat-row")}function lt(a,i){1&a&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," List Name "),e.qZA())}function st(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.leadName," ")}}function rt(a,i){1&a&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Total Records "),e.qZA())}function mt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.totalRecords," ")}}function ct(a,i){1&a&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," Filtered Records "),e.qZA())}function pt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.totalFilteredRecords," ")}}function dt(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Total Imported "),e.qZA())}function ut(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.totalDialed," ")}}function gt(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Status "),e.qZA())}function _t(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.status," ")}}function ht(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Assigned On "),e.qZA())}function ft(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.assignedOn+"Z","medium")," ")}}function Ct(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Actions "),e.qZA())}function xt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().toggleLeadStatus(o,"STOP")}),e.TgZ(1,"span",43),e._uU(2," stop_circle "),e.qZA()()}}function Zt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw().toggleLeadStatus(o,"START")}),e.TgZ(1,"span",43),e._uU(2," play_circle "),e.qZA()()}}function Tt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell"),e.YNc(1,xt,3,0,"button",39),e.YNc(2,Zt,3,0,"button",39),e.TgZ(3,"button",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToDialerDetail(s)}),e.TgZ(4,"span",33)(5,"mat-icon"),e._uU(6,"open_in_new"),e.qZA()()(),e.TgZ(7,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteLead(s)}),e.TgZ(8,"span",33)(9,"mat-icon"),e._uU(10,"delete"),e.qZA()()()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","Stopped"!=t.status),e.xp6(1),e.Q6J("ngIf","Stopped"==t.status)}}function bt(a,i){1&a&&e._UZ(0,"mat-header-row")}function At(a,i){1&a&&e._UZ(0,"mat-row")}function vt(a,i){1&a&&(e.TgZ(0,"div",44)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const yt=function(){return[5,10,20]};let wt=(()=>{class a{constructor(t,n,o,s,c,u,w,ne){this._dialerDetailsService=t,this.router=n,this.dialogRef=o,this.csrEditDialogRef=s,this._snackbarService=c,this._campaignService=u,this._matDialog=w,this._csrService=ne,this.resultsLength=0,this.localDirectoryPriorityColumns=["listName","totalRecords","totalFilteredRecords","totalDialed","priority","status","assignedOn","actions"],this.localDirectoryWeightageColumns=["listName","totalRecords","totalDialed","weightage","status","assignedOn","actions"],this.displayedColumnsSF=["listName","totalRecords","totalFilteredRecords","totalDialed","status","assignedOn","actions"],this.displayedColumns=[],this.dialStatsDataSource=[],this.dialStatsDataSourceSF=[],this.csr=[],this.enablePriorityInput=!1,this.showEditBtnClicked=!0,this.showDoneBtnClicked=!1,this.showCancelBtnClicked=!1,console.log("Routed Campaign Id: ",this.campaignId),this._csrService.getAll(1,100).subscribe(oe=>{this.csr=oe.result.items})}ngOnInit(){"PRIORITY"==this.campaign.dialingPreference&&(this.displayedColumns=this.localDirectoryPriorityColumns),"WEIGHTAGE"==this.campaign.dialingPreference&&(this.displayedColumns=this.localDirectoryWeightageColumns)}ngAfterViewInit(){(0,F.T)(this.sort.sortChange,this.paginator.page).pipe((0,U.O)({}),(0,J.w)(()=>this._dialerDetailsService.getLeadStats(this.campaignId,this.paginator.pageIndex+1,this.paginator.pageSize)),(0,y.U)(t=>(this.resultsLength=t.result.total,console.log(t.result.items),t.result.items)),(0,P.K)(()=>(0,Y.of)([]))).subscribe(t=>{this.dialStatsDataSource=t}),(0,F.T)(this.sort.sortChange,this.paginator.page).pipe((0,U.O)({}),(0,J.w)(()=>this._dialerDetailsService.getLeadStatsSF(this.campaignId,this.paginator.pageIndex+1,this.paginator.pageSize)),(0,y.U)(t=>(this.resultsLength=t.result.total,t.result.items)),(0,P.K)(()=>(0,Y.of)([]))).subscribe(t=>{this.dialStatsDataSourceSF=t,console.log(t)})}reload(){this._dialerDetailsService.getLeadStats(this.campaignId,this.paginator.pageIndex+1,this.paginator.pageSize).subscribe(t=>{console.log("The Data is: "+t.result.items),this.dialStatsDataSource=t.result.items,this.restoreChangePriorityControl()}),this._dialerDetailsService.getLeadStatsSF(this.campaignId,this.paginator.pageIndex+1,this.paginator.pageSize).subscribe(t=>{console.log("The data from salesforce is "+t.result.items),this.dialStatsDataSourceSF=t.result.items,this.restoreChangePriorityControl()})}editPriorityClick(t){this.currentRowIndex=t,this.showDoneBtnClicked=!0,this.showCancelBtnClicked=!0,this.showEditBtnClicked=!1}restoreChangePriorityControl(){this.showDoneBtnClicked=!1,this.showCancelBtnClicked=!0,this.showCancelBtnClicked=!1,this.enablePriorityInput=!1,this.currentRowIndex=null}changeLeadPriority(t){this._dialerDetailsService.changePriority(t.mapId,this.campaignId,t.priority).subscribe(c=>{c&&(this._snackbarService.success("Priority changed successfully."),this.restoreChangePriorityControl())})}changeLeadWeightage(t){let o=t.weightage;this._dialerDetailsService.changeWeightage(t.mapId,o).subscribe(s=>{s&&this._snackbarService.success(`Weightage changed to ${o}.`)})}toggleLeadStatus(t,n){var o=new me.G;o.campaignLeadListId=t.mapId,o.action=n,this._campaignService.switchCampaignLeadState(o).subscribe(s=>{s&&(console.log(s),"STOP"==n?s.result?(this._snackbarService.success("List stopped Successfully"),this.reload()):(this._snackbarService.error(s.message),this.reload()):"START"==n&&(this._snackbarService.success("List started successfully"),this.reload()))})}goToDialerDetail(t){window.open("/app/campaign-management/campaign-details/"+this.campaign.id+"/"+t.mapId,"_blank")}deleteLead(t){this._campaignService.deleteLead(t.mapId).subscribe(n=>{console.log(n),n&&(this._snackbarService.success("Lead delete successfully."),this.reload())})}edit(t){this.csrEditDialogRef=this._matDialog.open(qe),this.csrEditDialogRef.componentInstance.mapId=t.mapId,this.csrEditDialogRef.componentInstance.name=t.name,this.csrEditDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}toggleFilterStatus(t,n){var o=new me.G;o.campaignLeadListId=t.mapId,o.action=n,this._campaignService.switchCampaignLeadState(o).subscribe(s=>{s.result&&("STOP"==n?(this._snackbarService.success("Filter stopped successfully."),this.reload()):"START"==n&&(this._snackbarService.success("Filter started successfully"),this.reload()))})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(B.a),e.Y36(N.F0),e.Y36(p.so),e.Y36(p.so),e.Y36(T.k),e.Y36(S.U),e.Y36(p.uw),e.Y36($.d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-campaign-lead-status-dialog"]],viewQuery:function(t,n){if(1&t&&(e.Gf(x.NW,7),e.Gf(f.YE,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:67,vars:13,consts:[[1,"top-bg","accent"],["mat-dialog-content",""],["label","Local"],["matSort","",1,"campaign-lead-status-table",3,"dataSource"],["table",""],["matColumnDef","listName"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","totalRecords"],["matColumnDef","totalFilteredRecords"],["matColumnDef","totalDialed"],[4,"matHeaderCellDef"],["matColumnDef","priority",4,"ngIf"],["matColumnDef","weightage",4,"ngIf"],["matColumnDef","status"],["matColumnDef","assignedOn"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["label","Salesforce"],["matSort","",1,"campaign-lead-status-sf-table",3,"dataSource"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],["showFirstLastButtons","",3,"length","pageSizeOptions"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","secondary",3,"click"],["mat-sort-header",""],["matColumnDef","priority"],[1,"container-priority-editor"],["matInput","","type","text",3,"disabled","ngModel","ngModelChange"],[3,"hidden"],["mat-icon-button","","color","accent",1,"priority-editor-btn",3,"click"],[1,"material-icons"],["class","priority-editor-btn","mat-icon-button","","color","accent",3,"click",4,"ngIf"],["matColumnDef","weightage"],[2,"border","1px solid black","border-radius","7px","background-color","#e0e0e0"],["matInput","","type","text",2,"width","40px","min-height","inherit","text-align","center","font-size","19px","vertical-align","inherit",3,"ngModel","ngModelChange"],["mat-icon-button","","color","accent",2,"background-color","#f4511e","border-radius","0 7px 7px 0","color","white","height","36px","width","35px",3,"click"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["target","_blank","color","accent","mat-icon-button","","color","primary",3,"click"],["color","accent","mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","accent",3,"click"],[1,"material-icons","btn-start-stop"],[1,"no-data-message"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"mat-tab-group")(4,"mat-tab",2)(5,"mat-table",3,4),e.ynx(7,5),e.YNc(8,Re,2,0,"mat-header-cell",6),e.YNc(9,ke,2,1,"mat-cell",7),e.BQk(),e.ynx(10,8),e.YNc(11,Fe,2,0,"mat-header-cell",6),e.YNc(12,Ye,2,1,"mat-cell",7),e.BQk(),e.ynx(13,9),e.YNc(14,Je,2,0,"mat-header-cell",6),e.YNc(15,Pe,2,1,"mat-cell",7),e.BQk(),e.ynx(16,10),e.YNc(17,Me,2,0,"mat-header-cell",11),e.YNc(18,Oe,2,1,"mat-cell",7),e.BQk(),e.YNc(19,We,3,0,"ng-container",12),e.YNc(20,je,3,0,"ng-container",13),e.ynx(21,14),e.YNc(22,Ve,2,0,"mat-header-cell",11),e.YNc(23,ze,2,1,"mat-cell",7),e.BQk(),e.ynx(24,15),e.YNc(25,Xe,2,0,"mat-header-cell",11),e.YNc(26,Ke,3,4,"mat-cell",7),e.BQk(),e.ynx(27,16),e.YNc(28,et,2,0,"mat-header-cell",11),e.YNc(29,it,11,2,"mat-cell",7),e.BQk(),e.YNc(30,nt,1,0,"mat-header-row",17),e.YNc(31,ot,1,0,"mat-row",18),e.qZA()(),e.TgZ(32,"mat-tab",19)(33,"mat-table",20,4),e.ynx(35,5),e.YNc(36,lt,2,0,"mat-header-cell",6),e.YNc(37,st,2,1,"mat-cell",7),e.BQk(),e.ynx(38,8),e.YNc(39,rt,2,0,"mat-header-cell",6),e.YNc(40,mt,2,1,"mat-cell",7),e.BQk(),e.ynx(41,9),e.YNc(42,ct,2,0,"mat-header-cell",6),e.YNc(43,pt,2,1,"mat-cell",7),e.BQk(),e.ynx(44,10),e.YNc(45,dt,2,0,"mat-header-cell",11),e.YNc(46,ut,2,1,"mat-cell",7),e.BQk(),e.ynx(47,14),e.YNc(48,gt,2,0,"mat-header-cell",11),e.YNc(49,_t,2,1,"mat-cell",7),e.BQk(),e.ynx(50,15),e.YNc(51,ht,2,0,"mat-header-cell",11),e.YNc(52,ft,3,4,"mat-cell",7),e.BQk(),e.ynx(53,16),e.YNc(54,Ct,2,0,"mat-header-cell",11),e.YNc(55,Tt,11,2,"mat-cell",7),e.BQk(),e.YNc(56,bt,1,0,"mat-header-row",17),e.YNc(57,At,1,0,"mat-row",18),e.qZA()()(),e.YNc(58,vt,3,0,"div",21),e.TgZ(59,"div",22)(60,"button",23),e.NdJ("click",function(){return n.reload()}),e.TgZ(61,"mat-icon"),e._uU(62,"refresh"),e.qZA()(),e._UZ(63,"mat-paginator",24),e.qZA()(),e.TgZ(64,"div",25)(65,"button",26),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(66,"Close"),e.qZA()()),2&t&&(e.xp6(1),e.hij("",n.campaign.name," Lead Status"),e.xp6(4),e.Q6J("dataSource",n.dialStatsDataSource),e.xp6(14),e.Q6J("ngIf","PRIORITY"==n.campaign.dialingPreference),e.xp6(1),e.Q6J("ngIf","WEIGHTAGE"==n.campaign.dialingPreference),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(2),e.Q6J("dataSource",n.dialStatsDataSourceSF),e.xp6(23),e.Q6J("matHeaderRowDef",n.displayedColumnsSF),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumnsSF),e.xp6(1),e.Q6J("ngIf",0==n.dialStatsDataSource.length),e.xp6(5),e.Q6J("length",n.resultsLength)("pageSizeOptions",e.DdM(12,yt)))},directives:[b.Ye,p.xY,q.SP,q.uX,m.BZ,f.YE,m.w1,m.fO,m.ge,f.nU,m.Dz,m.ev,h.O5,R.Nt,l.Fj,l.JJ,l.On,C.lW,D.Hw,m.as,m.XQ,m.nj,m.Gk,d.xw,d.Wh,x.NW,p.H8],pipes:[h.uU],styles:["mat-table[_ngcontent-%COMP%]{width:100%}mat-table[_ngcontent-%COMP%]   .a-detail[_ngcontent-%COMP%]{cursor:pointer}mat-dialog-content[_ngcontent-%COMP%]{height:400px}.no-data-message[_ngcontent-%COMP%]{padding-top:5px;text-align:center}.dialog-container-custom[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0!important}.campaign-lead-status-table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{display:flex}.campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-listName[_ngcontent-%COMP%]{flex:0 1 25%}.campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-totalRecords[_ngcontent-%COMP%], .campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-totalFilteredRecords[_ngcontent-%COMP%], .campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-totalDialed[_ngcontent-%COMP%]{flex:0 1 15%;justify-content:center}.campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-csrFilter[_ngcontent-%COMP%], .campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-priority[_ngcontent-%COMP%]{flex:0 1 20%;justify-content:center}.campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-weightage[_ngcontent-%COMP%]{flex:0 1 20%;align-items:center;justify-content:center}.campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{flex:0 1 25%;justify-content:center}.campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-assignedOn[_ngcontent-%COMP%]{flex:0 1 20%}.campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%], .campaign-lead-status-table[_ngcontent-%COMP%]   .mat-column-filterActions[_ngcontent-%COMP%]{flex:0 1 25%}.campaign-lead-status-sf-table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{display:flex}.campaign-lead-status-sf-table[_ngcontent-%COMP%]   .mat-column-listName[_ngcontent-%COMP%]{flex:0 1 20%}.campaign-lead-status-sf-table[_ngcontent-%COMP%]   .mat-column-totalRecords[_ngcontent-%COMP%], .campaign-lead-status-sf-table[_ngcontent-%COMP%]   .mat-column-totalDialed[_ngcontent-%COMP%], .campaign-lead-status-sf-table[_ngcontent-%COMP%]   .mat-column-totalFilteredRecords[_ngcontent-%COMP%]{flex:0 1 10%;justify-content:center}.campaign-lead-status-sf-table[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{flex:0 1 15%;justify-content:center}.campaign-lead-status-sf-table[_ngcontent-%COMP%]   .mat-column-assignedOn[_ngcontent-%COMP%]{flex:0 1 25%}.campaign-lead-status-sf-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{flex:0 1 15%}.btn-start-stop[_ngcontent-%COMP%]{font-size:34px}.container-priority-editor[_ngcontent-%COMP%]{border:1px solid rgba(221,218,218,.54);border-radius:5px;display:inherit;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.14),0 1px 5px rgba(0,0,0,.12)}.container-priority-editor[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35px;min-height:inherit;text-align:center;font-size:16px;font-weight:500;vertical-align:inherit}.priority-editor-btn[_ngcontent-%COMP%]{border-radius:0 5px 5px 0;height:inherit;width:25px}"]}),a})();var Nt=r(28513),ce=r(17009),Dt=r(39750),pe=r(12054),de=r(55443);function It(a,i){if(1&a&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}let St=(()=>{class a{constructor(t,n,o,s,c,u,w){this._formBuilder=t,this._matSnackBar=n,this._holidayService=o,this._leadlistService=s,this._campaignService=c,this._snackbarService=u,this.dialogRef=w,this.campaignHoliday={},this.Holidays=[],this.holiday=new Nt.B}onNoClick(){this.dialogRef.close()}ngOnInit(){this.assignHolidayForm=this.createCreateForm(),this.getData()}getData(){this._holidayService.getAll(1,100).subscribe(t=>{this.Holidays=t.result.items,console.log(this.Holidays)})}createCreateForm(){return this._formBuilder.group({holidayId:[this.holiday.id]})}assignLeadListToCampaign(){var t=this.assignHolidayForm.getRawValue();t.CampaignId=this.campaignId,this._campaignService.assignCampaignHoliday(t).subscribe(n=>{this._matSnackBar.open(" Holiday Assigned Successfully","OK",{verticalPosition:"top",duration:5e3}),this._snackbarService.success("Holiday assigned successfully."),this.dialogRef.close()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36(ce.ux),e.Y36(Dt.W),e.Y36(pe.Z),e.Y36(S.U),e.Y36(de.o),e.Y36(p.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dialog-assign-holiday"]],decls:14,vars:2,consts:[[1,"top-bg","accent"],[1,"assign-holiday-content"],[1,"form-holiday-assign",3,"formGroup"],["appearance","outline","floatLabel","always",1,"w-100-p"],["name","holidayId","formControlName","holidayId"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","primary","type","submit",3,"click"],["color","secondary","mat-raised-button","",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1,"Assign Holiday"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Select Holiday"),e.qZA(),e.TgZ(7,"mat-select",4),e.YNc(8,It,2,2,"mat-option",5),e.qZA()()()(),e.TgZ(9,"mat-dialog-actions",6)(10,"button",7),e.NdJ("click",function(){return n.assignLeadListToCampaign()}),e._uU(11,"Save"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(13,"Close"),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.assignHolidayForm),e.xp6(5),e.Q6J("ngForOf",n.Holidays))},directives:[b.Ye,p.xY,l._Y,l.JL,l.sg,_.KE,_.hX,I.gD,l.JJ,l.u,h.sg,v.ey,p.H8,C.lW],styles:[".form-holiday-assign[_ngcontent-%COMP%]{width:600px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:25px}"]}),a})();var Z=r(68117),L=r(28255),Lt=r(23318);function Ut(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Id "),e.qZA())}function qt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Rt(a,i){1&a&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," Holiday Name "),e.qZA())}function kt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ft(a,i){1&a&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," Description "),e.qZA())}function Yt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Jt(a,i){1&a&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," Start Date "),e.qZA())}function Pt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.startDate," ")}}function Mt(a,i){1&a&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," End Date "),e.qZA())}function Ot(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.endDate," ")}}function Qt(a,i){1&a&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," Status "),e.qZA())}function Bt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enumAsStringPipe"),e.qZA()),2&a){const t=i.$implicit,n=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.status,n.holidayStatus)," ")}}function Ht(a,i){1&a&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," Created On "),e.qZA())}function Et(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.createdOn," ")}}function Wt(a,i){1&a&&(e.TgZ(0,"mat-header-cell",24),e._uU(1," Recurrence "),e.qZA())}function Gt(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.recurrence," ")}}function $t(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function jt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteHoliday(s)}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()()}}function Vt(a,i){1&a&&e._UZ(0,"mat-header-row")}function zt(a,i){1&a&&e._UZ(0,"mat-row")}function Xt(a,i){1&a&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const Kt=function(){return[5,10,20]};let ea=(()=>{class a{constructor(t,n,o,s){this._campaignService=t,this._matDialog=n,this.dialogRef=o,this._snackbarService=s,this.displayedColumns=["id","name","status","actions"],this.holidayStatsDataSource=[],this.filteredAndPagedLists=[],this.holidayStatus=Z.Sr}ngOnInit(){this._campaignService.getHolidayStats(this.campaignId,1,10).subscribe(t=>{t.result&&(this.holidayStatsDataSource=t.result.items)})}reload(){this._campaignService.getHolidayStats(this.campaignId,1,10).subscribe(t=>{t.result&&(this.holidayStatsDataSource=t.result.items)})}ngAfterViewInit(){}deleteHoliday(t){this.confirmDialogRef=this._matDialog.open(G.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete Holiday?",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this._campaignService.deleteHoliday(t.id).subscribe(o=>{o&&(this._snackbarService.success("Holiday deleted successfully."),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(s=>s.id==t.id),1),this.matHolidayTable.renderRows())}),this.confirmDialogRef=null})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(S.U),e.Y36(p.uw),e.Y36(p.so),e.Y36(de.o))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-campaign-holiday-status-dialog"]],viewQuery:function(t,n){if(1&t&&(e.Gf(x.NW,7),e.Gf(f.YE,7),e.Gf(m.BZ,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first),e.iGM(o=e.CRH())&&(n.matHolidayTable=o.first)}},decls:43,vars:7,consts:[[1,"top-bg","accent"],["mat-dialog-content",""],["matSort","",3,"dataSource"],["table",""],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","description"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","status"],["matColumnDef","createdOn"],["matColumnDef","recurrence"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","secondary",3,"click"],["mat-sort-header",""],["mat-menu-item","","aria-label","remove",3,"click"],[1,"no-data-message"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"mat-table",2,3),e.ynx(5,4),e.YNc(6,Ut,2,0,"mat-header-cell",5),e.YNc(7,qt,2,1,"mat-cell",6),e.BQk(),e.ynx(8,7),e.YNc(9,Rt,2,0,"mat-header-cell",8),e.YNc(10,kt,2,1,"mat-cell",6),e.BQk(),e.ynx(11,9),e.YNc(12,Ft,2,0,"mat-header-cell",8),e.YNc(13,Yt,2,1,"mat-cell",6),e.BQk(),e.ynx(14,10),e.YNc(15,Jt,2,0,"mat-header-cell",8),e.YNc(16,Pt,2,1,"mat-cell",6),e.BQk(),e.ynx(17,11),e.YNc(18,Mt,2,0,"mat-header-cell",8),e.YNc(19,Ot,2,1,"mat-cell",6),e.BQk(),e.ynx(20,12),e.YNc(21,Qt,2,0,"mat-header-cell",8),e.YNc(22,Bt,3,4,"mat-cell",6),e.BQk(),e.ynx(23,13),e.YNc(24,Ht,2,0,"mat-header-cell",8),e.YNc(25,Et,2,1,"mat-cell",6),e.BQk(),e.ynx(26,14),e.YNc(27,Wt,2,0,"mat-header-cell",8),e.YNc(28,Gt,2,1,"mat-cell",6),e.BQk(),e.ynx(29,15),e.YNc(30,$t,2,0,"mat-header-cell",5),e.YNc(31,jt,4,0,"mat-cell",6),e.BQk(),e.YNc(32,Vt,1,0,"mat-header-row",16),e.YNc(33,zt,1,0,"mat-row",17),e.qZA(),e.YNc(34,Xt,3,0,"div",18),e.TgZ(35,"div",19)(36,"button",20),e.NdJ("click",function(){return n.reload()}),e.TgZ(37,"mat-icon"),e._uU(38,"refresh"),e.qZA()(),e._UZ(39,"mat-paginator",21),e.qZA()(),e.TgZ(40,"div",22)(41,"button",23),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(42,"Close"),e.qZA()()),2&t&&(e.xp6(1),e.hij("",n.campaign.name," Holiday Status"),e.xp6(2),e.Q6J("dataSource",n.holidayStatsDataSource),e.xp6(29),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==n.holidayStatsDataSource.length),e.xp6(5),e.Q6J("pageSizeOptions",e.DdM(6,Kt)))},directives:[b.Ye,p.xY,m.BZ,f.YE,m.w1,m.fO,m.ge,m.Dz,m.ev,f.nU,L.OP,D.Hw,m.as,m.XQ,m.nj,m.Gk,h.O5,d.xw,d.Wh,C.lW,x.NW,p.H8],pipes:[Lt.G],styles:["mat-table[_ngcontent-%COMP%]{width:100%}mat-table[_ngcontent-%COMP%]   .a-detail[_ngcontent-%COMP%]{cursor:pointer}mat-dialog-content[_ngcontent-%COMP%]{height:400px}.no-data-message[_ngcontent-%COMP%]{padding-top:5px;text-align:center}.dialog-container-custom[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0!important}"]}),a})();var ue=r(74357),ge=r(53377);class ta{constructor(i){this.leadListId=(i=i||{}).campaignLeadlistId||"",this.firstName=i.firstName||"",this.uniqueIdentifier=i.uniqueIdentifier||"",this.contactSelectionRule=i.contactSelectionRule||"",this.phoneNumber=i.phoneNumber||"",this.phoneNumber02=i.phoneNumber02||"",this.phoneNumber03=i.phoneNumber03||"",this.phoneNumber04=i.phoneNumber04||"",this.phoneNumber05=i.phoneNumber05||"",this.phoneNumber06=i.phoneNumber06||"",this.phoneNumber07=i.phoneNumber07||"",this.phoneNumber08=i.phoneNumber08||"",this.phoneNumber09=i.phoneNumber09||"",this.phoneNumber10=i.phoneNumber10||"",this.lastName=i.lastName||"",this.recurrence=i.recurrence||Z.e_.Single,this.recurrenceInterval=i.recurrenceInterval||0,this.recurrenceIntervalUnit=i.recurrenceIntervalUnit||Z.j1.None,this.actionType=i.actionType||"",this.preferredLanguage=i.preferredLanguage||"",this.acountNumber=i.acountNumber||"",this.filterDuplicate=i.filterDuplicate||!1,this.country=i.country||new ue.C,this.timeZone=i.timeZone||new ge.S,this.weightage=i.weightage||0,this.sortColumns=i.sortColumns||[],this.dialWindow01=i.dialWindow01||"",this.dialWindow02=i.dialWindow02||"",this.dialWindow03=i.dialWindow03||"",this.dialWindow04=i.dialWindow04||"",this.lob=i.lob||"",this.email=i.email||""}}var aa=r(88812),j=r(71948),H=r(40368);const ia=["stepper"];function na(a,i){1&a&&e._uU(0,"Choose action type")}function oa(a,i){1&a&&e._uU(0,"Choose list")}function la(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function sa(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function ra(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function ma(a,i){1&a&&(e.TgZ(0,"mat-form-field",17)(1,"mat-label"),e._uU(2,"Weightage"),e.qZA(),e._UZ(3,"input",34),e.qZA())}function ca(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function pa(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text,"")}}function da(a,i){1&a&&(e.TgZ(0,"mat-form-field",21)(1,"mat-label"),e._uU(2,"Recurrence Interval"),e.qZA(),e._UZ(3,"input",35),e.qZA())}function ua(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function ga(a,i){if(1&a&&(e.TgZ(0,"mat-form-field",21)(1,"mat-label"),e._uU(2,"Iteration"),e.qZA(),e.TgZ(3,"mat-select",36),e.YNc(4,ua,2,2,"mat-option",19),e.ALo(5,"enumToArrayPipe"),e.qZA()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,1,t.timeUnit))}}function _a(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function ha(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function fa(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function Ca(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function xa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-step",4)(1,"form",14),e.YNc(2,oa,1,0,"ng-template",6),e.TgZ(3,"mat-form-field",17)(4,"mat-label"),e._uU(5,"Select Lead List"),e.qZA(),e.TgZ(6,"mat-select",18),e.NdJ("selectionChange",function(o){return e.CHM(t),e.oxw().getHeaders(o)}),e.YNc(7,la,2,2,"mat-option",19),e.qZA()(),e.TgZ(8,"div",20)(9,"mat-form-field",21)(10,"mat-label"),e._uU(11,"First Name"),e.qZA(),e.TgZ(12,"mat-select",22),e.YNc(13,sa,2,2,"mat-option",19),e.qZA()(),e.TgZ(14,"mat-form-field",21)(15,"mat-label"),e._uU(16,"Last Name"),e.qZA(),e.TgZ(17,"mat-select",23),e.YNc(18,ra,2,2,"mat-option",19),e.qZA()()(),e.YNc(19,ma,4,0,"mat-form-field",24),e.TgZ(20,"div",20)(21,"mat-form-field",21)(22,"mat-label"),e._uU(23,"Unique Identifier"),e.qZA(),e.TgZ(24,"mat-select",25),e.YNc(25,ca,2,2,"mat-option",19),e.qZA()(),e.TgZ(26,"mat-form-field",21)(27,"mat-label"),e._uU(28,"Recurrence"),e.qZA(),e.TgZ(29,"mat-select",26),e.YNc(30,pa,2,2,"mat-option",19),e.ALo(31,"enumToArrayPipe"),e.qZA()()(),e.TgZ(32,"div",20),e.YNc(33,da,4,0,"mat-form-field",27),e.YNc(34,ga,6,3,"mat-form-field",27),e.qZA(),e.TgZ(35,"div",20)(36,"mat-form-field",28)(37,"mat-label"),e._uU(38,"Dial Window 1"),e.qZA(),e.TgZ(39,"mat-select",29),e.YNc(40,_a,2,2,"mat-option",19),e.qZA()(),e.TgZ(41,"mat-form-field",28)(42,"mat-label"),e._uU(43,"Dial Window 2"),e.qZA(),e.TgZ(44,"mat-select",30),e.YNc(45,ha,2,2,"mat-option",19),e.qZA()(),e.TgZ(46,"mat-form-field",28)(47,"mat-label"),e._uU(48,"Dial Window 3"),e.qZA(),e.TgZ(49,"mat-select",31),e.YNc(50,fa,2,2,"mat-option",19),e.qZA()(),e.TgZ(51,"mat-form-field",28)(52,"mat-label"),e._uU(53,"Dial Window 4"),e.qZA(),e.TgZ(54,"mat-select",32),e.YNc(55,Ca,2,2,"mat-option",19),e.qZA()()()()()}if(2&a){const t=e.oxw();e.Q6J("stepControl",t.assignLeadListForm),e.xp6(1),e.Q6J("formGroup",t.assignLeadListForm),e.xp6(6),e.Q6J("ngForOf",t.ContactLists),e.xp6(6),e.Q6J("ngForOf",t.listHeaders),e.xp6(5),e.Q6J("ngForOf",t.listHeaders),e.xp6(1),e.Q6J("ngIf","WEIGHTAGE"==t.campaign.dialingPreference),e.xp6(6),e.Q6J("ngForOf",t.listHeaders),e.xp6(5),e.Q6J("ngForOf",e.lcZ(31,14,t.recurrenceType)),e.xp6(3),e.Q6J("ngIf",t.assignLeadListForm.get("recurrence").value==t.recurrenceType.Incremental||t.assignLeadListForm.get("recurrence").value==t.recurrenceType.Repetitive),e.xp6(1),e.Q6J("ngIf",t.assignLeadListForm.get("recurrence").value==t.recurrenceType.Incremental||t.assignLeadListForm.get("recurrence").value==t.recurrenceType.Repetitive),e.xp6(6),e.Q6J("ngForOf",t.listHeaders),e.xp6(5),e.Q6J("ngForOf",t.listHeaders),e.xp6(5),e.Q6J("ngForOf",t.listHeaders),e.xp6(5),e.Q6J("ngForOf",t.listHeaders)}}function Za(a,i){1&a&&e._uU(0,"Append list")}function Ta(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.mapId),e.xp6(1),e.hij(" ",t.name," ")}}function ba(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Aa(a,i){if(1&a&&(e.TgZ(0,"mat-step"),e.YNc(1,Za,1,0,"ng-template",6),e.TgZ(2,"form",14)(3,"mat-form-field",17)(4,"mat-label"),e._uU(5,"Select Parent List"),e.qZA(),e.TgZ(6,"mat-select",37),e.YNc(7,Ta,2,2,"mat-option",19),e.qZA()(),e.TgZ(8,"mat-form-field",17)(9,"mat-label"),e._uU(10,"Select Child List"),e.qZA(),e.TgZ(11,"mat-select",38),e.YNc(12,ba,2,2,"mat-option",19),e.qZA()()()()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.appendLeadListForm),e.xp6(5),e.Q6J("ngForOf",t.parentContactLists),e.xp6(5),e.Q6J("ngForOf",t.contactListsToAppend)}}function va(a,i){1&a&&e._uU(0,"Choose PhoneNumbers")}function ya(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function wa(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function Na(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function Da(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function Ia(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.key," ")}}function Sa(a,i){if(1&a&&(e.TgZ(0,"mat-step",4)(1,"form",14),e.YNc(2,va,1,0,"ng-template",6),e.TgZ(3,"mat-form-field",17)(4,"mat-label"),e._uU(5,"Phone Number"),e.qZA(),e.TgZ(6,"mat-select",39),e.YNc(7,ya,2,2,"mat-option",19),e.qZA()(),e.TgZ(8,"mat-form-field",17)(9,"mat-label"),e._uU(10,"Phone Number02"),e.qZA(),e.TgZ(11,"mat-select",40)(12,"mat-option"),e._uU(13,"None"),e.qZA(),e.YNc(14,wa,2,2,"mat-option",19),e.qZA()(),e.TgZ(15,"mat-form-field",17)(16,"mat-label"),e._uU(17,"Phone Number03"),e.qZA(),e.TgZ(18,"mat-select",41)(19,"mat-option"),e._uU(20,"None"),e.qZA(),e.YNc(21,Na,2,2,"mat-option",19),e.qZA()(),e.TgZ(22,"mat-form-field",17)(23,"mat-label"),e._uU(24,"Phone Number04"),e.qZA(),e.TgZ(25,"mat-select",42)(26,"mat-option"),e._uU(27,"None"),e.qZA(),e.YNc(28,Da,2,2,"mat-option",19),e.qZA()(),e.TgZ(29,"mat-form-field",17)(30,"mat-label"),e._uU(31,"Phone Number05"),e.qZA(),e.TgZ(32,"mat-select",43)(33,"mat-option"),e._uU(34,"None"),e.qZA(),e.YNc(35,Ia,2,2,"mat-option",19),e.qZA()()()()),2&a){const t=e.oxw();e.Q6J("stepControl",t.assignLeadListForm),e.xp6(1),e.Q6J("formGroup",t.assignLeadListForm),e.xp6(6),e.Q6J("ngForOf",t.listHeaders),e.xp6(7),e.Q6J("ngForOf",t.listHeaders),e.xp6(7),e.Q6J("ngForOf",t.listHeaders),e.xp6(7),e.Q6J("ngForOf",t.listHeaders),e.xp6(7),e.Q6J("ngForOf",t.listHeaders)}}function La(a,i){1&a&&e._uU(0,"Sorting")}function Ua(a,i){if(1&a&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.key," ")}}function qa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().addPhoneColumnFormGroup(o)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function Ra(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().removePhoneColumn(o)}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function ka(a,i){if(1&a&&(e.TgZ(0,"div",44)(1,"div",45)(2,"mat-form-field",46)(3,"mat-label"),e._uU(4,"Header"),e.qZA(),e.TgZ(5,"mat-select",47),e.YNc(6,Ua,2,2,"mat-option",19),e.qZA()(),e.TgZ(7,"mat-form-field",46)(8,"mat-label"),e._uU(9,"Sort Order"),e.qZA(),e.TgZ(10,"mat-select",48)(11,"mat-option",49),e._uU(12,"Ascending"),e.qZA(),e.TgZ(13,"mat-option",50),e._uU(14,"Descending"),e.qZA()()(),e.TgZ(15,"div",51),e.YNc(16,qa,3,1,"button",52),e.YNc(17,Ra,3,1,"button",52),e.qZA()()()),2&a){const t=i.index,n=e.oxw();e.xp6(1),e.s9C("formGroupName",t),e.xp6(5),e.Q6J("ngForOf",n.listHeaders),e.xp6(10),e.Q6J("ngIf",n.sortColumnsFormArray.length-1==t),e.xp6(1),e.Q6J("ngIf",n.sortColumnsFormArray.length-1!=t)}}function Fa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw().myStepper.next()}),e._uU(2,"Next"),e.qZA(),e.TgZ(3,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw().dialogRef.close(!0)}),e._uU(4,"Close"),e.qZA()()}}function Ya(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).appendLeadList()}),e._uU(1,"Append"),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("disabled",!t.appendLeadListForm.valid)}}function Ja(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).myStepper.next()}),e._uU(1,"Next"),e.qZA()}}function Pa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().myStepper.previous()}),e._uU(2,"Back"),e.qZA(),e.YNc(3,Ya,2,1,"button",57),e.YNc(4,Ja,2,0,"button",58),e.TgZ(5,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw().dialogRef.close(!0)}),e._uU(6,"Close"),e.qZA()()}if(2&a){const t=e.oxw(),n=e.MAs(4);e.xp6(3),e.Q6J("ngIf","APPEND"==t.actionSelectionForm.get("actionType").value&&1==n.selectedIndex),e.xp6(1),e.Q6J("ngIf","NEW"==t.actionSelectionForm.get("actionType").value)}}function Ma(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).assignLeadListToCampaign()}),e._uU(1,"Save"),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("disabled",!t.assignLeadListForm.valid)}}function Oa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().myStepper.previous()}),e._uU(2,"Back"),e.qZA(),e.YNc(3,Ma,2,1,"button",57),e.TgZ(4,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw().dialogRef.close(!0)}),e._uU(5,"Close"),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(3),e.Q6J("ngIf","NEW"==t.actionSelectionForm.get("actionType").value)}}let Qa=(()=>{class a{constructor(t,n,o,s,c,u){this._formBuilder=t,this._leadlistService=n,this._campaignService=o,this._csrService=s,this._snackbarService=c,this.dialogRef=u,this.campaignLeadList={},this.listHeaders=[],this.ContactLists=[],this.parentContactLists=[],this.contactListsToAppend=[],this.leadActionType="NEW",this.timeZoneInfos=[],this.recurrenceType=Z.e_,this.timeUnit=Z.j1,this.isEditable=!1,this.rules=[],this.leadList=new ta,this.csr=new aa.t}onNoClick(){this.dialogRef.close()}ngOnInit(){this.actionSelectionForm=this._formBuilder.group({actionType:["",l.kI.required]}),this.assignLeadListForm=this.createCreateForm("NEW"),this._leadlistService.getAll(1,100,Z.B3.Voice).subscribe(t=>{this.ContactLists=t.result.items}),this._csrService.getAll(1,100).subscribe(t=>{this.rules=t.result.items})}displayTimeZoneNameFn(t){return t&&t.displayName?t.displayName:void 0}displayCountryNameFn(t){return t&&t.name?t.name:void 0}getHeaders(t){this._leadlistService.getLeadHeader(t.value).subscribe(n=>{this.listHeaders=n.result,console.log(this.listHeaders)})}createCreateForm(t){return this._formBuilder.group({leadlistId:new l.NI(this.leadList.leadListId,[l.kI.required]),actionType:[this.leadList.actionType],phoneNumber:new l.NI(this.leadList.phoneNumber,[l.kI.required]),phoneNumber02:new l.NI(this.leadList.phoneNumber02),phoneNumber03:new l.NI(this.leadList.phoneNumber03),phoneNumber04:new l.NI(this.leadList.phoneNumber04),phoneNumber05:new l.NI(this.leadList.phoneNumber05),firstName:[this.leadList.firstName.valueOf()],lastName:[this.leadList.lastName.valueOf()],uniqueIdentifier:[this.leadList.uniqueIdentifier.valueOf()],contactSelectionRule:[this.leadList.contactSelectionRule.valueOf()],recurrence:[this.leadList.recurrence],recurrenceInterval:new l.NI(this.leadList.recurrenceInterval),recurrenceIntervalUnit:[this.leadList.recurrenceIntervalUnit],timeZone:new l.NI(this.leadList.timeZone,[l.kI.required]),filterDuplicate:[this.leadList.filterDuplicate.valueOf()],weightage:new l.NI(this.leadList.weightage),sortColumns:this.addSortColumns(this.leadList.sortColumns),dialWindow01:new l.NI(this.campaignLeadList.dialWindow01),dialWindow02:new l.NI(this.campaignLeadList.dialWindow02),dialWindow03:new l.NI(this.campaignLeadList.dialWindow03),dialWindow04:new l.NI(this.campaignLeadList.dialWindow04),lob:new l.NI(this.leadList.lob),email:new l.NI(this.leadList.email)})}addSortColumns(t){var n=this._formBuilder.array([]);if(0==t.length){const o=this._formBuilder.group({headerIndex:new l.NI,sortOrder:new l.NI});n.push(o)}else t.forEach(o=>{const s=this._formBuilder.group({headerIndex:new l.NI(o.sortBy),sortOrder:new l.NI(o.sortOrder)});n.push(s)});return n}addPhoneColumnFormGroup(){const t=this._formBuilder.group({headerIndex:[l.kI.required],sortOrder:[l.kI.required]});this.sortColumnsFormArray.push(t)}removePhoneColumn(t){this.sortColumnsFormArray.removeAt(this.sortColumnsFormArray.length-1)}get sortColumnsFormArray(){return this.assignLeadListForm.get("sortColumns")}getPhoneColumnsControls(){return this.assignLeadListForm.get("sortColumns").controls}rbNewListSelected(){this.assignLeadListForm.addControl("phoneNumber",new l.NI(this.leadList.phoneNumber,[l.kI.required])),this.assignLeadListForm.addControl("firstName",new l.NI(this.leadList.firstName)),this.assignLeadListForm.addControl("lastName",new l.NI(this.leadList.lastName)),this.assignLeadListForm.addControl("uniqueIdentifier",new l.NI(this.leadList.uniqueIdentifier)),this.assignLeadListForm.addControl("contactSelectionRule",new l.NI(this.leadList.contactSelectionRule)),this.assignLeadListForm.addControl("recurrence",new l.NI(this.leadList.recurrence)),this.assignLeadListForm.addControl("recurrenceInterval",new l.NI(this.leadList.recurrenceInterval)),this.assignLeadListForm.addControl("recurrenceIntervalUnit",new l.NI(this.leadList.recurrenceIntervalUnit)),this.assignLeadListForm.addControl("timeZone",new l.NI(this.leadList.timeZone)),this.assignLeadListForm.addControl("filterDuplicate",new l.NI(this.leadList.filterDuplicate)),this.assignLeadListForm.removeControl("childListId")}rbAppendSelected(){this._campaignService.getLeadsByCampaignId(this.campaignId).subscribe(t=>{this.parentContactLists=t.result}),this._leadlistService.getAll(1,200,Z.B3.Voice).subscribe(t=>{this.contactListsToAppend=t.result.items}),this.appendLeadListForm=this._formBuilder.group({parentMapId:new l.NI("",[l.kI.required]),childListId:["",[l.kI.required]]})}assignLeadListToCampaign(){var t=this.assignLeadListForm.getRawValue();t.CampaignId=this.campaign.id,t.timeZone=this.assignLeadListForm.value.timeZone,this._campaignService.assignCampaignList(t).subscribe(n=>{this._snackbarService.success("List assigned successfully."),this.dialogRef.close()})}appendLeadList(){var t=this.appendLeadListForm.getRawValue();this._campaignService.appendLead(t.parentMapId,t.childListId).subscribe(n=>{this._snackbarService.success("List appended successfully."),this.dialogRef.close()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36(pe.Z),e.Y36(S.U),e.Y36($.d),e.Y36(T.k),e.Y36(p.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dialog-assign-lead"]],viewQuery:function(t,n){if(1&t&&e.Gf(ia,5),2&t){let o;e.iGM(o=e.CRH())&&(n.myStepper=o.first)}},decls:27,vars:14,consts:[[1,"top-bg","accent"],[1,"assign-lead-content"],[3,"disableRipple"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"choose-option"],[1,""],["formControlName","actionType",3,"ngModel","ngModelChange"],["value","NEW",3,"change"],["value","APPEND",3,"change"],[3,"stepControl",4,"ngIf"],[4,"ngIf"],[1,"form-lead-assign",3,"formGroup"],["formArrayName","sortColumns",4,"ngFor","ngForOf"],["align","end"],["appearance","outline","floatLabel","always",1,"w-100-p"],["name","leadlistId","formControlName","leadlistId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between"],["appearance","outline","floatLabel","always","fxFlex","48"],["name","firstName","formControlName","firstName"],["formControlName","lastName"],["appearance","outline","floatLabel","always","class","w-100-p",4,"ngIf"],["formControlName","uniqueIdentifier"],["formControlName","recurrence","required",""],["appearance","outline","floatLabel","always","fxFlex","48",4,"ngIf"],["appearance","outline","floatLabel","always","fxFlex","24"],["formControlName","dialWindow01"],["formControlName","dialWindow02"],["formControlName","dialWindow03"],["formControlName","dialWindow04"],[3,"value"],["matInput","","placeholder","0 to 10","name","weightage","formControlName","weightage","required",""],["matInput","","placeholder","Interval should be equal or greater than 30 minutes","name","recurrenceInterval","formControlName","recurrenceInterval"],["formControlName","iteration"],["formControlName","parentMapId"],["formControlName","childListId"],["formControlName","phoneNumber","required",""],["formControlName","phoneNumber02"],["formControlName","phoneNumber03"],["formControlName","phoneNumber04"],["formControlName","phoneNumber05"],["formArrayName","sortColumns"],["fxLayout","row","fxLayoutAlign","space-between",3,"formGroupName"],["appearance","outline","floatlabel","always","fxFlex","40",1,"w-100-p"],["placeholder","Selection Required","formControlName","headerIndex"],["placeholder","Selection Required","formControlName","sortOrder"],["value","1"],["value","2"],["fxFlex","15",1,"mini-fab-button-container"],["mat-mini-fab","","color","secondary","mat-icon-button","",3,"id","click",4,"ngIf"],["mat-mini-fab","","color","secondary","mat-icon-button","",3,"id","click"],["mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"click"],["color","secondary","mat-raised-button","",3,"click"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"mat-horizontal-stepper",2,3)(5,"mat-step",4)(6,"form",5),e.YNc(7,na,1,0,"ng-template",6),e.TgZ(8,"div",7)(9,"mat-label",8),e._uU(10,"Action Type :"),e.qZA(),e.TgZ(11,"mat-radio-group",9),e.NdJ("ngModelChange",function(s){return n.leadActionType=s}),e.TgZ(12,"mat-radio-button",10),e.NdJ("change",function(){return n.rbNewListSelected()}),e._uU(13,"New"),e.qZA(),e.TgZ(14,"mat-radio-button",11),e.NdJ("change",function(){return n.rbAppendSelected()}),e._uU(15,"Append"),e.qZA()()()()(),e.YNc(16,xa,56,16,"mat-step",12),e.YNc(17,Aa,13,3,"mat-step",13),e.YNc(18,Sa,36,7,"mat-step",12),e.TgZ(19,"mat-step",4),e.YNc(20,La,1,0,"ng-template",6),e.TgZ(21,"form",14),e.YNc(22,ka,18,4,"div",15),e.qZA()()()(),e.TgZ(23,"mat-dialog-actions",16),e.YNc(24,Fa,5,0,"div",13),e.YNc(25,Pa,7,2,"div",13),e.YNc(26,Oa,6,1,"div",13),e.qZA()),2&t){const o=e.MAs(4);e.xp6(1),e.hij("Assign List : ",n.campaign.name,""),e.xp6(2),e.Q6J("disableRipple",!0),e.xp6(2),e.Q6J("stepControl",n.actionSelectionForm),e.xp6(1),e.Q6J("formGroup",n.actionSelectionForm),e.xp6(5),e.Q6J("ngModel",n.leadActionType),e.xp6(5),e.Q6J("ngIf","NEW"==n.actionSelectionForm.get("actionType").value),e.xp6(1),e.Q6J("ngIf","APPEND"==n.actionSelectionForm.get("actionType").value),e.xp6(1),e.Q6J("ngIf","NEW"==n.actionSelectionForm.get("actionType").value),e.xp6(1),e.Q6J("stepControl",n.assignLeadListForm),e.xp6(2),e.Q6J("formGroup",n.assignLeadListForm),e.xp6(1),e.Q6J("ngForOf",n.getPhoneColumnsControls()),e.xp6(2),e.Q6J("ngIf",0==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==o.selectedIndex||2==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",3==o.selectedIndex)}},directives:[b.Ye,p.xY,Q.Vq,Q.C0,l._Y,l.JL,l.sg,Q.VY,_.hX,j.VQ,l.JJ,l.u,j.U0,h.O5,_.KE,I.gD,h.sg,v.ey,d.xw,d.Wh,d.yH,R.Nt,l.Fj,l.Q7,l.CE,l.x0,C.lW,D.Hw,p.H8],pipes:[H.T],styles:[".form-lead-assign[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{padding-top:25px}mat-radio-button[_ngcontent-%COMP%]{margin-left:15%}"]}),a})();class Ba{constructor(i){this.breakId=(i=i||{}).breakId||"00000000-0000-0000-0000-000000000000",this.campaignId=i.campaignId||"00000000-0000-0000-0000-000000000000"}}var _e=r(28947);function Ha(a,i){if(1&a&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name,"")}}let Ea=(()=>{class a{constructor(t,n,o,s){this.dialogRef=t,this._snackbarService=n,this._campaignBreakService=o,this._formBuilder=s,this.resultsLength=0,this.breaks=[],this.break=new Ba,this._campaignBreakService.getAll(1,200).subscribe(c=>{this.breaks=c.result.items}),console.log("Routed Campaign Id: ",this.campaignId)}ngOnInit(){this.assignBreakForm=this.createCreateForm()}createCreateForm(){return this._formBuilder.group({breakId:new l.NI(this.break.breakId)})}assignBreakToCampaign(){var t=this.assignBreakForm.getRawValue();t.CampaignId=this.campaign.id,this._campaignBreakService.assignCampaignBreak(t).subscribe(n=>{this._snackbarService.success("Break assigned successfully."),this.dialogRef.close()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(p.so),e.Y36(T.k),e.Y36(_e.j),e.Y36(l.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-assign-break-dialog"]],viewQuery:function(t,n){if(1&t&&(e.Gf(x.NW,7),e.Gf(f.YE,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:14,vars:2,consts:[[1,"top-bg","accent"],[1,"form-lead-assign",3,"formGroup"],["appearance","outline","floatLabel","always",1,"w-100-p"],["placeholder","Break Name","name","breakId","formControlName","breakId"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1,"Assign Break "),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),e._uU(6,"Break"),e.qZA(),e.TgZ(7,"mat-select",3),e.YNc(8,Ha,2,2,"mat-option",4),e.qZA()()()(),e.TgZ(9,"mat-dialog-actions",5)(10,"button",6),e.NdJ("click",function(){return n.assignBreakToCampaign()}),e._uU(11,"Save"),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(13,"Close"),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.assignBreakForm),e.xp6(5),e.Q6J("ngForOf",n.breaks))},directives:[b.Ye,p.xY,l._Y,l.JL,l.sg,_.KE,_.hX,I.gD,l.JJ,l.u,h.sg,v.ey,p.H8,C.lW],styles:[".form-lead-assign[_ngcontent-%COMP%]{width:500px;height:200px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:25px}"]}),a})();function Wa(a,i){1&a&&(e.TgZ(0,"mat-header-cell",22),e._uU(1," Break Name "),e.qZA())}function Ga(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.breakName," ")}}function $a(a,i){1&a&&(e.TgZ(0,"mat-header-cell",22),e._uU(1," Scheduled On "),e.qZA())}function ja(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.scheduledOn?t.scheduledOn.split(" ")[0]:""," ")}}function Va(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Start Time "),e.qZA())}function za(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.startTime," ")}}function Xa(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," End Time "),e.qZA())}function Ka(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.endTime," ")}}function ei(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Status "),e.qZA())}function ti(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.status," ")}}function ai(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Assigned On "),e.qZA())}function ii(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.assignedOn+"Z","medium")," ")}}function ni(a,i){1&a&&e._UZ(0,"mat-header-row")}function oi(a,i){1&a&&e._UZ(0,"mat-row")}function li(a,i){1&a&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const si=function(){return[5,10,20]};let ri=(()=>{class a{constructor(t,n){this.dialogRef=t,this._campaignBreakService=n,this.resultsLength=0,this.displayedColumns=["breakName","scheduledOn","startTime","endTime","status","assignedOn"],this.statusBreaksDataSource=[],console.log("Routed Campaign Id: ",this.campaignId)}ngOnInit(){}ngAfterViewInit(){(0,F.T)(this.sort.sortChange,this.paginator.page).pipe((0,U.O)({}),(0,J.w)(()=>this._campaignBreakService.getBreakStatus(this.campaignId,this.paginator.pageIndex+1,this.paginator.pageSize)),(0,y.U)(t=>(this.resultsLength=t.result.total,console.log(t.result.items),t.result.items)),(0,P.K)(()=>(0,Y.of)([]))).subscribe(t=>{this.statusBreaksDataSource=t,console.log(t)})}reload(){this._campaignBreakService.getBreakStatus(this.campaignId,this.paginator.pageIndex+1,this.paginator.pageSize).subscribe(t=>{console.log("The Data is: "+t.result.items),this.statusBreaksDataSource=t.result.items})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(p.so),e.Y36(_e.j))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-break-status-dialog"]],viewQuery:function(t,n){if(1&t&&(e.Gf(x.NW,7),e.Gf(f.YE,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:36,vars:7,consts:[[1,"top-bg","accent"],["mat-dialog-content",""],["label","Local"],["matSort","",1,"break-status-table",3,"dataSource"],["table",""],["matColumnDef","breakName"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","scheduledOn"],["matColumnDef","startTime"],[4,"matHeaderCellDef"],["matColumnDef","endTime"],["matColumnDef","status"],["matColumnDef","assignedOn"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],["showFirstLastButtons","",3,"length","pageSizeOptions"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","secondary",3,"click"],["mat-sort-header",""],[1,"no-data-message"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1,"Break Status"),e.qZA(),e.TgZ(2,"div",1)(3,"mat-tab-group")(4,"mat-tab",2)(5,"mat-table",3,4),e.ynx(7,5),e.YNc(8,Wa,2,0,"mat-header-cell",6),e.YNc(9,Ga,2,1,"mat-cell",7),e.BQk(),e.ynx(10,8),e.YNc(11,$a,2,0,"mat-header-cell",6),e.YNc(12,ja,2,1,"mat-cell",7),e.BQk(),e.ynx(13,9),e.YNc(14,Va,2,0,"mat-header-cell",10),e.YNc(15,za,2,1,"mat-cell",7),e.BQk(),e.ynx(16,11),e.YNc(17,Xa,2,0,"mat-header-cell",10),e.YNc(18,Ka,2,1,"mat-cell",7),e.BQk(),e.ynx(19,12),e.YNc(20,ei,2,0,"mat-header-cell",10),e.YNc(21,ti,2,1,"mat-cell",7),e.BQk(),e.ynx(22,13),e.YNc(23,ai,2,0,"mat-header-cell",10),e.YNc(24,ii,3,4,"mat-cell",7),e.BQk(),e.YNc(25,ni,1,0,"mat-header-row",14),e.YNc(26,oi,1,0,"mat-row",15),e.qZA()()(),e.YNc(27,li,3,0,"div",16),e.TgZ(28,"div",17)(29,"button",18),e.NdJ("click",function(){return n.reload()}),e.TgZ(30,"mat-icon"),e._uU(31,"refresh"),e.qZA()(),e._UZ(32,"mat-paginator",19),e.qZA()(),e.TgZ(33,"div",20)(34,"button",21),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(35,"Close"),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("dataSource",n.statusBreaksDataSource),e.xp6(20),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==n.statusBreaksDataSource.length),e.xp6(5),e.Q6J("length",n.resultsLength)("pageSizeOptions",e.DdM(6,si)))},directives:[b.Ye,p.xY,q.SP,q.uX,m.BZ,f.YE,m.w1,m.fO,m.ge,f.nU,m.Dz,m.ev,m.as,m.XQ,m.nj,m.Gk,h.O5,d.xw,d.Wh,C.lW,D.Hw,x.NW,p.H8],pipes:[h.uU],styles:["mat-table[_ngcontent-%COMP%]{width:100%}mat-table[_ngcontent-%COMP%]   .a-detail[_ngcontent-%COMP%]{cursor:pointer}mat-dialog-content[_ngcontent-%COMP%]{height:400px}.no-data-message[_ngcontent-%COMP%]{padding-top:5px;text-align:center}.dialog-container-custom[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{padding:0!important}.break-status-table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{display:flex}.break-status-table[_ngcontent-%COMP%]   .mat-column-breakName[_ngcontent-%COMP%]{flex:0 1 20%}.break-status-table[_ngcontent-%COMP%]   .mat-column-scheduledOn[_ngcontent-%COMP%], .break-status-table[_ngcontent-%COMP%]   .mat-column-startTime[_ngcontent-%COMP%], .break-status-table[_ngcontent-%COMP%]   .mat-column-endTime[_ngcontent-%COMP%], .break-status-table[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{flex:0 1 20%;justify-content:center}.break-status-table[_ngcontent-%COMP%]   .mat-column-assignedOn[_ngcontent-%COMP%]{flex:0 1 30%}.break-status-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{flex:0 1 20%}"]}),a})();var V=r(96560),z=r(43764),he=r(55829),fe=r(48568);const mi=["searchItem"];function ci(a,i){1&a&&(e.TgZ(0,"mat-header-cell",37),e._uU(1,"Name"),e.qZA())}function pi(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",38),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.name)}}function di(a,i){1&a&&(e.TgZ(0,"mat-header-cell",39),e._uU(1,"Status"),e.qZA())}function ui(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell",40)(1,"ui-switch",41),e.NdJ("change",function(o){const c=e.CHM(t).$implicit;return e.oxw().onCampaignStatusChange(o,c)})("ngModelChange",function(o){return e.CHM(t).$implicit.campaignStatus=o}),e.qZA()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("ngModel",t.campaignStatus)}}function gi(a,i){1&a&&(e.TgZ(0,"mat-header-cell",37),e._uU(1,"Active Contacts"),e.qZA())}function _i(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"p",38),e._uU(2),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().clearActiveRecords(s)}),e.TgZ(4,"mat-icon",43),e._uU(5,"recycling "),e.qZA()()()}if(2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.activeContacts)}}function hi(a,i){1&a&&(e.TgZ(0,"mat-header-cell",37),e._uU(1,"Dialing Mode"),e.qZA())}function fi(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",38),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.dialingMode)}}function Ci(a,i){1&a&&(e.TgZ(0,"mat-header-cell",37),e._uU(1,"Type"),e.qZA())}function xi(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",38),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.type)}}function Zi(a,i){1&a&&(e.TgZ(0,"mat-header-cell",37),e._uU(1,"Start Date"),e.qZA())}function Ti(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",38),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.AsE("",t.startDate," ",t.startTime,"")}}function bi(a,i){1&a&&(e.TgZ(0,"mat-header-cell",37),e._uU(1,"Stop Date"),e.qZA())}function Ai(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",38),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.AsE("",t.stopDate," ",t.stopTime,"")}}function vi(a,i){1&a&&(e.TgZ(0,"mat-header-cell",37),e._uU(1,"Campaign Progress"),e.qZA())}function yi(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"progress",44),e._uU(2,"Hello"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&a){const t=i.$implicit;e.xp6(1),e.s9C("value",t.campaignProgress.campaignProgress),e.xp6(3),e.hij("",t.campaignProgress.campaignProgress,"%")}}function wi(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"LeadList"),e.qZA())}function Ni(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"a",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().assignList(s)}),e._uU(2,"Assign "),e.qZA(),e._uU(3," || "),e.TgZ(4,"a",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().openDialStatsDialog(s)}),e._uU(5,"View"),e.qZA()()}}function Di(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function Ii(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",46),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(2,"mat-icon",47),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,48)(6,"button",49)(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit"),e.qZA()(),e.TgZ(11,"button",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteCampaign(s)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Remove"),e.qZA()()()()}if(2&a){const t=i.$implicit,n=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(5),e.Q6J("routerLink","/app/campaign-management/campaign/"+t.id)}}function Si(a,i){1&a&&e._UZ(0,"mat-header-row")}function Li(a,i){1&a&&e._UZ(0,"mat-row",51)}function Ui(a,i){1&a&&(e.TgZ(0,"div",52)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const qi=function(){return{delay:"50ms",scale:"0.2"}},Ce=function(a){return{value:"*",params:a}},Ri=function(){return{delay:"100ms",x:"-25px"}},ki=function(){return{value:"50"}},Fi=function(){return[5,10,15,30]};let xe=(()=>{class a{constructor(t,n,o){this._campaignService=t,this._matDialog=n,this._snackbarService=o,this.filteredAndPagedLists=[],this.resultsLength=0,this.displayedColumns=["name","campaignStatus","activeContacts","dialingMode","type","startDatetime","stopDatetime","campaignProgress","assign","actions"]}ngOnInit(){}ngAfterViewInit(){let t=(0,Ie.R)(this.searchItem.nativeElement,"keyup").pipe((0,Se.b)(800),(0,Le.x)());(0,F.T)(this.sort.sortChange,this.paginator.page,t).pipe((0,U.O)({}),(0,J.w)(()=>this._campaignService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value)),(0,y.U)(n=>(this.resultsLength=n.result.total,n.result.items)),(0,P.K)(()=>(0,Y.of)([]))).subscribe(n=>{this.filteredAndPagedLists=n,console.log(n)}),this.reload()}reload(){this._campaignService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value).subscribe(t=>{this.filteredAndPagedLists=t.result.items,console.log(t)})}onSelectedChange(t){console.log(t)}deleteCampaign(t){this.confirmDialogRef=this._matDialog.open(G.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage=`Are you sure you want to delete ${t.name} campaign?`,this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this._campaignService.deleteCampaign(t.id).subscribe(o=>{o&&(this._snackbarService.success(`Campaign ${t.name} deleted successfully.`),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(s=>s.id==t.id),1),this.matCampaignTable.renderRows())}),this.confirmDialogRef=null})}onCampaignStatusChange(t,n){this._campaignService.changeCampaignState(n.id,t).subscribe(o=>{console.log("Campaign state changed:",o.result),this._snackbarService.success("Campaign state changed successfully.")})}assignList(t){this.assignLeadDialogRef=this._matDialog.open(Qa),this.assignLeadDialogRef.componentInstance.campaignId=t.id,this.assignLeadDialogRef.componentInstance.campaign=t,this.assignLeadDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}openDialStatsDialog(t){this.dialStatsDialogRef=this._matDialog.open(wt,{width:"1100px"}),this.dialStatsDialogRef.componentInstance.campaignId=t.id,this.dialStatsDialogRef.componentInstance.campaign=t,this.dialStatsDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}assignBreak(t){this.assignBreakDialogRef=this._matDialog.open(Ea),this.assignBreakDialogRef.componentInstance.campaignId=t.id,this.assignBreakDialogRef.componentInstance.campaign=t,this.assignBreakDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}openBreakStatsDialog(t){this.statusBreakDialogRef=this._matDialog.open(ri,{width:"1000px"}),this.statusBreakDialogRef.componentInstance.campaignId=t.id,this.statusBreakDialogRef.componentInstance.campaign=t,this.statusBreakDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}assignHoliday(t){this.assignHolidayDialogRef=this._matDialog.open(St),this.assignHolidayDialogRef.componentInstance.campaignId=t.id,this.assignHolidayDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}openHolidayStatsDialog(t){this.holidayStatsDialogRef=this._matDialog.open(ea,{width:"700px"}),this.holidayStatsDialogRef.componentInstance.campaignId=t.id,this.holidayStatsDialogRef.componentInstance.campaign=t,this.holidayStatsDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}clearActiveRecords(t){this._campaignService.removeActiveRecords(t.id).subscribe(n=>{n.result&&this._snackbarService.success("Removed records successfully.")})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(S.U),e.Y36(p.uw),e.Y36(T.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-campaigns-home"]],viewQuery:function(t,n){if(1&t&&(e.Gf(x.NW,7),e.Gf(f.YE,7),e.Gf(m.BZ,5),e.Gf(mi,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first),e.iGM(o=e.CRH())&&(n.matCampaignTable=o.first),e.iGM(o=e.CRH())&&(n.searchItem=o.first)}},decls:62,vars:20,consts:[["id","campaigns",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a campaign"],["searchItem",""],["mat-raised-button","",1,"cuc-white","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"campaigns-table",3,"dataSource"],["matCampaignTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","campaignStatus"],["mat-sort-header","","fxHide","","fxShow.gt-xs","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-xs","",4,"matCellDef"],["matColumnDef","activeContacts"],["matColumnDef","dialingMode"],["matColumnDef","type"],["matColumnDef","startDatetime"],["matColumnDef","stopDatetime"],["matColumnDef","campaignProgress"],["matColumnDef","assign"],[4,"matHeaderCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","camapign",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center center",3,"click"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],["mat-sort-header","","fxHide","","fxShow.gt-xs",""],["fxHide","","fxShow.gt-xs",""],["switchColor","accent","size","small",3,"ngModel","change","ngModelChange"],["mat-icon-button","",3,"click"],["color","accent",1,"material-symbols-rounded","secondary-text"],["max","100","color","green",2,"border","2px solid white","border-radius","10px",3,"value"],[3,"click"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"routerLink"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"camapign"],[1,"no-data-message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),e._uU(6," campaign "),e.qZA(),e.TgZ(7,"span",6),e._uU(8," Campaign Management "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),e._uU(12,"search"),e.qZA(),e._UZ(13,"input",9,10),e.qZA()(),e.TgZ(15,"button",11)(16,"mat-icon"),e._uU(17,"add"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Add New Campaign"),e.qZA()()(),e.TgZ(20,"div",12)(21,"mat-table",13,14),e.ynx(23,15),e.YNc(24,ci,2,0,"mat-header-cell",16),e.YNc(25,pi,3,1,"mat-cell",17),e.BQk(),e.ynx(26,18),e.YNc(27,di,2,0,"mat-header-cell",19),e.YNc(28,ui,2,1,"mat-cell",20),e.BQk(),e.ynx(29,21),e.YNc(30,gi,2,0,"mat-header-cell",16),e.YNc(31,_i,6,1,"mat-cell",17),e.BQk(),e.ynx(32,22),e.YNc(33,hi,2,0,"mat-header-cell",16),e.YNc(34,fi,3,1,"mat-cell",17),e.BQk(),e.ynx(35,23),e.YNc(36,Ci,2,0,"mat-header-cell",16),e.YNc(37,xi,3,1,"mat-cell",17),e.BQk(),e.ynx(38,24),e.YNc(39,Zi,2,0,"mat-header-cell",16),e.YNc(40,Ti,3,2,"mat-cell",17),e.BQk(),e.ynx(41,25),e.YNc(42,bi,2,0,"mat-header-cell",16),e.YNc(43,Ai,3,2,"mat-cell",17),e.BQk(),e.ynx(44,26),e.YNc(45,vi,2,0,"mat-header-cell",16),e.YNc(46,yi,5,2,"mat-cell",17),e.BQk(),e.ynx(47,27),e.YNc(48,wi,2,0,"mat-header-cell",28),e.YNc(49,Ni,6,0,"mat-cell",17),e.BQk(),e.ynx(50,29),e.YNc(51,Di,2,0,"mat-header-cell",28),e.YNc(52,Ii,16,2,"mat-cell",17),e.BQk(),e.YNc(53,Si,1,0,"mat-header-row",30),e.YNc(54,Li,1,0,"mat-row",31),e.qZA(),e.YNc(55,Ui,3,0,"div",32),e.TgZ(56,"div",33)(57,"button",34),e.NdJ("click",function(){return n.reload()}),e.TgZ(58,"mat-icon"),e._uU(59,"refresh"),e.qZA()(),e._UZ(60,"mat-paginator",35,36),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("@animate",e.VKq(13,Ce,e.DdM(12,qi))),e.xp6(2),e.Q6J("@animate",e.VKq(16,Ce,e.DdM(15,Ri))),e.xp6(8),e.Q6J("routerLink","/app/campaign-management/campaign/new"),e.xp6(6),e.Q6J("dataSource",n.filteredAndPagedLists)("@animateStagger",e.DdM(18,ki)),e.xp6(32),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==n.filteredAndPagedLists.length),e.xp6(5),e.Q6J("length",n.resultsLength)("pageSize",5)("pageSizeOptions",e.DdM(19,Fi)))},directives:[V.V,d.xw,d.Wh,D.Hw,d.yH,C.lW,N.rH,m.BZ,f.YE,z.i,m.w1,m.fO,m.ge,f.nU,m.Dz,m.ev,he.b8,fe.o,l.JJ,l.On,L.p6,L.VK,L.OP,m.as,m.XQ,m.nj,m.Gk,h.O5,x.NW],styles:["@media screen and (max-width: 959px){uc-campaigns-home #campaigns .top-bg{height:256px}}uc-campaigns-home #campaigns>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-campaigns-home #campaigns>.center>.header .search-wrapper{width:100%}}uc-campaigns-home #campaigns>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-campaigns-home #campaigns>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-campaigns-home #campaigns>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-campaigns-home .campaigns-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-campaigns-home .campaigns-table .mat-header-row{min-height:64px}uc-campaigns-home .campaigns-table .camapign{position:relative;height:60px}uc-campaigns-home .campaigns-table .mat-column-name{flex:0 0 15%}uc-campaigns-home .campaigns-table .mat-column-campaignStatus{flex:0 0 6%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-activeContacts{flex:0 0 9%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-dialingMode{flex:0 1 10%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-type{flex:0 1 8%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-startDatetime{flex:0 0 10%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-stopDatetime{flex:0 0 10%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-campaignProgress{flex:0 1 20%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-campaignProgress progress{width:250px;height:25px}uc-campaigns-home .campaigns-table .mat-column-campaignProgress progress::-webkit-progress-value{background-color:#4caf50;-webkit-transition:width 1s;transition:width 1s}uc-campaigns-home .campaigns-table .mat-column-assign{flex:0 1 15%;justify-content:center}uc-campaigns-home .campaigns-table .mat-column-assign a{cursor:pointer}uc-campaigns-home .campaigns-table .mat-column-actions{flex:0 1 10%;justify-content:center}uc-campaigns-home .campaigns-table .active-icon{border-radius:50%}uc-campaigns-home .no-data-message{padding-top:5px;text-align:center}\n"],encapsulation:2,data:{animation:W.J}}),a})();class M{constructor(i){this.id=(i=i||{}).id||0,this.name=i.name||"",this.priority=i.priority||5,this.description=i.description||"",this.type=i.type||[],this.dialingPreference=i.dialingPreference||[],this.dialingMode=i.dialingMode||[],this.timeZone=i.timeZone||new ge.S,this.country=i.country||new ue.C,this.startDate=new Date(i.startDate),this.stopDate=new Date(i.stopDate),this.startTime=i.startTime||"00:00",this.stopTime=i.stopTime||"23:59",this.campaignStatus=i.campaignStatus||!1,this.isBTTCEnabled=i.isBTTCEnabled||!1,this.maxAttempts=i.maxAttempts||1,this.batchSize=i.batchSize||10,this.source=i.source||"",this.omniChannels=i.omniChannels||"",this.smsGateways=i.smsGateways||"",this.emailGateways=i.emailGateways||"",this.emailSubjects=i.emailSubjects||"",this.dncLists=i.dncLists||[],this.campaignId=i.id||"",this.dialingRate=i.dialingRate||1,this.entryPointId=i.entryPointId||"",this.dialingListFetchURL=i.dialingListFetchURL||"",this.outdialANI=i.outdialANI||"",this.outdialANIEntry=i.outdialANIEntry||"",this.recordCount=i.recordCount||0,this.cpaEnabled=i.cpaEnabled||!1,this.vendorVersion=i.vendorVersion||"",this.noAnswerRingLimit=i.noAnswerRingLimit||32,this.maxDialingRate=i.maxDialingRate||1,this.abandonRatePercentage=i.abandonRatePercentage||3,this.predictiveCorrectionPace=i.predictiveCorrectionPace||70,this.predictiveGain=i.predictiveGain||1,this.reservationPercentage=i.reservationPercentage||100,this.callProgressAnalysisParams=new X(i.callProgressAnalysisParams),this.zoneEnabled=i.zoneEnabled||!1,this.maxAttemptConfiguration=i.maxAttemptConditions||[],this.maxAttemptConfigurationBasedOnCallResult=i.maxAttemptConditionsBasedOnCallResult||[]}}class Ze{constructor(){this.targetWrapupCodes=[],this.thresholdConditions=[]}}class Te{}class X{constructor(i){this.cpaEnabled=(i=i||{}).cpaEnabled||!1,this.amdEnabled=i.amdEnabled||!1,this.minSilencePeriod=i.minSilencePeriod||608,this.analysisPeriod=i.analysisPeriod||1e3,this.minimumValidSpeech=i.minimumValidSpeech||112,this.maxTimeAnalysis=i.maxTimeAnalysis||3e3,this.maxTermToneAnalysis=i.maxTermToneAnalysis||3e4,this.terminatingToneDetect=i.terminatingToneDetect||!1}}class be{}class Ae{}var Yi=r(60500),A=r(80529),K=r(16916);let ee=(()=>{class a{constructor(t){this._http=t,this.API_BASE_URL=K.N.apiUrl}getAgentScripts(){return this._http.get(this.API_BASE_URL+"api/genesys/agent-script")}getGenesysDivisions(){return this._http.get(this.API_BASE_URL+"api/genesys/divisions")}getEdgeGroups(t,n){return this._http.get(this.API_BASE_URL+"api/genesys/edge-group",{params:(new A.LE).set("index",t.toString()).set("size",n.toString())})}getEdgeSites(t,n){return this._http.get(this.API_BASE_URL+"api/genesys/edge-sites",{params:(new A.LE).set("index",t.toString()).set("size",n.toString())})}getQueues(t,n){return this._http.get(this.API_BASE_URL+"api/queue",{params:(new A.LE).set("index",t.toString()).set("size",n.toString())})}getContactFlows(t,n){return this._http.get(this.API_BASE_URL+"api/connect/get/contact-flows",{params:(new A.LE).set("index",t.toString()).set("size",n.toString())})}getResponseset(t,n){return this._http.get(this.API_BASE_URL+"api/genesys/responseset",{params:(new A.LE).set("index",t.toString()).set("size",n.toString())})}getCallRuleSet(t,n){return this._http.get(this.API_BASE_URL+"api/rule/call-rule",{params:(new A.LE).set("index",t.toString()).set("size",n.toString())})}getWrapUp(t,n){return this._http.get(this.API_BASE_URL+"api/wrapup",{params:(new A.LE).set("index",t.toString()).set("size",n.toString())})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(A.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Ji=r(33054),Pi=r(9020),Mi=r(63687),te=r(75645),Oi=r(68850),Qi=r(44140),Bi=r(66010);let Hi=(()=>{class a{constructor(t){this._http=t,this.API_BASE_URL=K.N.apiUrl}getEntryPoints(){return this._http.get(this.API_BASE_URL+"api/wxcc/getallentrypoints")}getOutdialANI(){return this._http.get(this.API_BASE_URL+"api/wxcc/getalloutDialANI")}getOutdialANIById(t){return this._http.get(this.API_BASE_URL+`api/wxcc/getoutDialANIById/${t}`)}getCampaignId(){return this._http.get(this.API_BASE_URL+"api/wxcc/getCampaignId")}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(A.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var ae=r(44850),ie=r(47957);const Ei=["pickerStartDateTime"],Wi=["pickerStopDateTime"];function Gi(a,i){if(1&a&&(e.TgZ(0,"div",68),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.campaign.name," ")}}function $i(a,i){1&a&&(e.TgZ(0,"div",68),e._uU(1,"New Campaign"),e.qZA())}function ji(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCampaign()}),e.TgZ(1,"span"),e._uU(2,"Add"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.campaignForm.invalid)}}function Vi(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveCampaign()}),e.TgZ(1,"span"),e._uU(2,"Save"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.campaignForm.invalid||t.campaignForm.pristine)}}function zi(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Xi(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function Ki(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().addMaxAttemptConditionFormGroup(o)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function en(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().removeMaxAttemptConditionFormGroup(o)}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function tn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",70)(1,"div",71)(2,"mat-form-field",72)(3,"mat-label"),e._uU(4,"Wrapup"),e.qZA(),e.TgZ(5,"mat-select",73),e.NdJ("selectionChange",function(o){return e.CHM(t),e.oxw().onWrapupCodeChange(o)}),e.YNc(6,zi,2,2,"mat-option",46),e.qZA()(),e.TgZ(7,"mat-form-field",74)(8,"mat-label"),e._uU(9,"Attempt Interval"),e.qZA(),e._UZ(10,"input",75),e.qZA(),e.TgZ(11,"mat-form-field",76)(12,"mat-label"),e._uU(13,"Recurrence Interval Unit"),e.qZA(),e.TgZ(14,"mat-select",77),e.YNc(15,Xi,2,2,"mat-option",46),e.ALo(16,"enumToArrayPipe"),e.qZA()(),e.TgZ(17,"div",78),e.YNc(18,Ki,3,1,"button",79),e.YNc(19,en,3,1,"button",79),e.qZA()()()}if(2&a){const t=i.index,n=e.oxw();e.xp6(1),e.s9C("formGroupName",t),e.xp6(4),e.Q6J("compareWith",n.compareWrapupFn),e.xp6(1),e.Q6J("ngForOf",n.wrapupCodes),e.xp6(9),e.Q6J("ngForOf",e.lcZ(16,6,n.timeUnit)),e.xp6(3),e.Q6J("ngIf",n.maxAttemptConditionsFormArray.length-1==t),e.xp6(1),e.Q6J("ngIf",n.maxAttemptConditionsFormArray.length-1!=t)}}function an(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function nn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text," ")}}function on(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().addMaxAttemptConditionFormGroupBasedOnCallResult(o)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function ln(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().removeMaxAttemptConditionFormGroupBasedOnCallResult(o)}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function sn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",82)(1,"div",71)(2,"mat-form-field",72)(3,"mat-label"),e._uU(4,"Call Result"),e.qZA(),e.TgZ(5,"mat-select",83),e.NdJ("selectionChange",function(o){return e.CHM(t),e.oxw().onWrapupCodeChange(o)}),e.YNc(6,an,2,2,"mat-option",46),e.ALo(7,"enumToArrayPipe"),e.qZA()(),e.TgZ(8,"mat-form-field",74)(9,"mat-label"),e._uU(10,"Attempt Interval"),e.qZA(),e._UZ(11,"input",75),e.qZA(),e.TgZ(12,"mat-form-field",76)(13,"mat-label"),e._uU(14,"Recurrence Interval Unit"),e.qZA(),e.TgZ(15,"mat-select",77),e.YNc(16,nn,2,2,"mat-option",46),e.ALo(17,"enumToArrayPipe"),e.qZA()(),e.TgZ(18,"div",78),e.YNc(19,on,3,1,"button",79),e.YNc(20,ln,3,1,"button",79),e.qZA()()()}if(2&a){const t=i.index,n=e.oxw();e.xp6(1),e.s9C("formGroupName",t),e.xp6(4),e.Q6J("compareWith",n.compareWrapupFn),e.xp6(1),e.Q6J("ngForOf",e.lcZ(7,6,n.wxCC_CallResult)),e.xp6(10),e.Q6J("ngForOf",e.lcZ(17,8,n.timeUnit)),e.xp6(3),e.Q6J("ngIf",n.maxAttemptConditionsFormArrayBasedOnCallResult.length-1==t),e.xp6(1),e.Q6J("ngIf",n.maxAttemptConditionsFormArrayBasedOnCallResult.length-1!=t)}}function rn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.displayName," ")}}function mn(a,i){if(1&a&&(e.TgZ(0,"mat-form-field",48)(1,"mat-label"),e._uU(2,"Time Zone"),e.qZA(),e._UZ(3,"input",84),e.TgZ(4,"mat-autocomplete",85,86),e.YNc(6,rn,2,2,"mat-option",46),e.ALo(7,"async"),e.qZA()()),2&a){const t=e.MAs(5),n=e.oxw();e.xp6(3),e.Q6J("matAutocomplete",t),e.xp6(1),e.Q6J("displayWith",n.displayTimeZoneNameFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,3,n.filteredTimeZoneInfos))}}function cn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function pn(a,i){if(1&a&&(e.TgZ(0,"mat-form-field",64)(1,"mat-label"),e._uU(2,"Country"),e.qZA(),e._UZ(3,"input",87),e.TgZ(4,"mat-autocomplete",85,88),e.YNc(6,cn,2,2,"mat-option",46),e.ALo(7,"async"),e.qZA()()),2&a){const t=e.MAs(5),n=e.oxw();e.xp6(3),e.Q6J("matAutocomplete",t),e.xp6(1),e.Q6J("displayWith",n.displayCountryNameFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,3,n.filteredCountryCodes))}}function dn(a,i){1&a&&(e.TgZ(0,"div",18)(1,"mat-form-field",64)(2,"mat-label"),e._uU(3,"Choose start time"),e.qZA(),e._UZ(4,"input",89),e.qZA(),e.TgZ(5,"mat-form-field",64)(6,"mat-label"),e._uU(7,"Choose end time"),e.qZA(),e._UZ(8,"input",90),e.qZA()())}function un(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.viewValue," ")}}function gn(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-form-field",91)(2,"mat-label"),e._uU(3,"Contactable TimeSet"),e.qZA(),e.TgZ(4,"mat-select",92),e.NdJ("valueChange",function(o){return e.CHM(t),e.oxw().selectedValue=o}),e.YNc(5,un,2,2,"mat-option",46),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("value",t.selectedValue),e.xp6(1),e.Q6J("ngForOf",t.demoData)}}function _n(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function hn(a,i){1&a&&(e.TgZ(0,"mat-option",93),e._uU(1," Preview Dialing"),e.qZA())}function fn(a,i){1&a&&(e.TgZ(0,"mat-option",94),e._uU(1,"Progressive Dialing"),e.qZA())}function Cn(a,i){1&a&&(e.TgZ(0,"mat-option",95),e._uU(1,"Predictive Dialing"),e.qZA())}function xn(a,i){1&a&&(e.TgZ(0,"mat-form-field",64)(1,"mat-label"),e._uU(2,"Dialing Rate "),e.qZA(),e._UZ(3,"input",96),e.TgZ(4,"mat-hint"),e._uU(5,"Min. 1 and Max. 10"),e.qZA()())}function Zn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Tn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function bn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.number),e.xp6(1),e.hij(" ",t.name," ")}}function An(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-form-field",97)(2,"mat-label"),e._uU(3,"EntryPointId"),e.qZA(),e.TgZ(4,"mat-select",98),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().onQueueSelectionChange(o)}),e.YNc(5,Zn,2,2,"mat-option",46),e.qZA()(),e.TgZ(6,"mat-form-field",97)(7,"mat-label"),e._uU(8,"Outdial ANI"),e.qZA(),e.TgZ(9,"mat-select",99),e.NdJ("selectionChange",function(o){return e.CHM(t),e.oxw().onMainSelectChange(o)}),e.YNc(10,Tn,2,2,"mat-option",46),e.qZA()(),e.TgZ(11,"mat-form-field",97)(12,"mat-label"),e._uU(13,"Outdial ANI Entry"),e.qZA(),e.TgZ(14,"mat-select",100),e.YNc(15,bn,2,2,"mat-option",46),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.entryPoints),e.xp6(4),e.Q6J("compareWith",t.compareUCEntityFn),e.xp6(1),e.Q6J("ngForOf",t.outdialANI),e.xp6(4),e.Q6J("compareWith",t.compareUCOutDialEntryEntityFn),e.xp6(1),e.Q6J("ngForOf",t.outdialANIEntries)}}function vn(a,i){1&a&&(e.TgZ(0,"div",18)(1,"mat-form-field",64)(2,"mat-label"),e._uU(3,"Dialing List Fetch URL"),e.qZA(),e._UZ(4,"input",101),e.qZA(),e.TgZ(5,"mat-form-field",64)(6,"mat-label"),e._uU(7,"Record Count "),e.qZA(),e._UZ(8,"input",102),e.qZA()())}function yn(a,i){1&a&&(e.TgZ(0,"div",18)(1,"mat-form-field",25)(2,"mat-label"),e._uU(3,"No Answer Ring Limit"),e.qZA(),e._UZ(4,"input",103),e.qZA(),e.TgZ(5,"mat-form-field",25)(6,"mat-label"),e._uU(7,"Max Dialing Rate"),e.qZA(),e._UZ(8,"input",104),e.qZA(),e.TgZ(9,"mat-form-field",25)(10,"mat-label"),e._uU(11,"Abandon Rate Percentage"),e.qZA(),e._UZ(12,"input",105),e.qZA()())}function wn(a,i){1&a&&(e.TgZ(0,"div",18)(1,"mat-form-field",25)(2,"mat-label"),e._uU(3,"Predictive CorrectionPace"),e.qZA(),e._UZ(4,"input",106),e.qZA(),e.TgZ(5,"mat-form-field",25)(6,"mat-label"),e._uU(7,"Predictive Gain"),e.qZA(),e._UZ(8,"input",107),e.qZA(),e.TgZ(9,"mat-form-field",25)(10,"mat-label"),e._uU(11,"Reservation Percentage"),e.qZA(),e._UZ(12,"input",108),e.qZA()())}function Nn(a,i){1&a&&(e.TgZ(0,"mat-checkbox",112),e._uU(1," Answering Machine Detection "),e.qZA())}function Dn(a,i){if(1&a&&(e.TgZ(0,"div",109)(1,"mat-checkbox",110),e._uU(2," Call Progress Analysis "),e.qZA(),e.YNc(3,Nn,2,0,"mat-checkbox",111),e.qZA()),2&a){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",1==t.campaignForm.get("cpaEnabled").value)}}function In(a,i){1&a&&(e.TgZ(0,"div",18)(1,"mat-form-field",64)(2,"mat-label"),e._uU(3,"Min. Silence Period"),e.qZA(),e.TgZ(4,"mat-hint"),e._uU(5,"In Milliseconds"),e.qZA(),e._UZ(6,"input",113),e.qZA(),e.TgZ(7,"mat-form-field",64)(8,"mat-label"),e._uU(9,"Analysis Period"),e.qZA(),e.TgZ(10,"mat-hint"),e._uU(11,"In Milliseconds"),e.qZA(),e._UZ(12,"input",114),e.qZA()())}function Sn(a,i){1&a&&(e.TgZ(0,"div",18)(1,"mat-form-field",64)(2,"mat-label"),e._uU(3,"Minimum Valid Speech"),e.qZA(),e.TgZ(4,"mat-hint"),e._uU(5,"In Milliseconds"),e.qZA(),e._UZ(6,"input",115),e.qZA(),e.TgZ(7,"mat-form-field",64)(8,"mat-label"),e._uU(9,"Max. Time Analysis"),e.qZA(),e.TgZ(10,"mat-hint"),e._uU(11,"In Milliseconds"),e.qZA(),e._UZ(12,"input",116),e.qZA()())}function Ln(a,i){1&a&&(e.TgZ(0,"div",18)(1,"div",117)(2,"mat-checkbox",118),e._uU(3," Terminating Tone Detect "),e.qZA()(),e.TgZ(4,"mat-form-field",64)(5,"mat-label"),e._uU(6,"Max. Term Tone Analysis"),e.qZA(),e.TgZ(7,"mat-hint"),e._uU(8,"In Milliseconds"),e.qZA(),e._UZ(9,"input",119),e.qZA()())}function Un(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-form-field",64)(2,"mat-label"),e._uU(3,"Campaign ID"),e.qZA(),e._UZ(4,"input",120),e.TgZ(5,"button",121),e.NdJ("click",function(){return e.CHM(t),e.oxw().getCampaignId()}),e.TgZ(6,"mat-icon"),e._uU(7,"open_in_new"),e.qZA()()(),e.TgZ(8,"mat-form-field",64)(9,"mat-label"),e._uU(10,"Vendor Version"),e.qZA(),e._UZ(11,"input",122),e.qZA()()}}function qn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Rn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function kn(a,i){if(1&a&&(e.TgZ(0,"mat-option",80),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const Fn=function(){return{delay:"100ms",x:"-25px"}},Yn=function(a){return{value:"*",params:a}};let ve=(()=>{class a{constructor(t,n,o,s,c,u,w,ne,oe,Yo,Jo,Po,Mo,Oo,Qo){this._geoInfoService=t,this._campaignService=n,this._genesysService=o,this._dncService=s,this._formBuilder=c,this.route=u,this._router=w,this._snackbarService=ne,this._queueService=oe,this._sourceService=Yo,this._wrapupService=Jo,this._omniChannelService=Po,this._smsGateayService=Mo,this._emailGatewayService=Oo,this._wxccService=Qo,this.timeZoneInfos=[],this.edgeGroups=[],this.edgeSites=[],this.agentScripts=[],this.dncLists=[],this.availableSources=[],this.wrapupCodes=[],this.omniChannels=[],this.smsGateways=[],this.emailGateways=[],this.todayDate=new Date,this.dynamicBatchSizingEnabled=!0,this.demoData=[{value:"option1",viewValue:"Demo Contactable Timeset-1"},{value:"option2",viewValue:"Demo Contactable Timeset-2"},{value:"option3",viewValue:"Demo Contactable Timeset-3"}],this.timeUnit=Z.j1,this.wxCC_CallResult=Z.XL,this.campaign=new M,this.responseset=[],this._geoInfoService.getAllCountries().subscribe(g=>{this.countryCodes=g.result}),this._dncService.getAll(1,200).subscribe(g=>{this.dncLists=g.result.items}),this._wxccService.getEntryPoints().subscribe(g=>{console.log(g),this.entryPoints=g.result}),this._wxccService.getOutdialANI().subscribe(g=>{console.log(g),this.outdialANI=g.result}),this._sourceService.getAll(1,200).subscribe(g=>{const ye=[];for(let E=0;E<g.result.items.length;E++)3===g.result.items[E].type&&ye.push(g.result.items[E]);this.availableSources=ye}),this._wrapupService.getAll(1,15e3).subscribe(g=>{this.wrapupCodes=g.result.items}),this._omniChannelService.getAll(1,200).subscribe(g=>{this.omniChannels=g.result.items}),this._smsGateayService.getAll(1,200).subscribe(g=>{this.smsGateways=g.result.items}),this._emailGatewayService.getAll(1,200).subscribe(g=>{this.emailGateways=g.result.items})}ngOnInit(){this.routeParams=this.route.params,this.campaignForm=this.createCreateForm(),this._geoInfoService.getAllTimeZones().subscribe(t=>{this.timeZoneInfos=t.result;const n=this.timeZoneInfos.find(o=>o.isCurrentServerTimeZone);this.campaignForm.get("timeZone").setValue(n),this.filteredTimeZoneInfos=this.campaignForm.get("timeZone").valueChanges.pipe((0,U.O)(""),(0,y.U)(o=>"string"==typeof o?o:o.displayName),(0,y.U)(o=>o?this._filter(o):this.timeZoneInfos.slice()))}),this._geoInfoService.getAllCountries().subscribe(t=>{this.countryCodes=t.result;const n=this.countryCodes.find(o=>o.IsCurrentServerCountry);n&&this.campaignForm.get("country").setValue(n),this.filteredCountryCodes=this.campaignForm.get("country").valueChanges.pipe((0,U.O)(""),(0,y.U)(o=>"string"==typeof o?o:o.name),(0,y.U)(o=>o?this._filterCountries(o):this.countryCodes.slice()))}),"new"===this.routeParams.value.id?(this.pageType="new",this.campaign=new M):(this.pageType="edit",this._campaignService.getById(this.routeParams.value.id).subscribe(t=>{this.campaign=new M(t.result),this.fetchOutDialANIEntries(this.campaign.outdialANI),console.log(this.campaign),this.campaignForm=this.createCreateForm(),console.log(this.campaignForm.invalid),this.todayDate=this.campaign.startDate}))}_filterCountries(t){const n=t.toLowerCase();return this.countryCodes.filter(o=>o.name.toLowerCase().includes(n))}_filter(t){const n=t.toLowerCase();return this.timeZoneInfos.filter(o=>o.displayName.toLowerCase().includes(n))}displayTimeZoneNameFn(t){return t&&t.displayName?t.displayName:""}displayCountryNameFn(t){return t&&t.name?t.name:void 0}compareWrapupFn(t,n){return t&&n&&t==n}compareUCEntityFn(t,n){return console.log(t),console.log(n),t&&n?t.id===n.id:t===n}compareUCOutDialEntryEntityFn(t,n){return console.log(t),console.log(n),t&&n?t.number===n.number:t===n}comparePriorityFn(t,n){return console.log(t),console.log(n),t==n}get currentDialingMode(){return this.campaignForm.get("dialingMode").value}createCreateForm(){return this._formBuilder.group({id:[this.campaign.id],name:new l.NI(this.campaign.name,[l.kI.required]),description:[this.campaign.description],campaignStatus:[this.campaign.campaignStatus],dialingMode:new l.NI(this.campaign.dialingMode,[l.kI.required]),maxAttempts:new l.NI(this.campaign.maxAttempts,[l.kI.required]),batchSize:new l.NI(this.campaign.batchSize,[l.kI.required]),type:new l.NI(this.campaign.type.valueOf(),[l.kI.required]),dialingPreference:new l.NI(this.campaign.dialingPreference.valueOf(),[l.kI.required]),timeZone:new l.NI(this.campaign.timeZone,[l.kI.required]),country:new l.NI(this.campaign.country,[l.kI.required]),isBTTCEnabled:this.campaign.isBTTCEnabled,startDate:new l.NI(this.campaign.startDate,[l.kI.required]),stopDate:new l.NI(this.campaign.stopDate,[l.kI.required]),startTime:new l.NI(this.campaign.startTime,[l.kI.required]),stopTime:new l.NI(this.campaign.stopTime,[l.kI.required]),priority:new l.NI(this.campaign.priority),dncLists:[this.campaign.dncLists],source:new l.NI(this.campaign.source),omniChannels:new l.NI(this.campaign.omniChannels),smsGateways:new l.NI(this.campaign.smsGateways),emailGateways:new l.NI(this.campaign.emailGateways),emailSubjects:new l.NI(this.campaign.emailSubjects),campaignId:new l.NI(this.campaign.campaignId),vendorVersion:new l.NI(this.campaign.vendorVersion),dialingRate:new l.NI(this.campaign.dialingRate),entryPointId:new l.NI(this.campaign.entryPointId),dialingListFetchURL:new l.NI(this.campaign.dialingListFetchURL),outdialANI:new l.NI(this.campaign.outdialANI),outdialANIEntry:new l.NI(this.campaign.outdialANIEntry),recordCount:new l.NI(this.campaign.recordCount),noAnswerRingLimit:new l.NI(this.campaign.noAnswerRingLimit),maxDialingRate:new l.NI(this.campaign.maxDialingRate),abandonRatePercentage:new l.NI(this.campaign.abandonRatePercentage),predictiveCorrectionPace:new l.NI(this.campaign.predictiveCorrectionPace),predictiveGain:new l.NI(this.campaign.predictiveGain),reservationPercentage:new l.NI(this.campaign.reservationPercentage),cpaEnabled:new l.NI(this.campaign.callProgressAnalysisParams.cpaEnabled),amdEnabled:new l.NI(this.campaign.callProgressAnalysisParams.amdEnabled),minSilencePeriod:new l.NI(this.campaign.callProgressAnalysisParams.minSilencePeriod),analysisPeriod:new l.NI(this.campaign.callProgressAnalysisParams.analysisPeriod),minimumValidSpeech:new l.NI(this.campaign.callProgressAnalysisParams.minimumValidSpeech),maxTimeAnalysis:new l.NI(this.campaign.callProgressAnalysisParams.maxTimeAnalysis),terminatingToneDetect:new l.NI(this.campaign.callProgressAnalysisParams.terminatingToneDetect),maxTermToneAnalysis:new l.NI(this.campaign.callProgressAnalysisParams.maxTermToneAnalysis),zoneEnabled:new l.NI(this.campaign.zoneEnabled),maxAttemptConditions:this.addMaxAttemptConditions(this.campaign.maxAttemptConfiguration),maxAttemptConditionsBasedOnCallResult:this.addMaxAttemptConditionsBasedOnCallResult(this.campaign.maxAttemptConfigurationBasedOnCallResult)})}get thresholdConditionsFormArray(){return this.campaignForm.get("thresholdConditions")}getThresholdConditionControls(){return this.campaignForm.get("thresholdConditions").controls}addThresholdConditions(t){var n=this._formBuilder.array([]);if(0==t.length){let o=new Te;const s=this._formBuilder.group({thresholdType:new l.NI(o.thresholdType),thresholdTargetValue:new l.NI(o.thresholdTargetValue),expressionOperator:new l.NI(o.expressionOperator),expressionValue:new l.NI(o.expressionValue)});n.push(s)}else t.forEach(o=>{const s=this._formBuilder.group({thresholdType:new l.NI(o.thresholdType),thresholdTargetValue:new l.NI(o.thresholdTargetValue),expressionOperator:new l.NI(o.expressionOperator),expressionValue:new l.NI(o.expressionValue)});n.push(s)});return n}addThresholdConditionFormGroup(){let t=new Te;const n=this._formBuilder.group({thresholdType:new l.NI(t.thresholdType),thresholdTargetValue:new l.NI(t.thresholdTargetValue),expressionOperator:new l.NI(t.expressionOperator),expressionValue:new l.NI(t.expressionValue)});this.thresholdConditionsFormArray.push(n)}removeThresholdConditionFormGroup(t){this.thresholdConditionsFormArray.removeAt(this.thresholdConditionsFormArray.length-1)}onDialingModeChange(t){"preview"==t.value&&(this.campaignForm.controls.name.clearValidators(),this.campaignForm.controls.name.updateValueAndValidity())}saveCampaign(){const t=this.campaignForm.getRawValue();let n=new Ze;n.targetWrapupCodes=t.wrapupCodes,n.thresholdConditions=t.thresholdConditions,n.defaultThresholdType=t.defaultThresholdType,n.defaultThresholdValue=t.defaultThresholdValue;let o=new X;o.cpaEnabled=t.cpaEnabled,o.amdEnabled=t.amdEnabled,o.minSilencePeriod=t.minSilencePeriod,o.analysisPeriod=t.analysisPeriod,o.minimumValidSpeech=t.minimumValidSpeech,o.maxTermToneAnalysis=t.maxTermToneAnalysis,o.terminatingToneDetect=t.terminatingToneDetect,t.wrapupCodes&&t.thresholdConditions&&t.defaultThresholdValue&&(t.thresholdConfiguration=n),t.thresholdConditions=null,t.wrapupCodes=null,t.cpaEnabled&&(t.callProgressAnalysisParams=o),console.log(t),this._campaignService.saveCampaign(t).subscribe(s=>{s.result&&(this._snackbarService.success(`Campaign ${t.name} saved successfully.`),this._router.navigateByUrl("app/campaign-management/campaigns"))})}addCampaign(){const t=this.campaignForm.getRawValue();t.id="preview"==t.dialingMode?"00000000-0000-0000-0000-000000000000":`${t.campaignId}`;let n=new Ze;n.targetWrapupCodes=t.wrapupCodes,n.thresholdConditions=t.thresholdConditions,n.defaultThresholdType=t.defaultThresholdType,n.defaultThresholdValue=t.defaultThresholdValue;let o=new X;o.cpaEnabled=t.cpaEnabled,o.amdEnabled=t.amdEnabled,o.minSilencePeriod=t.minSilencePeriod,o.analysisPeriod=t.analysisPeriod,o.minimumValidSpeech=t.minimumValidSpeech,o.maxTermToneAnalysis=t.maxTermToneAnalysis,o.terminatingToneDetect=t.terminatingToneDetect,t.wrapupCodes&&t.thresholdConditions&&t.defaultThresholdValue&&(t.thresholdConfiguration=n),t.cpaEnabled&&(t.callProgressAnalysisParams=o),t.thresholdConditions=null,t.wrapupCodes=null,console.log(t),this._campaignService.addCampaign(t).subscribe(s=>{s.result&&(this.campaign.id=s.result,this._snackbarService.success(`Campaign ${t.name} added successfully.`),this._router.navigateByUrl("app/campaign-management/campaigns"))})}getCampaignId(){this._wxccService.getCampaignId().subscribe(t=>{this.campaignForm.get("campaignId").setValue(t.result)})}onMainSelectChange(t){console.log(t),this.fetchOutDialANIEntries(t.value)}fetchOutDialANIEntries(t){this._wxccService.getOutdialANIById(t).subscribe(n=>{console.log(n),this.outdialANIEntries=n.result.outDialANIEntries})}get maxAttemptConditionsFormArray(){return this.campaignForm.get("maxAttemptConditions")}getMaxAttemptConditionControlsBasedOnWrapup(){return this.campaignForm.get("maxAttemptConditions").controls}addMaxAttemptConditions(t){var n=this._formBuilder.array([]);if(0==t.length){let o=new be;const s=this._formBuilder.group({wrapupCode:new l.NI(o.wrapupCode),attemptInterval:new l.NI(o.attemptInterval),attemptIntervalUnit:new l.NI(o.attemptIntervalUnit)});n.push(s),s.get("wrapupCode").valueChanges.subscribe(c=>{this.setRequiredFields(this.maxAttemptConditionsFormArray.length-1,!!c)})}else t.forEach(o=>{const s=this._formBuilder.group({wrapupCode:new l.NI(o.wrapupCode),attemptInterval:new l.NI(o.attemptInterval),attemptIntervalUnit:new l.NI(o.attemptIntervalUnit)});n.push(s),s.get("wrapupCode").valueChanges.subscribe(c=>{this.setRequiredFields(this.maxAttemptConditionsFormArray.length-1,!!c)})});return n}addMaxAttemptConditionFormGroup(){let t=new be;const n=this._formBuilder.group({wrapupCode:new l.NI(t.wrapupCode),attemptInterval:new l.NI(t.attemptInterval),attemptIntervalUnit:new l.NI(t.attemptIntervalUnit)});this.maxAttemptConditionsFormArray.push(n),this.setRequiredFields(this.maxAttemptConditionsFormArray.length-1,!0)}removeMaxAttemptConditionFormGroup(t){this.maxAttemptConditionsFormArray.removeAt(this.maxAttemptConditionsFormArray.length-1),this.maxAttemptConditionsFormArray.controls.forEach(n=>{n.updateValueAndValidity()}),this.campaignForm.updateValueAndValidity(),this.campaignForm.markAsDirty()}setRequiredFields(t,n){const s=this.campaignForm.get("maxAttemptConditions").at(t);n?(s.get("attemptInterval").setValidators([l.kI.required]),s.get("attemptIntervalUnit").setValidators([l.kI.required])):(s.get("attemptInterval").clearValidators(),s.get("attemptIntervalUnit").clearValidators()),s.get("attemptInterval").updateValueAndValidity(),s.get("attemptIntervalUnit").updateValueAndValidity()}get maxAttemptConditionsFormArrayBasedOnCallResult(){return this.campaignForm.get("maxAttemptConditionsBasedOnCallResult")}getMaxAttemptConditionControlsBasedOnCallResult(){return this.campaignForm.get("maxAttemptConditionsBasedOnCallResult").controls}addMaxAttemptConditionsBasedOnCallResult(t){var n=this._formBuilder.array([]);if(0==t.length){let o=new Ae;const s=this._formBuilder.group({callResult:new l.NI(o.callResult),attemptInterval:new l.NI(o.attemptInterval),attemptIntervalUnit:new l.NI(o.attemptIntervalUnit)});n.push(s),s.get("callResult").valueChanges.subscribe(c=>{this.setRequiredFields(this.maxAttemptConditionsFormArrayBasedOnCallResult.length-1,!!c)})}else t.forEach(o=>{const s=this._formBuilder.group({callResult:new l.NI(o.callResult),attemptInterval:new l.NI(o.attemptInterval),attemptIntervalUnit:new l.NI(o.attemptIntervalUnit)});n.push(s),s.get("callResult").valueChanges.subscribe(c=>{this.setRequiredFields(this.maxAttemptConditionsFormArrayBasedOnCallResult.length-1,!!c)})});return n}addMaxAttemptConditionFormGroupBasedOnCallResult(){let t=new Ae;const n=this._formBuilder.group({callResult:new l.NI(t.callResult),attemptInterval:new l.NI(t.attemptInterval),attemptIntervalUnit:new l.NI(t.attemptIntervalUnit)});this.maxAttemptConditionsFormArrayBasedOnCallResult.push(n),this.setRequiredFieldsBasedOnCallResult(this.maxAttemptConditionsFormArrayBasedOnCallResult.length-1,!0)}removeMaxAttemptConditionFormGroupBasedOnCallResult(t){this.maxAttemptConditionsFormArrayBasedOnCallResult.removeAt(this.maxAttemptConditionsFormArrayBasedOnCallResult.length-1),this.maxAttemptConditionsFormArrayBasedOnCallResult.controls.forEach(n=>{n.updateValueAndValidity()}),this.campaignForm.updateValueAndValidity(),this.campaignForm.markAsDirty()}setRequiredFieldsBasedOnCallResult(t,n){const s=this.campaignForm.get("maxAttemptConditionsBasedOnCallResult").at(t);n?(s.get("attemptIntervalBasedOnCallResult").setValidators([l.kI.required]),s.get("attemptIntervalUnitBasedOnCallResult").setValidators([l.kI.required])):(s.get("attemptIntervalBasedOnCallResult").clearValidators(),s.get("attemptIntervalUnitBasedOnCallResult").clearValidators()),s.get("attemptIntervalBasedOnCallResult").updateValueAndValidity(),s.get("attemptIntervalUnitBasedOnCallResult").updateValueAndValidity()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Yi.q),e.Y36(S.U),e.Y36(ee),e.Y36(Ji.o),e.Y36(l.qu),e.Y36(N.gz),e.Y36(N.F0),e.Y36(T.k),e.Y36(Pi.g),e.Y36(Mi.t),e.Y36(te.Y),e.Y36(Oi.Q),e.Y36(Qi.s),e.Y36(Bi.E),e.Y36(Hi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-campaign"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ei,7),e.Gf(Wi,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.pickerStartDateTime=o.first),e.iGM(o=e.CRH())&&(n.pickerStopDateTime=o.first)}},decls:152,vars:41,consts:[["id","campaign-form",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["fxLayout","column","fxFlex","",1,"campaign","w-100-p",3,"formGroup"],["label","Basic Info"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","Campaign Name","name","name","formControlName","name","required",""],["matInput","","placeholder","Campaign Description","name","description","formControlName","description","rows","2"],["fxLayout","row","fxLayoutAlign","space-between"],["appearance","outline","floatlabel","always","fxFlex","32"],["name","type","formControlName","type","requied",""],["value","Agent"],["name","dialingPreference","formControlName","dialingPreference","required",""],["value","PRIORITY"],["value","WEIGHTAGE"],["appearance","outline","floatLabel","always","fxFlex","32"],["matInput","","type","number","placeholder","Max Attempts","name","maxAttempts","formControlName","maxAttempts","required","","min","1","max","5"],["label","Attempt Control"],["fxLayout","row","fxLayoutAlign","space-between","class","w-100-p","formArrayName","maxAttemptConditions",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between","class","w-100-p","formArrayName","maxAttemptConditionsBasedOnCallResult",4,"ngFor","ngForOf"],["label","Time Settings"],["labelPosition","before","formControlName","zoneEnabled",1,"w-30-p"],["appearance","outline","floatlabel","always","fxFlex","48",4,"ngIf"],["appearance","outline","floatLabel","always","fxFlex","48",4,"ngIf"],["appearance","outline","fxFlex","48"],["matInput","","formControlName","startDate",3,"matDatepicker","min"],["matSuffix","",3,"for"],["color","accent"],["startDatePicker",""],["appearance","outline","fxFlex","48","floatLabel","always"],["matInput","","formControlName","stopDate",3,"matDatepicker","min"],["stopDatePicker",""],["fxLayout","row","fxLayoutAlign","space-between",4,"ngIf"],["label","DNC Settings"],["appearance","outline",1,"w-100-p"],["formControlName","dncLists","multiple","",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],["label","Dialing Mode Options"],["appearance","outline","floatlabel","always","fxFlex","48"],["formControlName","dialingMode","requied","",3,"selectionChange"],["value","preview",4,"ngIf"],["value","progressive",4,"ngIf"],["value","predictive",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between","style","margin-bottom: 20px;",4,"ngIf"],["label","Campaign Options"],["floatlabel","always","appearance","outline","fxFlex","48"],["formControlName","priority","requied","",3,"compareWith"],["value","5"],["value","4"],["value","3"],["value","2"],["value","1"],["label","Omnichannel Orchestration Settings"],["formControlName","omniChannels"],["appearance","outline","floatLabel","always","fxFlex","48"],["formControlName","smsGateways"],["matInput","","placeholder","Email Subject","name","name","formControlName","emailSubjects"],["formControlName","emailGateways"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","space-between","formArrayName","maxAttemptConditions",1,"w-100-p"],["fxLayout","row","fxLayoutAlign","space-between",1,"w-100-p",3,"formGroupName"],["floatlabel","always","appearance","outline","fxFlex","30"],["formControlName","wrapupCode",3,"compareWith","selectionChange"],["floatlabel","always","appearance","outline","fxFlex","25"],["matInput","","placeholder","Retry Interval ","placeholder","Interval between two attempts","formControlName","attemptInterval"],["appearance","outline","floatLabel","always","fxFlex","25"],["formControlName","attemptIntervalUnit"],["fxFlex","7",1,"mini-fab-button-container"],["mat-mini-fab","","color","secondary","mat-icon-button","",3,"id","click",4,"ngIf"],[3,"value"],["mat-mini-fab","","color","secondary","mat-icon-button","",3,"id","click"],["fxLayout","row","fxLayoutAlign","space-between","formArrayName","maxAttemptConditionsBasedOnCallResult",1,"w-100-p"],["formControlName","callResult",3,"compareWith","selectionChange"],["type","text","placeholder","Select timezone","matInput","","formControlName","timeZone","required","",3,"matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],["type","text","placeholder","Select country","matInput","","formControlName","country","required","",3,"matAutocomplete"],["autoCountry","matAutocomplete"],["matInput","","type","text","placeholder","00:00","name","startTime","formControlName","startTime","required",""],["matInput","","type","text","placeholder","23:59","name","stopTime","formControlName","stopTime","required",""],["appearance","outline","fxFlex","48",1,"w-100-p"],[3,"value","valueChange"],["value","preview"],["value","progressive"],["value","predictive"],["matInput","","type","number","min","1","max","10","placeholder","Dialing Rate","formControlName","dialingRate","required",""],["appearance","outline","fxFlex","33"],["formControlName","entryPointId","required","",3,"ngModelChange"],["formControlName","outdialANI",3,"compareWith","selectionChange"],["formControlName","outdialANIEntry",3,"compareWith"],["matInput","","type","text","placeholder","Dialing List Fetch URL","formControlName","dialingListFetchURL","required",""],["matInput","","type","number","min","1","placeholder","Record Count","formControlName","recordCount","required",""],["matInput","","type","number","min","1","placeholder","No Answer Ring Limit","formControlName","noAnswerRingLimit"],["matInput","","type","number","placeholder","Max Dialing Rate","formControlName","maxDialingRate"],["matInput","","type","number","min","1","placeholder","Abandon Rate Percentage","formControlName","abandonRatePercentage"],["matInput","","type","number","min","1","placeholder","Predictive CorrectionPace","formControlName","predictiveCorrectionPace"],["matInput","","type","number","min","1","placeholder","Predictive Gain","formControlName","predictiveGain"],["matInput","","type","number","min","1","placeholder","Reservation Percentage","formControlName","reservationPercentage"],["fxLayout","row","fxLayoutAlign","space-between",2,"margin-bottom","20px"],["labelPosition","before","formControlName","cpaEnabled",1,"w-30-p"],["labelPosition","before","formControlName","amdEnabled","class","w-30-p",4,"ngIf"],["labelPosition","before","formControlName","amdEnabled",1,"w-30-p"],["matInput","","type","number","placeholder","Min. Silence Period","min","608","formControlName","minSilencePeriod"],["matInput","","type","number","placeholder","Analysis Period","min","1000","formControlName","analysisPeriod"],["matInput","","type","number","placeholder","Minimum Valid Speech","min","112","formControlName","minimumValidSpeech"],["matInput","","type","number","placeholder","Max Time Analysis","min","3000","formControlName","maxTimeAnalysis"],["appearance","outline","floatLabel","always","fxFlex","48",2,"display","flex","align-items","center"],["labelPosition","before","formControlName","terminatingToneDetect",1,"w-30-p"],["matInput","","type","number","placeholder","Max. Term Tone Analysis","min","30000","formControlName","maxTermToneAnalysis"],["matInput","","type","text","placeholder","Campaign ID","formControlName","campaignId","required",""],["mat-icon-button","","matSuffix","","aria-label","Button",3,"click"],["matInput","","type","text","placeholder","Vendor Version","formControlName","vendorVersion","required",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),e._uU(7,"arrow_back"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,Gi,2,1,"div",7),e.YNc(10,$i,2,0,"div",7),e.TgZ(11,"div",8)(12,"span"),e._uU(13,"Campaign Settings"),e.qZA()()()(),e.YNc(14,ji,3,1,"button",9),e.YNc(15,Vi,3,1,"button",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),e._uU(24,"Campaign Name"),e.qZA(),e._UZ(25,"input",16),e.qZA(),e.TgZ(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"Campaign Description"),e.qZA(),e.TgZ(29,"textarea",17),e._uU(30,"                                    "),e.qZA()(),e.TgZ(31,"div",18)(32,"mat-form-field",19)(33,"mat-label"),e._uU(34,"Campaign Type"),e.qZA(),e.TgZ(35,"mat-select",20)(36,"mat-option",21),e._uU(37,"Agent"),e.qZA()()(),e.TgZ(38,"mat-form-field",19)(39,"mat-label"),e._uU(40,"Dialing Preference"),e.qZA(),e.TgZ(41,"mat-select",22)(42,"mat-option",23),e._uU(43,"Priority"),e.qZA(),e.TgZ(44,"mat-option",24),e._uU(45,"Weightage"),e.qZA()()(),e.TgZ(46,"mat-form-field",25)(47,"mat-label"),e._uU(48,"Max Attempts"),e.qZA(),e.TgZ(49,"mat-hint"),e._uU(50,"Enter between 1-5"),e.qZA(),e._UZ(51,"input",26),e.qZA()()()(),e.TgZ(52,"mat-tab",27)(53,"div",14)(54,"h3"),e._uU(55,"Attempt Based on Wrapup"),e.qZA(),e.YNc(56,tn,20,8,"div",28),e._UZ(57,"mat-divider"),e.TgZ(58,"h3"),e._uU(59,"Attempt Based on Call Results"),e.qZA(),e.YNc(60,sn,21,10,"div",29),e.qZA()(),e.TgZ(61,"mat-tab",30)(62,"div",14)(63,"mat-checkbox",31),e._uU(64," Multiple TimeZone "),e.qZA(),e.TgZ(65,"div",18),e.YNc(66,mn,8,5,"mat-form-field",32),e.YNc(67,pn,8,5,"mat-form-field",33),e.qZA(),e.TgZ(68,"div",18)(69,"mat-form-field",34)(70,"mat-label"),e._uU(71,"Choose start date"),e.qZA(),e._UZ(72,"input",35)(73,"mat-datepicker-toggle",36)(74,"mat-datepicker",37,38),e.qZA(),e.TgZ(76,"mat-form-field",39)(77,"mat-label"),e._uU(78,"Choose end date"),e.qZA(),e._UZ(79,"input",40)(80,"mat-datepicker-toggle",36)(81,"mat-datepicker",37,41),e.qZA()(),e.YNc(83,dn,9,0,"div",42),e.YNc(84,gn,6,2,"div",42),e.qZA()(),e.TgZ(85,"mat-tab",43)(86,"div",14)(87,"mat-form-field",44)(88,"mat-label"),e._uU(89,"DNC Lists"),e.qZA(),e.TgZ(90,"mat-select",45),e.YNc(91,_n,2,2,"mat-option",46),e.qZA()()()(),e.TgZ(92,"mat-tab",47)(93,"div",14)(94,"div",18)(95,"mat-form-field",48)(96,"mat-label"),e._uU(97,"Dialing Mode"),e.qZA(),e.TgZ(98,"mat-select",49),e.NdJ("selectionChange",function(s){return n.onDialingModeChange(s)}),e.YNc(99,hn,2,0,"mat-option",50),e.YNc(100,fn,2,0,"mat-option",51),e.YNc(101,Cn,2,0,"mat-option",52),e.qZA()(),e.YNc(102,xn,6,0,"mat-form-field",33),e.qZA(),e.YNc(103,An,16,5,"div",42),e.YNc(104,vn,9,0,"div",42),e.YNc(105,yn,13,0,"div",42),e.YNc(106,wn,13,0,"div",42),e.YNc(107,Dn,4,1,"div",53),e.YNc(108,In,13,0,"div",42),e.YNc(109,Sn,13,0,"div",42),e.YNc(110,Ln,10,0,"div",42),e.qZA()(),e.TgZ(111,"mat-tab",54)(112,"div",14)(113,"div",18)(114,"mat-form-field",55)(115,"mat-label"),e._uU(116,"Campaign Priority"),e.qZA(),e.TgZ(117,"mat-select",56)(118,"mat-option",57),e._uU(119,"5 (highest)"),e.qZA(),e.TgZ(120,"mat-option",58),e._uU(121,"4"),e.qZA(),e.TgZ(122,"mat-option",59),e._uU(123,"3"),e.qZA(),e.TgZ(124,"mat-option",60),e._uU(125,"2"),e.qZA(),e.TgZ(126,"mat-option",61),e._uU(127,"1 (lowest)"),e.qZA()()()(),e.YNc(128,Un,12,0,"div",42),e.qZA()(),e.TgZ(129,"mat-tab",62)(130,"div",14)(131,"div",18)(132,"mat-form-field",48)(133,"mat-label"),e._uU(134,"Omnichannel Orchestration"),e.qZA(),e.TgZ(135,"mat-select",63),e.YNc(136,qn,2,2,"mat-option",46),e.qZA()(),e.TgZ(137,"mat-form-field",64)(138,"mat-label"),e._uU(139,"SMS Gateway"),e.qZA(),e.TgZ(140,"mat-select",65),e.YNc(141,Rn,2,2,"mat-option",46),e.qZA()()(),e.TgZ(142,"div",18)(143,"mat-form-field",34)(144,"mat-label"),e._uU(145,"Email Subject"),e.qZA(),e._UZ(146,"input",66),e.qZA(),e.TgZ(147,"mat-form-field",39)(148,"mat-label"),e._uU(149,"Email Gateway"),e.qZA(),e.TgZ(150,"mat-select",67),e.YNc(151,kn,2,2,"mat-option",46),e.qZA()()()()()()()()()()()),2&t){const o=e.MAs(75),s=e.MAs(82);e.xp6(5),e.Q6J("routerLink","/app/campaign-management/campaigns"),e.xp6(3),e.Q6J("@animate",e.VKq(39,Yn,e.DdM(38,Fn))),e.xp6(1),e.Q6J("ngIf","edit"===n.pageType),e.xp6(1),e.Q6J("ngIf","new"===n.pageType),e.xp6(4),e.Q6J("ngIf","new"===n.pageType),e.xp6(1),e.Q6J("ngIf","edit"===n.pageType),e.xp6(3),e.Q6J("formGroup",n.campaignForm),e.xp6(38),e.Q6J("ngForOf",n.getMaxAttemptConditionControlsBasedOnWrapup()),e.xp6(4),e.Q6J("ngForOf",n.getMaxAttemptConditionControlsBasedOnCallResult()),e.xp6(6),e.Q6J("ngIf",0==n.campaignForm.get("zoneEnabled").value),e.xp6(1),e.Q6J("ngIf",0==n.campaignForm.get("zoneEnabled").value),e.xp6(5),e.Q6J("matDatepicker",o)("min",n.todayDate),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Q6J("matDatepicker",s)("min",n.campaignForm.get("startDate").value),e.xp6(1),e.Q6J("for",s),e.xp6(3),e.Q6J("ngIf",0==n.campaignForm.get("zoneEnabled").value),e.xp6(1),e.Q6J("ngIf",1==n.campaignForm.get("zoneEnabled").value),e.xp6(6),e.Q6J("compareWith",n.compareUCEntityFn),e.xp6(1),e.Q6J("ngForOf",n.dncLists),e.xp6(8),e.Q6J("ngIf","IVR"!=n.campaignForm.get("type").value),e.xp6(1),e.Q6J("ngIf","IVR"!=n.campaignForm.get("type").value),e.xp6(1),e.Q6J("ngIf","IVR"!=n.campaignForm.get("type").value),e.xp6(1),e.Q6J("ngIf","progressive"==n.currentDialingMode||"predictive"==n.currentDialingMode),e.xp6(1),e.Q6J("ngIf","progressive"==n.currentDialingMode||"predictive"==n.currentDialingMode),e.xp6(1),e.Q6J("ngIf","progressive"==n.currentDialingMode||"predictive"==n.currentDialingMode),e.xp6(1),e.Q6J("ngIf","predictive"==n.currentDialingMode),e.xp6(1),e.Q6J("ngIf","predictive"==n.currentDialingMode),e.xp6(1),e.Q6J("ngIf","progressive"==n.currentDialingMode||"predictive"==n.currentDialingMode),e.xp6(1),e.Q6J("ngIf",1==n.campaignForm.get("cpaEnabled").value),e.xp6(1),e.Q6J("ngIf",1==n.campaignForm.get("cpaEnabled").value),e.xp6(1),e.Q6J("ngIf",1==n.campaignForm.get("cpaEnabled").value),e.xp6(7),e.Q6J("compareWith",n.comparePriorityFn),e.xp6(11),e.Q6J("ngIf","progressive"==n.currentDialingMode||"predictive"==n.currentDialingMode),e.xp6(8),e.Q6J("ngForOf",n.omniChannels),e.xp6(5),e.Q6J("ngForOf",n.smsGateways),e.xp6(10),e.Q6J("ngForOf",n.emailGateways)}},directives:[V.V,d.xw,d.Wh,C.lW,N.rH,D.Hw,h.O5,l._Y,l.JL,d.yH,l.sg,q.SP,q.uX,z.i,_.KE,_.hX,R.Nt,l.Fj,l.JJ,l.u,l.Q7,I.gD,v.ey,_.bx,l.wV,l.qQ,l.Fd,h.sg,l.CE,l.x0,ae.d,se.oG,ie.ZL,ie.XC,O.hl,O.nW,_.R9,O.Mq],pipes:[H.T,h.Ov],styles:["#campaign-form .header .subtitle{margin:6px 0 0}#campaign-form .content .mat-tab-group,#campaign-form .content .mat-tab-body-wrapper,#campaign-form .content .tab-content{flex:1 1 auto;max-width:100%}#campaign-form .content .mat-tab-body-content{display:flex}#campaign-form .content .mat-tab-label{height:64px}#campaign-form .mat-card-header-text{margin:0}#campaign-form .bttc{height:64px;border:1px solid whitesmoke;margin:10px 0;font-size:.9em;min-width:400px;border-radius:5px 5px 0 0;overflow:hidden}\n"],encapsulation:2,data:{animation:W.J}}),a})();var Jn=r(94327);class Pn{constructor(i){this.campaignId=(i=i||{}).campaignId,this.campaignListId=i.campaignListId,this.wrapUp=i.wrapUp,this.recordResult=i.recordResult,this.csr=i.csr}}let Mn=(()=>{class a{constructor(t){this._http=t,this.API_BASE_URL=K.N.apiUrl}addRechurn(t){let n=this.API_BASE_URL+"api/rechurn";return console.log(t),this._http.post(n,t)}getLicenseInfo(){return this._http.get(this.API_BASE_URL+"api/license",{})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(A.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function On(a,i){if(1&a&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function Qn(a,i){if(1&a&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.text)}}let Bn=(()=>{class a{constructor(t,n,o,s,c,u,w){this._formBuilder=t,this._genesysService=n,this._wrapupService=o,this.dialogRef=s,this._snackbarService=c,this._rechurnService=u,this._activatedRoute=w,this.wrapUps=[],this.recordResults=Z.$O,this.isSaveBtnActive=!1,this.routeParams=this._activatedRoute.params,this.rechurn=new Pn}onNoClick(){this.dialogRef.close()}ngOnInit(){this.actionSelectionForm=this.createCreateForm(),this.saveBtn(),console.log(this.campaignId,this.campaignListId),this._wrapupService.getRechurnWrapup(this.campaignId,this.campaignListId).subscribe(t=>{console.log(this.campaignId,this.campaignListId),this.wrapUps=t.result})}createCreateForm(){return this._formBuilder.group({wrapUp:new l.NI(this.rechurn.wrapUp),recordResult:new l.NI(this.rechurn.recordResult)})}saveRechurnRecord(){const t=this.actionSelectionForm.getRawValue();if(t.CampaignId=this.campaignId,t.CampaignListId=this.campaignListId,console.log(t),null!=t.wrapUp){if(t.wrapUp.length>0&&this._rechurnService.addRechurn(t).subscribe(n=>{n&&(this._snackbarService.success(n.message),this.dialogRef.close())}),0==t.wrapUp.length)return void this._snackbarService.error("Select atleast Wrapup or Call Result to Rechurn")}else{if(null==t.recordResult)return void this._snackbarService.error("Select atleast Wrapup or Call Result to Rechurn");if(t.recordResult.length>0&&this._rechurnService.addRechurn(t).subscribe(n=>{n&&(this._snackbarService.success(n.message),this.dialogRef.close())}),0==t.recordResult.length)return void this._snackbarService.error("Select atleast Wrapup or Call Result to Rechurn")}}saveBtn(){(null!=this.actionSelectionForm.get("recordResult").value||null!=this.actionSelectionForm.get("wrapUp").value)&&(this.isSaveBtnActive=!0,console.log("qweryu"))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36(ee),e.Y36(te.Y),e.Y36(p.so),e.Y36(T.k),e.Y36(Mn),e.Y36(N.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["dialog-rechurn-lead"]],decls:20,vars:6,consts:[[1,"top-bg","accent"],[1,"form-lead-assign",3,"formGroup"],["appearance","outline","floatlabel","always",1,"w-100-p"],["formControlName","wrapUp","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","recordResult","multiple",""],["align","end"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1,"Rechurn Record "),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),e._uU(6,"Wrap Up"),e.qZA(),e.TgZ(7,"mat-select",3),e.YNc(8,On,2,2,"mat-option",4),e.qZA()(),e.TgZ(9,"mat-form-field",2)(10,"mat-label"),e._uU(11,"Call Result"),e.qZA(),e.TgZ(12,"mat-select",5),e.YNc(13,Qn,2,2,"mat-option",4),e.ALo(14,"enumToArrayPipe"),e.qZA()()()(),e.TgZ(15,"mat-dialog-actions",6)(16,"button",7),e.NdJ("click",function(){return n.saveRechurnRecord()}),e._uU(17,"Save"),e.qZA(),e.TgZ(18,"button",8),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(19,"Close"),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.actionSelectionForm),e.xp6(5),e.Q6J("ngForOf",n.wrapUps),e.xp6(5),e.Q6J("ngForOf",e.lcZ(14,4,n.recordResults)),e.xp6(3),e.Q6J("disabled",n.isSaveBtnActive))},directives:[b.Ye,p.xY,l._Y,l.JL,l.sg,_.KE,_.hX,I.gD,l.JJ,l.u,h.sg,v.ey,p.H8,C.lW],pipes:[H.T],styles:[".form-lead-assign[_ngcontent-%COMP%]{width:500px;height:400px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:25px}"]}),a})(),Hn=(()=>{class a{constructor(t,n,o,s,c){this._formBuilder=t,this._dialerDetailsService=n,this._toastService=o,this._snackbarService=s,this.dialogRef=c}ngOnInit(){this.dialDetailForm=this.createCreateForm()}createCreateForm(){return this._formBuilder.group({firstName:new l.NI(this.firstName),lastName:new l.NI(this.lastname),dialWindow01:new l.NI(this.dialWindow01),phoneNumber:new l.NI(this.phoneNumber),dialWindow02:new l.NI(this.dialWindow02),phoneNumber02:new l.NI(this.dialWindow02Phone),dialWindow03:new l.NI(this.dialWindow03),phoneNumber03:new l.NI(this.dialWindow03Phone),dialWindow04:new l.NI(this.dialWindow04),phoneNumber04:new l.NI(this.dialWindow04Phone)})}saveDialDetails(){const t=this.dialDetailForm.getRawValue();this._dialerDetailsService.save(this.dialerId,t).subscribe(()=>{this._toastService.success("Dialer Record  saved successfully."),this.dialogRef.close()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36(B.a),e.Y36(T.k),e.Y36(T.k),e.Y36(p.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-dial-details"]],decls:55,vars:2,consts:[[1,"top-bg","accent"],[1,"form-lead-assign",3,"formGroup"],["fxLayout","row","fxLayoutAlign","space-between"],["appearance","outline","floatLabel","always","fxFlex","48",1,"w-100-p"],["matInput","","placeholder","First Name","formControlName","firstName"],["matInput","","placeholder","Last Name","formControlName","lastName"],["matInput","","placeholder","Dial Window 1","formControlName","dialWindow01"],["matInput","","placeholder","","formControlName","phoneNumber"],["matInput","","placeholder","Dial Window 2","formControlName","dialWindow02"],["matInput","","placeholder","","formControlName","phoneNumber02"],["matInput","","placeholder","Dial Window 3","formControlName","dialWindow03"],["matInput","","placeholder","","formControlName","phoneNumber03"],["matInput","","placeholder","Dial Window 3","formControlName","dialWindow04"],["matInput","","placeholder","Dial Window 4","formControlName","phoneNumber04"],["align","end"],["color","secondary","mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",1,"save-product-button",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-toolbar",0),e._uU(1,"Edit Contact"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"First Name"),e.qZA(),e._UZ(8,"input",4),e.qZA(),e.TgZ(9,"mat-form-field",3)(10,"mat-label"),e._uU(11,"Last Name"),e.qZA(),e._UZ(12,"input",5),e.qZA()(),e.TgZ(13,"div",2)(14,"mat-form-field",3)(15,"mat-label"),e._uU(16,"Dial Window 1"),e.qZA(),e._UZ(17,"input",6),e.qZA(),e.TgZ(18,"mat-form-field",3)(19,"mat-label"),e._uU(20,"Phone 01"),e.qZA(),e._UZ(21,"input",7),e.qZA()(),e.TgZ(22,"div",2)(23,"mat-form-field",3)(24,"mat-label"),e._uU(25,"Dial Window 2"),e.qZA(),e._UZ(26,"input",8),e.qZA(),e.TgZ(27,"mat-form-field",3)(28,"mat-label"),e._uU(29,"Phone 02"),e.qZA(),e._UZ(30,"input",9),e.qZA()(),e.TgZ(31,"div",2)(32,"mat-form-field",3)(33,"mat-label"),e._uU(34,"Dial Window 3"),e.qZA(),e._UZ(35,"input",10),e.qZA(),e.TgZ(36,"mat-form-field",3)(37,"mat-label"),e._uU(38,"Phone 03"),e.qZA(),e._UZ(39,"input",11),e.qZA()(),e.TgZ(40,"div",2)(41,"mat-form-field",3)(42,"mat-label"),e._uU(43,"Dial Window 4"),e.qZA(),e._UZ(44,"input",12),e.qZA(),e.TgZ(45,"mat-form-field",3)(46,"mat-label"),e._uU(47,"Phone 04"),e.qZA(),e._UZ(48,"input",13),e.qZA()()()(),e.TgZ(49,"mat-dialog-actions",14)(50,"button",15),e.NdJ("click",function(){return n.dialogRef.close(!0)}),e._uU(51,"Close"),e.qZA(),e.TgZ(52,"button",16),e.NdJ("click",function(){return n.saveDialDetails()}),e.TgZ(53,"span"),e._uU(54,"Save"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.dialDetailForm),e.xp6(49),e.Q6J("disabled",n.dialDetailForm.invalid||n.dialDetailForm.pristine))},directives:[b.Ye,p.xY,l._Y,l.JL,l.sg,d.xw,d.Wh,_.KE,d.yH,_.hX,R.Nt,l.Fj,l.JJ,l.u,p.H8,C.lW],styles:[".form-lead-assign[_ngcontent-%COMP%]{width:600px;height:500px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:25px}"]}),a})();var En=r(17622),Wn=r(4730);const Gn=["filter"],$n=["input"];function jn(a,i){if(1&a&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text,"")}}function Vn(a,i){if(1&a&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.text,"")}}function zn(a,i){if(1&a&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function Xn(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Phone Number"),e.qZA())}function Kn(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.phoneNumber)}}function eo(a,i){1&a&&(e.TgZ(0,"mat-header-cell",42),e._uU(1," Name"),e.qZA())}function to(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.AsE("",t.firstName," ",t.lastName,"")}}function ao(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Dialed At"),e.qZA())}function io(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.ALo(3,"toLocalDateTime"),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.dialDateTime))}}function no(a,i){1&a&&(e.TgZ(0,"mat-header-cell",43),e._uU(1,"Status"),e.qZA())}function oo(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.status)}}function lo(a,i){1&a&&(e.TgZ(0,"mat-header-cell",43),e._uU(1,"Dial Attempt"),e.qZA())}function so(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.dialAttempt)}}function ro(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Call Result"),e.qZA())}function mo(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.callResult)}}function co(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Wrap Up"),e.qZA())}function po(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.wrapUp)}}function uo(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Agent Name"),e.qZA())}function go(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.agentName)}}function _o(a,i){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function ho(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",45),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(2,"mat-icon",46),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,47)(6,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().edit(s)}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit"),e.qZA()(),e.TgZ(11,"button",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteDialDetails(s)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Delete"),e.qZA()()()()}if(2&a){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function fo(a,i){if(1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Attempted At "),e.qZA()),2&a){const t=e.oxw(3);e.uIk("rowspan",t.displayedColumns.length)}}function Co(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"toLocalDateTime"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.attemptedAt)," ")}}function xo(a,i){if(1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," CallResult "),e.qZA()),2&a){const t=e.oxw(3);e.uIk("rowspan",t.displayedColumns.length)}}function Zo(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.callResult," ")}}function To(a,i){if(1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Agent Wrapup "),e.qZA()),2&a){const t=e.oxw(3);e.uIk("rowspan",t.displayedColumns.length)}}function bo(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.wrapUp," ")}}function Ao(a,i){1&a&&e._UZ(0,"mat-header-row")}function vo(a,i){1&a&&e._UZ(0,"mat-row")}function yo(a,i){if(1&a&&(e.TgZ(0,"div",51)(1,"mat-table",52),e.ynx(2,53),e.YNc(3,fo,2,1,"mat-header-cell",19),e.YNc(4,Co,3,3,"mat-cell",20),e.BQk(),e.ynx(5,54),e.YNc(6,xo,2,1,"mat-header-cell",19),e.YNc(7,Zo,2,1,"mat-cell",20),e.BQk(),e.ynx(8,55),e.YNc(9,To,2,1,"mat-header-cell",19),e.YNc(10,bo,2,1,"mat-cell",20),e.BQk(),e.YNc(11,Ao,1,0,"mat-header-row",56),e.YNc(12,vo,1,0,"mat-row",57),e.qZA()()),2&a){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("@detailExpand",n.isExpandedRow(t)?"expanded":"collapsed"),e.xp6(1),e.Q6J("dataSource",t.dialerResults),e.xp6(10),e.Q6J("matHeaderRowDef",n.dialerResultsColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.dialerResultsColumns)}}function wo(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e.YNc(1,yo,13,4,"div",50),e.qZA()),2&a){const t=i.$implicit,n=e.oxw();e.uIk("colspan",n.displayedColumns.length),e.xp6(1),e.Q6J("ngIf",t.dialerResults.length>0)}}function No(a,i){1&a&&e._UZ(0,"mat-header-row")}function Do(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-row",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().toggleRow(s)}),e.qZA()}}function Io(a,i){if(1&a&&e._UZ(0,"mat-row",59),2&a){const t=i.$implicit,n=e.oxw();e.ekj("display-expanded-row",n.isExpandedRow(t))}}const So=function(){return{value:"50"}},Lo=function(){return["expandedDetail"]},Uo=function(){return[5,10,25,50]};let qo=(()=>{class a{constructor(t,n,o,s,c,u,w){this._wrapupService=t,this._dialerDetailsService=n,this._campaignService=o,this._activatedRoute=s,this._matDialog=c,this._cucConfigService=u,this._toastService=w,this.recordStatuses=Z.rf,this.recordResults=Z.$O,this.wrapups=[],this.filteredAndPagedLists=[],this.resultsLength=0,this.isFilterAreaVisible=!1,this.displayedColumns=["name","phoneNumber","dialDateTime","callResult","wrapUp","status","agentName","dialAttempt","actions"],this.dialerResultsColumns=["attemptedAtInner","callResultInner","wrapUpInner"],this.selectedWrapup=" ",this.listName="",this.routeParams=this._activatedRoute.params,this.campaign=new M,this._cucConfigService.config={layout:{navbar:{hidden:!1,folded:!0},toolbar:{hidden:!1},footer:{hidden:!1},sidepanel:{hidden:!0}}}}ngOnInit(){this.campaignId=this.routeParams.value.campaignId,this.mapId=this.routeParams.value.mapId,this._campaignService.getById(this.campaignId).subscribe(t=>{this.campaign=new M(t.result),console.log(this.campaign),"Voice"==this.campaign.type&&this.displayedColumns.splice(this.displayedColumns.length-1,0,"wrapUp")}),this._wrapupService.getAll(1,15e3).subscribe(t=>{this.wrapups=t.result.items}),this.filterApplyForm=new l.cw({recordStatus:new l.NI(""),recordResult:new l.NI(""),wrapup:new l.NI("")})}ngAfterViewInit(){(0,F.T)(this.sort.sortChange,this.paginator.page).pipe((0,U.O)({}),(0,J.w)(()=>this._dialerDetailsService.dialDetails(this.routeParams.value.campaignId,this.routeParams.value.mapId,this.selectedRecordStatus,this.selectedRecordResult,this.selectedWrapup,this.sort.active,this.sort.direction,this.paginator.pageIndex+1,this.paginator.pageSize)),(0,y.U)(t=>t),(0,P.K)(()=>(0,Y.of)([]))).subscribe(t=>{t.result&&(this.resultsLength=t.result.total,this.filteredAndPagedLists=t.result.items,this.listName=t.result.items[0].listName),console.log(t)})}submitFiltersForm(){this._dialerDetailsService.dialDetails(this.campaignId,this.mapId,this.selectedRecordStatus,this.selectedRecordResult,this.selectedWrapup,this.sort.active,this.sort.direction,this.paginator.pageIndex+1,this.paginator.pageSize).subscribe(t=>{t.result&&(this.resultsLength=t.result.total,this.filteredAndPagedLists=t.result.items)})}rechurn(){this.rechurnLeadDialogRef=this._matDialog.open(Bn),this.rechurnLeadDialogRef.componentInstance.campaignId=this.routeParams.value.campaignId,this.rechurnLeadDialogRef.componentInstance.campaignListId=this.routeParams.value.mapId,this.rechurnLeadDialogRef.afterClosed().subscribe(t=>{console.log(`Dialog result: ${t}`)})}edit(t){this.dialdetailDialogRef=this._matDialog.open(Hn),this.dialdetailDialogRef.componentInstance.dialerId=t.dialerId,this.dialdetailDialogRef.componentInstance.phoneNumber=t.phoneNumber,this.dialdetailDialogRef.componentInstance.firstName=t.firstName,this.dialdetailDialogRef.componentInstance.lastname=t.lastName,this.dialdetailDialogRef.componentInstance.dialWindow01=t.dialWindowInfo.dialWindow01,this.dialdetailDialogRef.componentInstance.dialWindow01Phone=t.dialWindowInfo.dialWindow01Phone,this.dialdetailDialogRef.componentInstance.dialWindow02=t.dialWindowInfo.dialWindow02,this.dialdetailDialogRef.componentInstance.dialWindow02Phone=t.dialWindowInfo.dialWindow02Phone,this.dialdetailDialogRef.componentInstance.dialWindow03=t.dialWindowInfo.dialWindow03,this.dialdetailDialogRef.componentInstance.dialWindow03Phone=t.dialWindowInfo.dialWindow03Phone,this.dialdetailDialogRef.componentInstance.dialWindow04=t.dialWindowInfo.dialWindow04,this.dialdetailDialogRef.componentInstance.dialWindow04Phone=t.dialWindowInfo.dialWindow04Phone,this.dialdetailDialogRef.afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`)})}deleteDialDetails(t){this.confirmDialogRef=this._matDialog.open(G.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete  Dialer Records?",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this._dialerDetailsService.delete(t.dialerId).subscribe(o=>{o&&(this._toastService.success("Dialer Records Deleted successfully."),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(s=>s.dialerId==t.dialerId),1),this.matDialerDetailsTable.renderRows())}),this.confirmDialogRef=null})}resetFiltersForm(){this.selectedRecordStatus=null,this.selectedRecordResult=null,this.selectedWrapup=null,this.submitFiltersForm(),this.filterApplyForm.reset()}disableApplyButton(t,n,o){return null==t&&null==t&&null==n&&null==n&&null==o&&null==o}disableRechurnButton(t,n){return!(null!=t&&null!=t||null!=n&&null!=n)}recordStatusSelectionChange(t){console.log(t)}recordResultSelectionChange(t){console.log(t)}wrapupSelectionChange(t){console.log(t)}toggleRow(t){0!=t.dialerResults.length&&(this.currentExpandedRow=this.currentExpandedRow===t?null:t)}isExpandedRow(t){return this.currentExpandedRow&&t.dialerId==this.currentExpandedRow.dialerId}downloadReport(){this._dialerDetailsService.downloadDialerReport(this.routeParams.value.mapId,this.selectedRecordStatus,this.selectedRecordResult).subscribe(s=>{console.log(s),Jn.saveAs(s.blob,s.fileName)},s=>{console.log("Error downloading the file")})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(te.Y),e.Y36(B.a),e.Y36(S.U),e.Y36(N.gz),e.Y36(p.uw),e.Y36(En.F),e.Y36(T.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-campaign-details"]],viewQuery:function(t,n){if(1&t&&(e.Gf(x.NW,7),e.Gf(f.YE,7),e.Gf(Gn,7),e.Gf($n,7),e.Gf(m.BZ,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first),e.iGM(o=e.CRH())&&(n.filter=o.first),e.iGM(o=e.CRH())&&(n.input=o.first),e.iGM(o=e.CRH())&&(n.matDialerDetailsTable=o.first)}},decls:79,vars:25,consts:[["id","campaign-details",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"center"],[1,"dialer-detail-header"],["hideToggle",""],[2,"display","contents"],["fxLayout","row","fxLayoutGap","20px",1,"form-lead-assign",3,"formGroup"],["appearance","outline","floatlabel","always",1,"w-30-p"],["name","type","formControlName","recordStatus",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","type","formControlName","recordResult",3,"ngModel","ngModelChange"],["name","type","formControlName","wrapup",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutGap","20px"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","secondary",3,"click"],["mat-flat-button","","color","accent",3,"click"],[1,"content-card"],["multiTemplateDataRows","","matSort","","cucPerfectScrollbar","",1,"dial-details-table",3,"dataSource"],["table",""],["matColumnDef","phoneNumber"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","dialDateTime"],["matColumnDef","status"],["mat-sort-header","","fxHide","","fxShow.gt-xs","",4,"matHeaderCellDef"],["matColumnDef","dialAttempt"],["matColumnDef","callResult"],["mat-sort-header","","fxShow.gt-xs","",4,"matHeaderCellDef"],["matColumnDef","wrapUp"],["matColumnDef","agentName"],["matColumnDef","actions"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","dial-record","matRipple","",3,"click",4,"matRowDef","matRowDefColumns"],["class","example-detail-row",3,"display-expanded-row",4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[3,"value"],[1,"text-truncate"],["mat-sort-header",""],["mat-sort-header","","fxHide","","fxShow.gt-xs",""],["mat-sort-header","","fxShow.gt-xs",""],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"click"],["mat-menu-item","","aria-label","remove",3,"click"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"],[1,"detail-table",2,"width","100%",3,"dataSource"],["matColumnDef","attemptedAtInner"],["matColumnDef","callResultInner"],["matColumnDef","wrapUpInner"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["matRipple","",1,"dial-record",3,"click"],[1,"example-detail-row"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-expansion-panel",3)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),e._uU(6," Filters "),e.qZA(),e.TgZ(7,"mat-panel-description",4)(8,"mat-icon"),e._uU(9,"filter_list"),e.qZA()()(),e.TgZ(10,"form",5)(11,"mat-form-field",6)(12,"mat-label"),e._uU(13,"Record Status"),e.qZA(),e.TgZ(14,"mat-select",7),e.NdJ("ngModelChange",function(s){return n.selectedRecordStatus=s})("ngModelChange",function(){return n.recordStatusSelectionChange(n.selectedRecordStatus)}),e.YNc(15,jn,2,2,"mat-option",8),e.ALo(16,"enumToArrayPipe"),e.qZA()(),e.TgZ(17,"mat-form-field",6)(18,"mat-label"),e._uU(19,"Call Result"),e.qZA(),e.TgZ(20,"mat-select",9),e.NdJ("ngModelChange",function(s){return n.selectedRecordResult=s})("ngModelChange",function(){return n.recordResultSelectionChange(n.selectedRecordResult)}),e.YNc(21,Vn,2,2,"mat-option",8),e.ALo(22,"enumToArrayPipe"),e.qZA()(),e.TgZ(23,"mat-form-field",6)(24,"mat-label"),e._uU(25,"Wrap Up"),e.qZA(),e.TgZ(26,"mat-select",10),e.NdJ("ngModelChange",function(s){return n.selectedWrapup=s})("ngModelChange",function(){return n.wrapupSelectionChange(n.selectedWrapup)}),e.YNc(27,zn,2,2,"mat-option",8),e.qZA()()(),e.TgZ(28,"div",11)(29,"button",12),e.NdJ("click",function(){return n.submitFiltersForm()}),e._uU(30," Apply "),e.qZA(),e.TgZ(31,"button",13),e.NdJ("click",function(){return n.resetFiltersForm()}),e._uU(32," Reset "),e.qZA(),e.TgZ(33,"button",14),e.NdJ("click",function(){return n.rechurn()}),e._uU(34," Rechurn "),e.qZA(),e.TgZ(35,"button",14),e.NdJ("click",function(){return n.downloadReport()}),e._uU(36," Download "),e.qZA()()()(),e.TgZ(37,"div",15),e._UZ(38,"mat-divider"),e.TgZ(39,"mat-table",16,17),e.ynx(41,18),e.YNc(42,Xn,2,0,"mat-header-cell",19),e.YNc(43,Kn,3,1,"mat-cell",20),e.BQk(),e.ynx(44,21),e.YNc(45,eo,2,0,"mat-header-cell",22),e.YNc(46,to,3,2,"mat-cell",20),e.BQk(),e.ynx(47,23),e.YNc(48,ao,2,0,"mat-header-cell",19),e.YNc(49,io,4,3,"mat-cell",20),e.BQk(),e.ynx(50,24),e.YNc(51,no,2,0,"mat-header-cell",25),e.YNc(52,oo,3,1,"mat-cell",20),e.BQk(),e.ynx(53,26),e.YNc(54,lo,2,0,"mat-header-cell",25),e.YNc(55,so,3,1,"mat-cell",20),e.BQk(),e.ynx(56,27),e.YNc(57,ro,2,0,"mat-header-cell",28),e.YNc(58,mo,3,1,"mat-cell",20),e.BQk(),e.ynx(59,29),e.YNc(60,co,2,0,"mat-header-cell",19),e.YNc(61,po,3,1,"mat-cell",20),e.BQk(),e.ynx(62,30),e.YNc(63,uo,2,0,"mat-header-cell",19),e.YNc(64,go,3,1,"mat-cell",20),e.BQk(),e.ynx(65,31),e.YNc(66,_o,2,0,"mat-header-cell",19),e.YNc(67,ho,16,1,"mat-cell",20),e.BQk(),e.ynx(68,32),e.YNc(69,wo,2,2,"mat-cell",20),e.BQk(),e.YNc(70,No,1,0,"mat-header-row",33),e.YNc(71,Do,1,0,"mat-row",34),e.YNc(72,Io,1,2,"mat-row",35),e.qZA(),e.TgZ(73,"div",36)(74,"button",37),e.NdJ("click",function(){return n.submitFiltersForm()}),e.TgZ(75,"mat-icon"),e._uU(76,"refresh"),e.qZA()(),e._UZ(77,"mat-paginator",38,39),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("formGroup",n.filterApplyForm)("formGroup",n.filterApplyForm),e.xp6(4),e.Q6J("ngModel",n.selectedRecordStatus),e.xp6(1),e.Q6J("ngForOf",e.lcZ(16,18,n.recordStatuses)),e.xp6(5),e.Q6J("ngModel",n.selectedRecordResult),e.xp6(1),e.Q6J("ngForOf",e.lcZ(22,20,n.recordResults)),e.xp6(5),e.Q6J("ngModel",n.selectedWrapup),e.xp6(1),e.Q6J("ngForOf",n.wrapups),e.xp6(12),e.Q6J("dataSource",n.filteredAndPagedLists)("@animateStagger",e.DdM(22,So)),e.xp6(31),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(23,Lo)),e.xp6(5),e.Q6J("length",n.resultsLength)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(24,Uo)))},directives:[V.V,k.ib,k.yz,k.yK,k.u4,D.Hw,l._Y,l.JL,d.xw,d.SQ,l.sg,_.KE,_.hX,I.gD,l.JJ,l.u,h.sg,v.ey,C.lW,ae.d,m.BZ,f.YE,z.i,m.w1,m.fO,m.ge,m.Dz,m.ev,f.nU,he.b8,L.p6,L.VK,L.OP,h.O5,m.as,m.XQ,m.nj,m.Gk,v.wG,d.Wh,x.NW],pipes:[H.T,Wn.M],styles:["@media screen and (max-width: 959px){uc-campaign-details #campaign-details .top-bg{height:256px}}uc-campaign-details #campaign-details>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;text-align:center!important;margin-left:30%!important;margin-top:40px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-campaign-details #campaign-details>.center>.header .search-wrapper{width:100%}}uc-campaign-details #campaign-details>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-campaign-details #campaign-details>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-campaign-details #campaign-details>.center>.header{padding:8px 0;height:192px!important;min-height:0px!important;max-height:192px!important}}uc-campaign-details .dialer-detail-header{margin-top:10px;margin-bottom:10px}uc-campaign-details .example-headers-align .mat-form-field+.mat-form-field{margin-left:8px}uc-campaign-details .dial-details-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-campaign-details .dial-details-table .mat-header-row{min-height:64px}uc-campaign-details .dial-details-table .dial-record{position:relative;cursor:pointer;height:50px}uc-campaign-details .dial-details-table .mat-cell{min-width:0;display:flex;align-items:center}uc-campaign-details .dial-details-table .mat-column-phoneNumber{flex:0 1 20%}uc-campaign-details .dial-details-table .mat-column-name{flex:0 1 20%}uc-campaign-details .dial-details-table .mat-column-dialDateTime{flex:0 1 25%}uc-campaign-details .dial-details-table .mat-column-attemptedDialWindow{flex:0 1 10%}uc-campaign-details .dial-details-table .mat-column-status{flex:0 1 20%}uc-campaign-details .dial-details-table .mat-column-callResult{flex:0 1 17%}uc-campaign-details .dial-details-table .mat-column-wrapUp{flex:0 1 15%}uc-campaign-details .dial-details-table .mat-column-agentName{flex:0 1 15%}uc-campaign-details .dial-details-table .mat-column-dialAttempt{flex:0 1 0%}uc-campaign-details .dial-details-table .mat-column-actions{flex:0 1 15%}uc-campaign-details .dial-details-table .active-icon{border-radius:50%}uc-campaign-details .spacer{flex:1 1 auto}uc-campaign-details .example-detail-row{height:0;min-height:auto;display:none;width:100%}uc-campaign-details .display-expanded-row{display:inline-block;height:auto}\n"],encapsulation:2,data:{animation:W.J}}),a})();var Ro=r(90782);const ko=[{path:"",component:xe},{path:"campaigns",component:xe},{path:"campaign/:id",component:ve},{path:"campaign/:id/:handle",component:ve},{path:"campaign-details/:campaignId/:mapId",component:qo}];let Fo=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[S.U,ee,B.a],imports:[[l.u5,h.ez,N.Bz.forChild(ko),Q.T5,fe.S,ie.Bb,Ro.N6,C.ot,De.Hi,ae.t,k.To,_.lN,D.Ps,R.c,x.TU,v.si,I.LD,f.JX,ce.ZX,m.p0,q.Nh,se.p9,L.Tx,O.FA,b.g0,we.QW,p.Is,j.Fk,Ne.A,re.lJ,re.QH]]}),a})()}}]);