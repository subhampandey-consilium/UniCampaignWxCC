"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[3622],{33622:(G,h,r)=>{r.r(h),r.d(h,{AuthModule:()=>Y});var m=r(93917),x=r(4859),w=r(56709),u=r(59549),v=r(97392),b=r(44144),U=r(8882),l=r(24006),I=r(79497);class C{}class S{}class E{}var y=r(89854),o=r(94650),F=r(17622),Z=r(92155),M=r(96560),f=r(1576),R=r(55829),P=r(36895);function W(i,a){1&i&&(o.TgZ(0,"mat-error"),o._uU(1," Email is required "),o.qZA())}function q(i,a){1&i&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid email address "),o.qZA())}const z=function(){return{delay:"50ms",y:"25px"}},A=function(i){return{value:"*",params:i}},J=function(){return{delay:"500ms",x:"100%"}},N=function(){return[]};let L=(()=>{class i{constructor(n,t,e,g){this._cucConfigService=n,this._authService=t,this._formBuilder=e,this._router=g,this.signInModel=new C,this.oauthSignInModel=new S,this.authorizeUrl="",this.isWebExLogin=!1,this.defaultEmail="yoge.gupta@consiliuminc.com",this._cucConfigService.config={layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!1},sidepanel:{hidden:!0}}}}ngOnInit(){let n=location.origin+"/auth/webexlogin";this._authService.getAuthProvider(n).subscribe(t=>{console.log("Response from service:",t.result),this.authorizeUrl=t.result}),this.loginForm=this._formBuilder.group({email:["",[l.kI.required,l.kI.email]],password:["",l.kI.required]})}login(){let t=this.loginForm.value.password;this.signInModel.email=this.loginForm.value.email,this.signInModel.password=t,this._authService.signIn(this.signInModel).subscribe(e=>{console.log("Response from service:",e.result),this.reload(),this._router.navigate(["/app"])})}reload(){window.location.replace("/app")}webexlogin(){this.navigateToExternalUrl(this.authorizeUrl)}unicampaignlogin(){this.isWebExLogin=!1}webExLoginClick(){let n=this.loginForm.value.email;localStorage.setItem(y.f.USER,n),this.oauthSignInModel.email=n;let t=location.origin+"/auth/webexlogin";this.oauthSignInModel.returnUrl=t,this._authService.getAuthProviders(this.oauthSignInModel).subscribe(e=>{console.log("Response from service:",e.result.url),localStorage.setItem(y.f.TENANT_ID,e.result.tenantId),this.navigateToExternalUrl(e.result.url)})}navigateToExternalUrl(n){window.location.href=n}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(F.F),o.Y36(Z.e8),o.Y36(l.qu),o.Y36(m.F0))},i.\u0275cmp=o.Xpm({type:i,selectors:[["auth-login"]],decls:43,vars:14,consts:[["id","login","fxLayout","row","fxLayoutAlign","start",1,"inner-scroll"],["id","login-intro","fxFlex","","fxHide","","fxShow.gt-xs",""],[1,"title"],["id","login-form-wrapper","fusePerfectScrollbar",""],["id","login-form"],[1,"logo"],["src","assets/images/logos/fav.png",1,"logo-icon"],[1,"logo-text","primary-text"],["novalidate","",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","email"],["matSuffix","",1,"secondary-text"],[4,"ngIf"],["matInput","","type","password","formControlName","password"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","space-between center",1,"remember-forgot-password"],["aria-label","Remember Me",1,"remember-me"],[1,"forgot-password",3,"routerLink"],["mat-raised-button","","color","accent","aria-label","LOGIN",1,"submit-button",3,"disabled","click"],[1,"separator"],[1,"text"],["fxLayout","column","fxLayoutAlign","start center"],["mat-raised-button","",3,"click"]],template:function(n,t){1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._uU(3," Welcome to Consilium UniCampaign! "),o.qZA()(),o.TgZ(4,"div",3)(5,"div",4)(6,"div",5),o._UZ(7,"img",6),o.TgZ(8,"span",7)(9,"b"),o._uU(10,"UniCampaign"),o.qZA()()(),o.TgZ(11,"div",2),o._uU(12,"LOGIN TO YOUR ACCOUNT"),o.qZA(),o.TgZ(13,"form",8)(14,"mat-form-field",9)(15,"mat-label"),o._uU(16,"Email"),o.qZA(),o._UZ(17,"input",10),o.TgZ(18,"mat-icon",11),o._uU(19,"mail"),o.qZA(),o.YNc(20,W,2,0,"mat-error",12),o.YNc(21,q,2,0,"mat-error",12),o.qZA(),o.TgZ(22,"mat-form-field",9)(23,"mat-label"),o._uU(24,"Password"),o.qZA(),o._UZ(25,"input",13),o.TgZ(26,"mat-icon",11),o._uU(27,"vpn_key"),o.qZA(),o.TgZ(28,"mat-error"),o._uU(29," Password is required "),o.qZA()(),o.TgZ(30,"div",14)(31,"mat-checkbox",15),o._uU(32," Remember Me "),o.qZA(),o.TgZ(33,"a",16),o._uU(34," Forgot Password? "),o.qZA()(),o.TgZ(35,"button",17),o.NdJ("click",function(){return t.login()}),o._uU(36," LOGIN "),o.qZA()(),o.TgZ(37,"div",18)(38,"span",19),o._uU(39,"OR"),o.qZA()(),o.TgZ(40,"div",20)(41,"button",21),o.NdJ("click",function(){return t.webexlogin()}),o._uU(42," Log in with Webex "),o.qZA()()()()()),2&n&&(o.xp6(2),o.Q6J("@animate",o.VKq(8,A,o.DdM(7,z))),o.xp6(2),o.Q6J("@animate",o.VKq(11,A,o.DdM(10,J))),o.xp6(9),o.Q6J("formGroup",t.loginForm),o.xp6(7),o.Q6J("ngIf",t.loginForm.get("email").hasError("required")),o.xp6(1),o.Q6J("ngIf",!t.loginForm.get("email").hasError("required")&&t.loginForm.get("email").hasError("email")),o.xp6(12),o.Q6J("routerLink",o.DdM(13,N)),o.xp6(2),o.Q6J("disabled",t.loginForm.invalid))},directives:[M.V,f.xw,f.Wh,f.yH,R.b8,l._Y,l.JL,l.sg,u.KE,u.hX,b.Nt,l.Fj,l.JJ,l.u,v.Hw,u.R9,P.O5,u.TO,w.oG,m.yS,x.lW],styles:['auth-login #login{width:100%;overflow:hidden;background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat;background-size:cover}auth-login #login #login-intro{padding:128px}@media screen and (min-width: 600px) and (max-width: 959px){auth-login #login #login-intro{padding:128px 64px}}auth-login #login #login-intro .logo{width:400px;margin-bottom:32px}auth-login #login #login-intro .logo img{height:50px!important}auth-login #login #login-intro .title{font-size:42px;font-weight:300;line-height:1}auth-login #login #login-intro .description{padding-top:16px;font-size:14px;max-width:600px}auth-login #login #login-form-wrapper{width:50%;min-width:50%;max-width:50%;overflow:auto;-webkit-overflow-scrolling:touch;box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}@media screen and (min-width: 600px) and (max-width: 959px){auth-login #login #login-form-wrapper{width:360px;min-width:360px;max-width:360px}}@media screen and (max-width: 599px){auth-login #login #login-form-wrapper{width:100%;min-width:100%;max-width:100%}}auth-login #login #login-form-wrapper #login-form{padding:128px 48px 48px}@media screen and (max-width: 599px){auth-login #login #login-form-wrapper #login-form{text-align:center;padding:24px}}auth-login #login #login-form-wrapper #login-form .logo{width:100%;text-align:center;margin:35px auto;display:flex;justify-content:center;align-items:center}auth-login #login #login-form-wrapper #login-form .logo img{height:50px}auth-login #login #login-form-wrapper #login-form .logo .logo-text{margin-left:12px;font-size:24px;font-weight:800;letter-spacing:.4px;line-height:normal}auth-login #login #login-form-wrapper #login-form .title{font-size:20px;text-align:center}auth-login #login #login-form-wrapper #login-form .description{padding-top:8px}auth-login #login #login-form-wrapper #login-form form{width:100%;padding-top:32px}auth-login #login #login-form-wrapper #login-form form mat-form-field{width:100%}@media screen and (max-width: 599px){auth-login #login #login-form-wrapper #login-form form mat-form-field{width:80%}}auth-login #login #login-form-wrapper #login-form form mat-checkbox{margin:0}auth-login #login #login-form-wrapper #login-form form .remember-forgot-password{font-size:13px;margin-top:8px}auth-login #login #login-form-wrapper #login-form form .remember-forgot-password .remember-me{margin-bottom:16px}auth-login #login #login-form-wrapper #login-form form .remember-forgot-password .forgot-password{font-size:13px;font-weight:600;margin-bottom:16px}auth-login #login #login-form-wrapper #login-form form .submit-button{width:100%;margin:16px auto;display:block}@media screen and (max-width: 599px){auth-login #login #login-form-wrapper #login-form form .submit-button{width:80%}}auth-login #login #login-form-wrapper #login-form .separator{font-size:15px;font-weight:600;margin:24px auto;position:relative;overflow:hidden;width:100px;text-align:center}auth-login #login #login-form-wrapper #login-form .separator .text{display:inline-flex;position:relative;padding:0 8px;z-index:9999}auth-login #login #login-form-wrapper #login-form .separator .text:before,auth-login #login #login-form-wrapper #login-form .separator .text:after{content:"";display:block;width:30px;position:absolute;top:10px;border-top:1px solid}auth-login #login #login-form-wrapper #login-form .separator .text:before{right:100%}auth-login #login #login-form-wrapper #login-form .separator .text:after{left:100%}\n'],encapsulation:2,data:{animation:I.J}}),i})();function T(i,a,n,t,e,g,p){try{var d=i[g](p),s=d.value}catch(k){return void n(k)}d.done?a(s):Promise.resolve(s).then(t,e)}function c(i){return function(){var a=this,n=arguments;return new Promise(function(t,e){var g=i.apply(a,n);function p(s){T(g,t,e,p,d,"next",s)}function d(s){T(g,t,e,p,d,"throw",s)}p(void 0)})}}const O=[{path:"",component:L},{path:"login",component:L},{path:"webexlogin",component:(()=>{class i{constructor(n,t,e){this.router=n,this.route=t,this._authService=e,this.webExLoginRequest=new E}ngOnInit(){var n=this;return c(function*(){n.route.queryParams.subscribe(function(){var t=c(function*(e){n.AuthCode=e.code;let g=location.origin+"/auth/webexlogin";n.webExLoginRequest.code=n.AuthCode,n.webExLoginRequest.returnUrl=g,yield n.login(n.webExLoginRequest)});return function(e){return t.apply(this,arguments)}}())})()}reload(){window.location.replace("/app")}login(n){var t=this;return c(function*(){yield t._authService.signInWithWebEx(n).subscribe(e=>{console.log(e),e.result&&(console.log("WebExLogin Resposne Successfull:",e.result),t.reload(),t.router.navigate(["/app"]))}),console.log("After API request ")})()}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(m.F0),o.Y36(m.gz),o.Y36(Z.e8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-webexlogin"]],decls:0,vars:0,template:function(n,t){},styles:[""]}),i})()}];let Y=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[m.Bz.forChild(O),x.ot,w.p9,u.lN,v.Ps,b.c,U.A]]}),i})()}}]);