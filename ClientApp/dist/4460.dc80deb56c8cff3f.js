"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[4460],{77394:(F,v,p)=>{p.d(v,{J:()=>g});var s=p(94650),c=p(65938),Z=p(4859);let g=(()=>{class r{constructor(h){this.dialogRef=h}}return r.\u0275fac=function(h){return new(h||r)(s.Y36(c.so))},r.\u0275cmp=s.Xpm({type:r,selectors:[["cuc-confirm-dialog"]],decls:9,vars:1,consts:[["matDialogTitle",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end",1,"pt-24"],["mat-raised-button","",1,"mat-accent","mr-16",3,"click"],["mat-raised-button","",3,"click"]],template:function(h,d){1&h&&(s.TgZ(0,"h1",0),s._uU(1,"Confirm"),s.qZA(),s.TgZ(2,"div",1),s._uU(3),s.qZA(),s.TgZ(4,"div",2)(5,"button",3),s.NdJ("click",function(){return d.dialogRef.close(!0)}),s._uU(6,"Confirm"),s.qZA(),s.TgZ(7,"button",4),s.NdJ("click",function(){return d.dialogRef.close(!1)}),s._uU(8,"Cancel"),s.qZA()()),2&h&&(s.xp6(3),s.Oqu(d.confirmMessage))},directives:[c.uh,c.xY,c.H8,Z.lW],styles:[""]}),r})()},84460:(F,v,p)=>{p.r(v),p.d(v,{WhatsapptemplateModule:()=>Nt});var s=p(93917),c=p(4859),Z=p(3238),g=p(59549),r=p(97392),f=p(44144),h=p(84385),d=p(56709),A=p(99602),R=p(73546),Y=p(86257),O=p(8882),L=p(82689),P=p(77331),B=p(37084),b=p(27974),x=p(96308),G=p(17009),i=p(2143),z=p(71948),W=p(3848),w=p(28255),K=p(90782),l=p(24006),V=p(83683),_=p(44850),N=p(65938),C=p(36895),X=p(47957),$=p(48568),j=p(23753),k=p(36787),q=p(21086),tt=p(80013),et=p(75778),at=p(1059),pt=p(87545),nt=p(24850),ot=p(27221),D=p(79497),st=p(77394),t=p(94650),y=p(63290),H=p(6072),I=p(96560),u=p(1576),J=p(43764);const mt=["searchItem"];function lt(a,o){1&a&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Name"),t.qZA())}function it(a,o){if(1&a&&(t.TgZ(0,"mat-cell")(1,"p",29),t._uU(2),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e.name)}}function rt(a,o){1&a&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Created On"),t.qZA())}function ct(a,o){if(1&a&&(t.TgZ(0,"mat-cell")(1,"p",29),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,e.createdOn+"Z","medium"))}}function ht(a,o){1&a&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Actions"),t.qZA())}function dt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"button",30),t.NdJ("click",function(m){return m.stopPropagation()}),t.TgZ(2,"mat-icon",31),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,32)(6,"button",33)(7,"mat-icon"),t._uU(8,"edit"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Edit"),t.qZA()(),t.TgZ(11,"button",34),t.NdJ("click",function(){const T=t.CHM(e).$implicit;return t.oxw().deleteWhatsappTemplate(T)}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Remove"),t.qZA()()()()}if(2&a){const e=o.$implicit,n=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(5),t.Q6J("routerLink","/app/whatsapp-template-management/whatsapp-template/"+e.id)}}function ut(a,o){1&a&&t._UZ(0,"mat-header-row")}function gt(a,o){1&a&&t._UZ(0,"mat-row",35)}function ft(a,o){1&a&&(t.TgZ(0,"div",36)(1,"span"),t._uU(2,"No Records found."),t.qZA()())}const Tt=function(){return{delay:"50ms",scale:"0.2"}},M=function(a){return{value:"*",params:a}},vt=function(){return{delay:"100ms",x:"-25px"}},xt=function(){return{value:"50"}},wt=function(){return[5,10,15,30]};let S=(()=>{class a{constructor(e,n,m){this._whatsapptemplateService=e,this._matDialog=n,this._snackbarService=m,this.filteredAndPagedLists=[],this.resultsLength=0,this.displayedColumns=["name","createdOn","actions"]}ngOnInit(){}ngAfterViewInit(){let e=(0,j.R)(this.searchItem.nativeElement,"keyup").pipe((0,tt.b)(800),(0,et.x)());(0,k.T)(this.sort.sortChange,this.paginator.page,e).pipe((0,at.O)({}),(0,pt.w)(()=>this._whatsapptemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value)),(0,nt.U)(n=>(this.resultsLength=n.result.total,n.result.items)),(0,ot.K)(()=>(0,q.of)([]))).subscribe(n=>{this.filteredAndPagedLists=n,console.log(n)})}reload(){this._whatsapptemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value).subscribe(e=>{this.filteredAndPagedLists=e.result.items,console.log(e)})}deleteWhatsappTemplate(e){this.confirmDialogRef=this._matDialog.open(st.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage=`Are you sure you want to delete ${e.name} template?`,this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this._whatsapptemplateService.deleteTemplate(e.id).subscribe(m=>{m&&(this._snackbarService.success(`Template ${e.name} deleted successfully.`),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(T=>T.id==e.id),1),this.resultsLength-=1,this.matWhatsappTemplateTable.renderRows())}),this.confirmDialogRef=null})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(y.q),t.Y36(N.uw),t.Y36(H.k))},a.\u0275cmp=t.Xpm({type:a,selectors:[["uc-whatsapptemplate-home"]],viewQuery:function(e,n){if(1&e&&(t.Gf(b.NW,7),t.Gf(x.YE,7),t.Gf(i.BZ,5),t.Gf(mt,7)),2&e){let m;t.iGM(m=t.CRH())&&(n.paginator=m.first),t.iGM(m=t.CRH())&&(n.sort=m.first),t.iGM(m=t.CRH())&&(n.matWhatsappTemplateTable=m.first),t.iGM(m=t.CRH())&&(n.searchItem=m.first)}},decls:41,vars:20,consts:[["id","whatsapptemplate",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a whatsapptemplate"],["searchItem",""],["mat-raised-button","",1,"cuc-white","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"whatsapptemplates-table",3,"dataSource"],["matWhatsappTemplateTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","createdOn"],[4,"matHeaderCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","template",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center center",3,"click"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"routerLink"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"template"],[1,"no-data-message"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),t._uU(6," sms "),t.qZA(),t.TgZ(7,"span",6),t._uU(8," WhatsApp Template "),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),t._uU(12,"search"),t.qZA(),t._UZ(13,"input",9,10),t.qZA()(),t.TgZ(15,"button",11)(16,"mat-icon"),t._uU(17,"add"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"Add New Template"),t.qZA()()(),t.TgZ(20,"div",12)(21,"mat-table",13,14),t.ynx(23,15),t.YNc(24,lt,2,0,"mat-header-cell",16),t.YNc(25,it,3,1,"mat-cell",17),t.BQk(),t.ynx(26,18),t.YNc(27,rt,2,0,"mat-header-cell",19),t.YNc(28,ct,4,4,"mat-cell",17),t.BQk(),t.ynx(29,20),t.YNc(30,ht,2,0,"mat-header-cell",19),t.YNc(31,dt,16,2,"mat-cell",17),t.BQk(),t.YNc(32,ut,1,0,"mat-header-row",21),t.YNc(33,gt,1,0,"mat-row",22),t.qZA(),t.YNc(34,ft,3,0,"div",23),t.TgZ(35,"div",24)(36,"button",25),t.NdJ("click",function(){return n.reload()}),t.TgZ(37,"mat-icon"),t._uU(38,"refresh"),t.qZA()(),t._UZ(39,"mat-paginator",26,27),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("@animate",t.VKq(13,M,t.DdM(12,Tt))),t.xp6(2),t.Q6J("@animate",t.VKq(16,M,t.DdM(15,vt))),t.xp6(8),t.Q6J("routerLink","/app/whatsapp-template-management/whatsapp-template/new"),t.xp6(6),t.Q6J("dataSource",n.filteredAndPagedLists)("@animateStagger",t.DdM(18,xt)),t.xp6(11),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",0==n.filteredAndPagedLists.length),t.xp6(5),t.Q6J("length",n.resultsLength)("pageSize",5)("pageSizeOptions",t.DdM(19,wt)))},directives:[I.V,u.xw,u.Wh,r.Hw,u.yH,c.lW,s.rH,i.BZ,x.YE,J.i,i.w1,i.fO,i.ge,x.nU,i.Dz,i.ev,w.p6,w.VK,w.OP,i.as,i.XQ,i.nj,i.Gk,C.O5,b.NW],pipes:[C.uU],styles:["@media screen and (max-width: 959px){uc-whatsapptemplate-home #whatsapptemplate .top-bg{height:256px}}uc-whatsapptemplate-home #whatsapptemplate>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-whatsapptemplate-home #whatsapptemplate>.center>.header .search-wrapper{width:100%}}uc-whatsapptemplate-home #whatsapptemplate>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-whatsapptemplate-home #whatsapptemplate>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-whatsapptemplate-home #whatsapptemplate>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-whatsapptemplate-home .whatsapptemplates-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-whatsapptemplate-home .whatsapptemplates-table .mat-header-row{min-height:64px}uc-whatsapptemplate-home .whatsapptemplates-table .whatsapptemplate{position:relative;height:60px}uc-whatsapptemplate-home .whatsapptemplates-table .mat-cell{min-width:0;display:flex;align-items:center}uc-whatsapptemplate-home .whatsapptemplates-table .mat-cell a{cursor:pointer}uc-whatsapptemplate-home .whatsapptemplates-table .active-icon{border-radius:50%}uc-whatsapptemplate-home .no-data-message{padding-top:5px;text-align:center}\n"],encapsulation:2,data:{animation:D.J}}),a})();class U{constructor(o){this.id=(o=o||{}).id||0,this.name=o.name||"",this.message=o.message||"",this.createdOn=o.createdOn||"",this.imageEnabled=o.imageEnabled||!1,this.imageUrl=o.imageUrl||""}}function Ct(a,o){if(1&a&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.hij(" ",e.whatsapptemplate.name," ")}}function Zt(a,o){1&a&&(t.TgZ(0,"div",20),t._uU(1,"New Template"),t.qZA())}function At(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().addWhatsappTemplate()}),t.TgZ(1,"span"),t._uU(2,"Add"),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.WhatsappTemplateForm.invalid)}}function bt(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveWhatsappTemplate()}),t.TgZ(1,"span"),t._uU(2,"Save"),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.WhatsappTemplateForm.invalid||e.WhatsappTemplateForm.pristine)}}function Wt(a,o){1&a&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"WhatsApp Template ImageUrl"),t.qZA(),t.TgZ(3,"textarea",22),t._uU(4,"                                    "),t.qZA()())}const yt=function(){return{delay:"100ms",x:"-25px"}},Ut=function(a){return{value:"*",params:a}};let Q=(()=>{class a{constructor(e,n,m,T,E){this._formBuilder=e,this._whatsapptemplateService=n,this._router=m,this._route=T,this._snackbarService=E,this.whatsapptemplate=new U}ngOnInit(){this.routeParams=this._route.params,this.WhatsappTemplateForm=this.createCreateForm(),"new"===this.routeParams.value.id?(this.pageType="new",this.whatsapptemplate=new U):(this.pageType="edit",this._whatsapptemplateService.getById(this.routeParams.value.id).subscribe(e=>{this.whatsapptemplate=new U(e),console.log(this.whatsapptemplate),this.WhatsappTemplateForm=this.createCreateForm()}))}createCreateForm(){return this._formBuilder.group({id:new l.NI(this.whatsapptemplate.id),name:new l.NI(this.whatsapptemplate.name),message:new l.NI(this.whatsapptemplate.message),imageEnabled:new l.NI(this.whatsapptemplate.imageEnabled),imageUrl:new l.NI(this.whatsapptemplate.imageUrl)})}addWhatsappTemplate(){const e=this.WhatsappTemplateForm.getRawValue();e.id="00000000-0000-0000-0000-000000000000",console.log(e),this._whatsapptemplateService.addTemplate(e).subscribe(n=>{n.result&&(this.whatsapptemplate.id=n.result,this._snackbarService.success(`WhatsAppTemplate ${e.name} added successfully.`),this._router.navigateByUrl("app/whatsapp-template-management/whatsapptemplates"))})}saveWhatsappTemplate(){const e=this.WhatsappTemplateForm.getRawValue();e.id=this.whatsapptemplate.id,console.log(e),this._whatsapptemplateService.saveTemplate(e).subscribe(()=>{this._snackbarService.success(`WhatsAppTemplate ${e.name} update successfully.`),this._router.navigateByUrl("app/whatsapp-template-management/whatsapptemplates")})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l.qu),t.Y36(y.q),t.Y36(s.F0),t.Y36(s.gz),t.Y36(H.k))},a.\u0275cmp=t.Xpm({type:a,selectors:[["uc-whatsapptemplate"]],decls:34,vars:11,consts:[["id","whatsapptemplate-form",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["fxLayout","column","fxFlex","",1,"Whatsapptemplate","w-100-p",3,"formGroup"],["label","Basic Info"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","WhatsApp Template Name","name","name","formControlName","name","required",""],["matInput","","placeholder","WhatsApp Template Message","name","message","formControlName","message","rows","2"],["labelPosition","before","formControlName","imageEnabled",1,"w-30-p"],["appearance","outline","floatLabel","always","class","w-100-p",4,"ngIf"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"],["matInput","","placeholder","WhatsApp Template Message","name","imageUrl","formControlName","imageUrl","rows","2"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),t._uU(7,"arrow_back"),t.qZA()(),t.TgZ(8,"div",6),t.YNc(9,Ct,2,1,"div",7),t.YNc(10,Zt,2,0,"div",7),t.TgZ(11,"div",8)(12,"span"),t._uU(13,"Template Settings"),t.qZA()()()(),t.YNc(14,At,3,1,"button",9),t.YNc(15,bt,3,1,"button",9),t.qZA(),t.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),t._uU(24,"WhatAapp Template Name"),t.qZA(),t._UZ(25,"input",16),t.qZA(),t.TgZ(26,"mat-form-field",15)(27,"mat-label"),t._uU(28,"WhatsApp Template Message"),t.qZA(),t.TgZ(29,"textarea",17),t._uU(30,"                                    "),t.qZA()(),t.TgZ(31,"mat-checkbox",18),t._uU(32," Image "),t.qZA(),t.YNc(33,Wt,5,0,"mat-form-field",19),t.qZA()()()()()()()()),2&e&&(t.xp6(5),t.Q6J("routerLink","/app/whatsapp-template-management/whatsapptemplates"),t.xp6(3),t.Q6J("@animate",t.VKq(9,Ut,t.DdM(8,yt))),t.xp6(1),t.Q6J("ngIf","edit"===n.pageType),t.xp6(1),t.Q6J("ngIf","new"===n.pageType),t.xp6(4),t.Q6J("ngIf","new"===n.pageType),t.xp6(1),t.Q6J("ngIf","edit"===n.pageType),t.xp6(3),t.Q6J("formGroup",n.WhatsappTemplateForm),t.xp6(15),t.Q6J("ngIf",1==n.WhatsappTemplateForm.get("imageEnabled").value))},directives:[I.V,u.xw,u.Wh,c.lW,s.rH,r.Hw,C.O5,l._Y,l.JL,u.yH,l.sg,W.SP,W.uX,J.i,g.KE,g.hX,f.Nt,l.Fj,l.JJ,l.u,l.Q7,d.oG],styles:[""],encapsulation:2,data:{animation:D.J}}),a})();const Lt=[{path:"",component:S},{path:"whatsapptemplates",component:S},{path:"whatsapp-template",component:Q},{path:"whatsapp-template/:id",component:Q}];let Nt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[y.q],imports:[[l.u5,C.ez,s.Bz.forChild(Lt),Y.T5,$.S,X.Bb,K.N6,c.ot,P.Hi,_.t,B.To,g.lN,r.Ps,f.c,b.TU,Z.si,h.LD,x.JX,G.ZX,i.p0,W.Nh,d.p9,w.Tx,A.FA,V.g0,R.QW,N.Is,z.Fk,O.A,L.lJ,L.QH]]}),a})()}}]);