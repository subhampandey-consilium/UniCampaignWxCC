"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[5070],{77394:(Y,T,n)=>{n.d(T,{J:()=>g});var s=n(94650),p=n(65938),M=n(4859);let g=(()=>{class c{constructor(d){this.dialogRef=d}}return c.\u0275fac=function(d){return new(d||c)(s.Y36(p.so))},c.\u0275cmp=s.Xpm({type:c,selectors:[["cuc-confirm-dialog"]],decls:9,vars:1,consts:[["matDialogTitle",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end",1,"pt-24"],["mat-raised-button","",1,"mat-accent","mr-16",3,"click"],["mat-raised-button","",3,"click"]],template:function(d,f){1&d&&(s.TgZ(0,"h1",0),s._uU(1,"Confirm"),s.qZA(),s.TgZ(2,"div",1),s._uU(3),s.qZA(),s.TgZ(4,"div",2)(5,"button",3),s.NdJ("click",function(){return f.dialogRef.close(!0)}),s._uU(6,"Confirm"),s.qZA(),s.TgZ(7,"button",4),s.NdJ("click",function(){return f.dialogRef.close(!1)}),s._uU(8,"Cancel"),s.qZA()()),2&d&&(s.xp6(3),s.Oqu(f.confirmMessage))},directives:[p.uh,p.xY,p.H8,M.lW],styles:[""]}),c})()},85070:(Y,T,n)=>{n.r(T),n.d(T,{SMSTemplateModule:()=>Le});var s=n(93917),p=n(4859),M=n(3238),g=n(59549),c=n(97392),h=n(44144),d=n(84385),f=n(56709),Z=n(99602),O=n(73546),E=n(86257),P=n(8882),L=n(82689),B=n(77331),W=n(37084),y=n(27974),v=n(96308),G=n(17009),i=n(2143),z=n(71948),A=n(3848),x=n(28255),K=n(90782),r=n(24006),V=n(83683),X=n(44850),w=n(65938),C=n(36895),$=n(47957),j=n(48568),k=n(23753),_=n(36787),q=n(21086),ee=n(80013),te=n(75778),ae=n(1059),ne=n(87545),me=n(24850),oe=n(27221),D=n(79497),se=n(77394),e=n(94650),b=n(50994),H=n(6072),N=n(96560),u=n(1576),J=n(43764);const le=["searchItem"];function ie(a,o){1&a&&(e.TgZ(0,"mat-header-cell",28),e._uU(1,"Name"),e.qZA())}function re(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",29),e._uU(2),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function ce(a,o){1&a&&(e.TgZ(0,"mat-header-cell",28),e._uU(1,"Created On"),e.qZA())}function pe(a,o){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",29),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,t.createdOn+"Z","medium"))}}function de(a,o){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function ue(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",30),e.NdJ("click",function(l){return l.stopPropagation()}),e.TgZ(2,"mat-icon",31),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,32)(6,"button",33)(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit"),e.qZA()(),e.TgZ(11,"button",34),e.NdJ("click",function(){const S=e.CHM(t).$implicit;return e.oxw().deleteSMSTemplate(S)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Remove"),e.qZA()()()()}if(2&a){const t=o.$implicit,m=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",m),e.xp6(5),e.Q6J("routerLink","/app/sms-template-management/sms-template/"+t.id)}}function ge(a,o){1&a&&e._UZ(0,"mat-header-row")}function he(a,o){1&a&&e._UZ(0,"mat-row",35)}function fe(a,o){1&a&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const Se=function(){return{delay:"50ms",scale:"0.2"}},I=function(a){return{value:"*",params:a}},Te=function(){return{delay:"100ms",x:"-25px"}},ve=function(){return{value:"50"}},xe=function(){return[5,10,15,30]};let Q=(()=>{class a{constructor(t,m,l){this._smstemplateService=t,this._matDialog=m,this._snackbarService=l,this.filteredAndPagedLists=[],this.resultsLength=0,this.displayedColumns=["name","createdOn","actions"]}ngOnInit(){}ngAfterViewInit(){let t=(0,k.R)(this.searchItem.nativeElement,"keyup").pipe((0,ee.b)(800),(0,te.x)());(0,_.T)(this.sort.sortChange,this.paginator.page,t).pipe((0,ae.O)({}),(0,ne.w)(()=>this._smstemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value)),(0,me.U)(m=>(this.resultsLength=m.result.total,m.result.items)),(0,oe.K)(()=>(0,q.of)([]))).subscribe(m=>{this.filteredAndPagedLists=m,console.log(m)})}reload(){this._smstemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value).subscribe(t=>{this.filteredAndPagedLists=t.result.items,console.log(t)})}deleteSMSTemplate(t){this.confirmDialogRef=this._matDialog.open(se.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage=`Are you sure you want to delete ${t.name} template?`,this.confirmDialogRef.afterClosed().subscribe(m=>{m&&this._smstemplateService.deleteTemplate(t.id).subscribe(l=>{l&&(this._snackbarService.success(`Template ${t.name} deleted successfully.`),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(S=>S.id==t.id),1),this.matSMSTemplateTable.renderRows())}),this.confirmDialogRef=null})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(b.y),e.Y36(w.uw),e.Y36(H.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-smstemplate-home"]],viewQuery:function(t,m){if(1&t&&(e.Gf(y.NW,7),e.Gf(v.YE,7),e.Gf(i.BZ,5),e.Gf(le,7)),2&t){let l;e.iGM(l=e.CRH())&&(m.paginator=l.first),e.iGM(l=e.CRH())&&(m.sort=l.first),e.iGM(l=e.CRH())&&(m.matSMSTemplateTable=l.first),e.iGM(l=e.CRH())&&(m.searchItem=l.first)}},decls:41,vars:20,consts:[["id","smstemplate",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a smstemplate"],["searchItem",""],["mat-raised-button","",1,"cuc-white","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"smstemplates-table",3,"dataSource"],["matSMSTemplateTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","template",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center center",3,"click"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"routerLink"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"template"],[1,"no-data-message"]],template:function(t,m){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),e._uU(6," sms "),e.qZA(),e.TgZ(7,"span",6),e._uU(8," SMS Template "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),e._uU(12,"search"),e.qZA(),e._UZ(13,"input",9,10),e.qZA()(),e.TgZ(15,"button",11)(16,"mat-icon"),e._uU(17,"add"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Add New Template"),e.qZA()()(),e.TgZ(20,"div",12)(21,"mat-table",13,14),e.ynx(23,15),e.YNc(24,ie,2,0,"mat-header-cell",16),e.YNc(25,re,3,1,"mat-cell",17),e.BQk(),e.ynx(26,18),e.YNc(27,ce,2,0,"mat-header-cell",16),e.YNc(28,pe,4,4,"mat-cell",17),e.BQk(),e.ynx(29,19),e.YNc(30,de,2,0,"mat-header-cell",20),e.YNc(31,ue,16,2,"mat-cell",17),e.BQk(),e.YNc(32,ge,1,0,"mat-header-row",21),e.YNc(33,he,1,0,"mat-row",22),e.qZA(),e.YNc(34,fe,3,0,"div",23),e.TgZ(35,"div",24)(36,"button",25),e.NdJ("click",function(){return m.reload()}),e.TgZ(37,"mat-icon"),e._uU(38,"refresh"),e.qZA()(),e._UZ(39,"mat-paginator",26,27),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("@animate",e.VKq(13,I,e.DdM(12,Se))),e.xp6(2),e.Q6J("@animate",e.VKq(16,I,e.DdM(15,Te))),e.xp6(8),e.Q6J("routerLink","/app/sms-template-management/sms-template/new"),e.xp6(6),e.Q6J("dataSource",m.filteredAndPagedLists)("@animateStagger",e.DdM(18,ve)),e.xp6(11),e.Q6J("matHeaderRowDef",m.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",m.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==m.filteredAndPagedLists.length),e.xp6(5),e.Q6J("length",m.resultsLength)("pageSize",5)("pageSizeOptions",e.DdM(19,xe)))},directives:[N.V,u.xw,u.Wh,c.Hw,u.yH,p.lW,s.rH,i.BZ,v.YE,J.i,i.w1,i.fO,i.ge,v.nU,i.Dz,i.ev,x.p6,x.VK,x.OP,i.as,i.XQ,i.nj,i.Gk,C.O5,y.NW],pipes:[C.uU],styles:["@media screen and (max-width: 959px){uc-smstemplate-home #smstemplate .top-bg{height:256px}}uc-smstemplate-home #smstemplate>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-smstemplate-home #smstemplate>.center>.header .search-wrapper{width:100%}}uc-smstemplate-home #smstemplate>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-smstemplate-home #smstemplate>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-smstemplate-home #smstemplate>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-smstemplate-home .smstemplates-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-smstemplate-home .smstemplates-table .mat-header-row{min-height:64px}uc-smstemplate-home .smstemplates-table .smstemplate{position:relative;height:60px}uc-smstemplate-home .smstemplates-table .mat-cell{min-width:0;display:flex;align-items:center}uc-smstemplate-home .smstemplates-table .mat-cell a{cursor:pointer}uc-smstemplate-home .smstemplates-table .active-icon{border-radius:50%}uc-smstemplate-home .no-data-message{padding-top:5px;text-align:center}\n"],encapsulation:2,data:{animation:D.J}}),a})();class U{constructor(o){this.id=(o=o||{}).id||0,this.name=o.name||"",this.message=o.message||"",this.createdOn=o.createdOn||""}}function Ce(a,o){if(1&a&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.smstemplate.name," ")}}function Me(a,o){1&a&&(e.TgZ(0,"div",18),e._uU(1,"New Template"),e.qZA())}function Ze(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().addSMSTemplate()}),e.TgZ(1,"span"),e._uU(2,"Add"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.SMSTemplateForm.invalid)}}function ye(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveSMSTemplate()}),e.TgZ(1,"span"),e._uU(2,"Save"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.SMSTemplateForm.invalid||t.SMSTemplateForm.pristine)}}const Ae=function(){return{delay:"100ms",x:"-25px"}},be=function(a){return{value:"*",params:a}};let R=(()=>{class a{constructor(t,m,l,S,F){this._formBuilder=t,this._smstemplateService=m,this._router=l,this._route=S,this._snackbarService=F,this.smstemplate=new U}ngOnInit(){this.routeParams=this._route.params,this.SMSTemplateForm=this.createCreateForm(),"new"===this.routeParams.value.id?(this.pageType="new",this.smstemplate=new U):(this.pageType="edit",this._smstemplateService.getById(this.routeParams.value.id).subscribe(t=>{this.smstemplate=new U(t),console.log(this.smstemplate),this.SMSTemplateForm=this.createCreateForm()}))}createCreateForm(){return this._formBuilder.group({id:new r.NI(this.smstemplate.id),name:new r.NI(this.smstemplate.name),message:new r.NI(this.smstemplate.message)})}addSMSTemplate(){const t=this.SMSTemplateForm.getRawValue();t.id="00000000-0000-0000-0000-000000000000",console.log(t),this._smstemplateService.addTemplate(t).subscribe(m=>{m.result&&(this.smstemplate.id=m.result,this._snackbarService.success(`SMSTemplate ${t.name} added successfully.`),this._router.navigateByUrl("app/sms-template-management/smstemplates"))})}saveSMSTemplate(){const t=this.SMSTemplateForm.getRawValue();t.id=this.smstemplate.id,console.log(t),this._smstemplateService.saveTemplate(t).subscribe(()=>{this._snackbarService.success(`SMSTemplate ${t.name} update successfully.`),this._router.navigateByUrl("app/sms-template-management/smstemplates")})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(r.qu),e.Y36(b.y),e.Y36(s.F0),e.Y36(s.gz),e.Y36(H.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-smstemplate"]],decls:31,vars:10,consts:[["id","smstemplate-form",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["fxLayout","column","fxFlex","",1,"smstemplate","w-100-p",3,"formGroup"],["label","Basic Info"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","SMS Name","name","name","formControlName","name","required",""],["matInput","","placeholder","SMS Message","name","message","formControlName","message","rows","2"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"]],template:function(t,m){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),e._uU(7,"arrow_back"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,Ce,2,1,"div",7),e.YNc(10,Me,2,0,"div",7),e.TgZ(11,"div",8)(12,"span"),e._uU(13,"Template Settings"),e.qZA()()()(),e.YNc(14,Ze,3,1,"button",9),e.YNc(15,ye,3,1,"button",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),e._uU(24,"SMS Name"),e.qZA(),e._UZ(25,"input",16),e.qZA(),e.TgZ(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"SMS Message"),e.qZA(),e.TgZ(29,"textarea",17),e._uU(30,"                                    "),e.qZA()()()()()()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink","/app/sms-template-management/smstemplates"),e.xp6(3),e.Q6J("@animate",e.VKq(8,be,e.DdM(7,Ae))),e.xp6(1),e.Q6J("ngIf","edit"===m.pageType),e.xp6(1),e.Q6J("ngIf","new"===m.pageType),e.xp6(4),e.Q6J("ngIf","new"===m.pageType),e.xp6(1),e.Q6J("ngIf","edit"===m.pageType),e.xp6(3),e.Q6J("formGroup",m.SMSTemplateForm))},directives:[N.V,u.xw,u.Wh,p.lW,s.rH,c.Hw,C.O5,r._Y,r.JL,u.yH,r.sg,A.SP,A.uX,J.i,g.KE,g.hX,h.Nt,r.Fj,r.JJ,r.u,r.Q7],styles:[""],encapsulation:2,data:{animation:D.J}}),a})();const Ue=[{path:"",component:Q},{path:"smstemplates",component:Q},{path:"sms-template",component:R},{path:"sms-template/:id",component:R}];let Le=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[b.y],imports:[[r.u5,C.ez,s.Bz.forChild(Ue),E.T5,j.S,$.Bb,K.N6,p.ot,B.Hi,X.t,W.To,g.lN,c.Ps,h.c,y.TU,M.si,d.LD,v.JX,G.ZX,i.p0,A.Nh,f.p9,x.Tx,Z.FA,V.g0,O.QW,w.Is,z.Fk,P.A,L.lJ,L.QH]]}),a})()}}]);