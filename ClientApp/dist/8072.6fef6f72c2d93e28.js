"use strict";(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[8072],{77394:(F,v,l)=>{l.d(v,{J:()=>g});var i=l(94650),p=l(65938),Z=l(4859);let g=(()=>{class c{constructor(d){this.dialogRef=d}}return c.\u0275fac=function(d){return new(d||c)(i.Y36(p.so))},c.\u0275cmp=i.Xpm({type:c,selectors:[["cuc-confirm-dialog"]],decls:9,vars:1,consts:[["matDialogTitle",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end",1,"pt-24"],["mat-raised-button","",1,"mat-accent","mr-16",3,"click"],["mat-raised-button","",3,"click"]],template:function(d,f){1&d&&(i.TgZ(0,"h1",0),i._uU(1,"Confirm"),i.qZA(),i.TgZ(2,"div",1),i._uU(3),i.qZA(),i.TgZ(4,"div",2)(5,"button",3),i.NdJ("click",function(){return f.dialogRef.close(!0)}),i._uU(6,"Confirm"),i.qZA(),i.TgZ(7,"button",4),i.NdJ("click",function(){return f.dialogRef.close(!1)}),i._uU(8,"Cancel"),i.qZA()()),2&d&&(i.xp6(3),i.Oqu(f.confirmMessage))},directives:[p.uh,p.xY,p.H8,Z.lW],styles:[""]}),c})()},58072:(F,v,l)=>{l.r(v),l.d(v,{EmailTemplateModule:()=>be});var i=l(93917),p=l(4859),Z=l(3238),g=l(59549),c=l(97392),h=l(44144),d=l(84385),f=l(56709),E=l(99602),Y=l(73546),O=l(86257),P=l(8882),b=l(82689),B=l(77331),W=l(37084),L=l(27974),x=l(96308),G=l(17009),s=l(2143),z=l(71948),M=l(3848),A=l(28255),K=l(90782),r=l(24006),V=l(83683),X=l(44850),U=l(65938),C=l(36895),$=l(47957),j=l(48568),_=l(23753),k=l(36787),q=l(21086),ee=l(80013),te=l(75778),ae=l(1059),le=l(87545),me=l(24850),ne=l(27221),D=l(79497),ie=l(77394),e=l(94650),y=l(59756),w=l(6072),H=l(96560),u=l(1576),N=l(43764);const oe=["searchItem"];function se(a,n){1&a&&(e.TgZ(0,"mat-header-cell",28),e._uU(1,"Name"),e.qZA())}function re(a,n){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",29),e._uU(2),e.qZA()()),2&a){const t=n.$implicit;e.xp6(2),e.Oqu(t.name)}}function ce(a,n){1&a&&(e.TgZ(0,"mat-header-cell",28),e._uU(1,"Created On"),e.qZA())}function pe(a,n){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",29),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&a){const t=n.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,t.createdOn+"Z","medium"))}}function de(a,n){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function ue(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",30),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(2,"mat-icon",31),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,32)(6,"button",33)(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit"),e.qZA()(),e.TgZ(11,"button",34),e.NdJ("click",function(){const T=e.CHM(t).$implicit;return e.oxw().deleteEMAILTemplate(T)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Remove"),e.qZA()()()()}if(2&a){const t=n.$implicit,m=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",m),e.xp6(5),e.Q6J("routerLink","/app/email-template-management/email-template/"+t.id)}}function ge(a,n){1&a&&e._UZ(0,"mat-header-row")}function he(a,n){1&a&&e._UZ(0,"mat-row",35)}function fe(a,n){1&a&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const Te=function(){return{delay:"50ms",scale:"0.2"}},J=function(a){return{value:"*",params:a}},ve=function(){return{delay:"100ms",x:"-25px"}},xe=function(){return{value:"50"}},Ae=function(){return[5,10,15,30]};let S=(()=>{class a{constructor(t,m,o){this._emailtemplateService=t,this._matDialog=m,this._toastService=o,this.filteredAndPagedLists=[],this.resultsLength=0,this.displayedColumns=["name","createdOn","actions"]}ngOnInit(){}ngAfterViewInit(){let t=(0,_.R)(this.searchItem.nativeElement,"keyup").pipe((0,ee.b)(800),(0,te.x)());(0,k.T)(this.sort.sortChange,this.paginator.page,t).pipe((0,ae.O)({}),(0,le.w)(()=>this._emailtemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value)),(0,me.U)(m=>(this.resultsLength=m.result.total,m.result.items)),(0,ne.K)(()=>(0,q.of)([]))).subscribe(m=>{this.filteredAndPagedLists=m,console.log(m)})}reload(){this._emailtemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchItem.nativeElement.value).subscribe(t=>{this.filteredAndPagedLists=t.result.items,console.log(t)})}deleteEMAILTemplate(t){this.confirmDialogRef=this._matDialog.open(ie.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage=`Are you sure you want to delete ${t.name} campaign?`,this.confirmDialogRef.afterClosed().subscribe(m=>{m&&this._emailtemplateService.deleteEMAILTemplate(t.id).subscribe(o=>{o&&(console.log("Email Template delete status:::",o),this._toastService.success("Email Template Deleted successfully."),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(T=>T.id==t.id),1),this.matEMAILTemplateTable.renderRows())}),this.confirmDialogRef=null})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y.g),e.Y36(U.uw),e.Y36(w.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-emailtemplate-home"]],viewQuery:function(t,m){if(1&t&&(e.Gf(L.NW,7),e.Gf(x.YE,7),e.Gf(s.BZ,5),e.Gf(oe,7)),2&t){let o;e.iGM(o=e.CRH())&&(m.paginator=o.first),e.iGM(o=e.CRH())&&(m.sort=o.first),e.iGM(o=e.CRH())&&(m.matEMAILTemplateTable=o.first),e.iGM(o=e.CRH())&&(m.searchItem=o.first)}},decls:41,vars:20,consts:[["id","emailtemplate",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a Email template"],["searchItem",""],["mat-raised-button","",1,"cuc-white","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"emailtemplates-table",3,"dataSource"],["matEMAILTemplateTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","template",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center center",3,"click"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"routerLink"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"template"],[1,"no-data-message"]],template:function(t,m){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),e._uU(6," email "),e.qZA(),e.TgZ(7,"span",6),e._uU(8," Email Template "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),e._uU(12,"search"),e.qZA(),e._UZ(13,"input",9,10),e.qZA()(),e.TgZ(15,"button",11)(16,"mat-icon"),e._uU(17,"add"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Add New Template"),e.qZA()()(),e.TgZ(20,"div",12)(21,"mat-table",13,14),e.ynx(23,15),e.YNc(24,se,2,0,"mat-header-cell",16),e.YNc(25,re,3,1,"mat-cell",17),e.BQk(),e.ynx(26,18),e.YNc(27,ce,2,0,"mat-header-cell",16),e.YNc(28,pe,4,4,"mat-cell",17),e.BQk(),e.ynx(29,19),e.YNc(30,de,2,0,"mat-header-cell",20),e.YNc(31,ue,16,2,"mat-cell",17),e.BQk(),e.YNc(32,ge,1,0,"mat-header-row",21),e.YNc(33,he,1,0,"mat-row",22),e.qZA(),e.YNc(34,fe,3,0,"div",23),e.TgZ(35,"div",24)(36,"button",25),e.NdJ("click",function(){return m.reload()}),e.TgZ(37,"mat-icon"),e._uU(38,"refresh"),e.qZA()(),e._UZ(39,"mat-paginator",26,27),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("@animate",e.VKq(13,J,e.DdM(12,Te))),e.xp6(2),e.Q6J("@animate",e.VKq(16,J,e.DdM(15,ve))),e.xp6(8),e.Q6J("routerLink","/app/email-template-management/email-template/new"),e.xp6(6),e.Q6J("dataSource",m.filteredAndPagedLists)("@animateStagger",e.DdM(18,xe)),e.xp6(11),e.Q6J("matHeaderRowDef",m.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",m.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==m.filteredAndPagedLists.length),e.xp6(5),e.Q6J("length",m.resultsLength)("pageSize",5)("pageSizeOptions",e.DdM(19,Ae)))},directives:[H.V,u.xw,u.Wh,c.Hw,u.yH,p.lW,i.rH,s.BZ,x.YE,N.i,s.w1,s.fO,s.ge,x.nU,s.Dz,s.ev,A.p6,A.VK,A.OP,s.as,s.XQ,s.nj,s.Gk,C.O5,L.NW],pipes:[C.uU],styles:["@media screen and (max-width: 959px){uc-emailtemplate-home #emailtemplate .top-bg{height:256px}}uc-emailtemplate-home #emailtemplate>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-emailtemplate-home #emailtemplate>.center>.header .search-wrapper{width:100%}}uc-emailtemplate-home #emailtemplate>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-emailtemplate-home #emailtemplate>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-emailtemplate-home #emailtemplate>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-emailtemplate-home .emailtemplates-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-emailtemplate-home .emailtemplates-table .mat-header-row{min-height:64px}uc-emailtemplate-home .emailtemplates-table .emailtemplate{position:relative;height:60px}uc-emailtemplate-home .emailtemplates-table .mat-cell{min-width:0;display:flex;align-items:center}uc-emailtemplate-home .emailtemplates-table .mat-cell a{cursor:pointer}uc-emailtemplate-home .emailtemplates-table .active-icon{border-radius:50%}uc-emailtemplate-home .no-data-message{padding-top:5px;text-align:center}\n"],encapsulation:2,data:{animation:D.J}}),a})();class I{constructor(n){this.id=(n=n||{}).id||0,this.name=n.name||"",this.message=n.message||"",this.createdOn=n.createdOn||""}}function Ce(a,n){if(1&a&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.emailtemplate.name," ")}}function Ze(a,n){1&a&&(e.TgZ(0,"div",18),e._uU(1,"New Template"),e.qZA())}function Ee(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEMAILTemplate()}),e.TgZ(1,"span"),e._uU(2,"Add"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.EMAILTemplateForm.invalid)}}function Le(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveEMAILTemplate()}),e.TgZ(1,"span"),e._uU(2,"Save"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.EMAILTemplateForm.invalid||t.EMAILTemplateForm.pristine)}}const Me=function(){return{delay:"100ms",x:"-25px"}},ye=function(a){return{value:"*",params:a}};let Q=(()=>{class a{constructor(t,m,o,T,R){this._formBuilder=t,this._emailtemplateService=m,this._router=o,this._route=T,this._snackbarService=R,this.emailtemplate=new I}ngOnInit(){this.routeParams=this._route.params,this.EMAILTemplateForm=this.createCreateForm(),"new"===this.routeParams.value.id?(this.pageType="new",this.emailtemplate=new I):(this.pageType="edit",this._emailtemplateService.getById(this.routeParams.value.id).subscribe(t=>{this.emailtemplate=new I(t),console.log(this.emailtemplate),this.EMAILTemplateForm=this.createCreateForm()}))}createCreateForm(){return this._formBuilder.group({id:new r.NI(this.emailtemplate.id),name:new r.NI(this.emailtemplate.name),message:new r.NI(this.emailtemplate.message)})}addEMAILTemplate(){const t=this.EMAILTemplateForm.getRawValue();t.id="00000000-0000-0000-0000-000000000000",console.log(t),this._emailtemplateService.addTemplate(t).subscribe(m=>{m.result&&(this.emailtemplate.id=m.result,this._snackbarService.success(`EMAILTemplate ${t.name} added successfully.`),this._router.navigateByUrl("app/email-template-management/emailtemplates"))})}saveEMAILTemplate(){const t=this.EMAILTemplateForm.getRawValue();t.id=this.emailtemplate.id,console.log(t),this._emailtemplateService.saveTemplate(t).subscribe(()=>{this._snackbarService.success(`EMAILTemplate ${t.name} update successfully.`),this._router.navigateByUrl("app/email-template-management/emailtemplates")})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(r.qu),e.Y36(y.g),e.Y36(i.F0),e.Y36(i.gz),e.Y36(w.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-emailtemplate"]],decls:31,vars:10,consts:[["id","emailtemplate-form",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["fxLayout","column","fxFlex","",1,"emailtemplate","w-100-p",3,"formGroup"],["label","Basic Info"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","EMAIL Name","name","name","formControlName","name","required",""],["matInput","","placeholder","EMAIL Message","name","message","formControlName","message","rows","2"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"]],template:function(t,m){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),e._uU(7,"arrow_back"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,Ce,2,1,"div",7),e.YNc(10,Ze,2,0,"div",7),e.TgZ(11,"div",8)(12,"span"),e._uU(13,"Template Settings"),e.qZA()()()(),e.YNc(14,Ee,3,1,"button",9),e.YNc(15,Le,3,1,"button",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),e._uU(24,"EMAIL Name"),e.qZA(),e._UZ(25,"input",16),e.qZA(),e.TgZ(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"EMAIL Message"),e.qZA(),e.TgZ(29,"textarea",17),e._uU(30,"                                    "),e.qZA()()()()()()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink","/app/email-template-management/emailtemplates"),e.xp6(3),e.Q6J("@animate",e.VKq(8,ye,e.DdM(7,Me))),e.xp6(1),e.Q6J("ngIf","edit"===m.pageType),e.xp6(1),e.Q6J("ngIf","new"===m.pageType),e.xp6(4),e.Q6J("ngIf","new"===m.pageType),e.xp6(1),e.Q6J("ngIf","edit"===m.pageType),e.xp6(3),e.Q6J("formGroup",m.EMAILTemplateForm))},directives:[H.V,u.xw,u.Wh,p.lW,i.rH,c.Hw,C.O5,r._Y,r.JL,u.yH,r.sg,M.SP,M.uX,N.i,g.KE,g.hX,h.Nt,r.Fj,r.JJ,r.u,r.Q7],styles:[""],encapsulation:2,data:{animation:D.J}}),a})();const Ie=[{path:"",component:S},{path:"emailtemplates",component:S},{path:"email-template",component:Q},{path:"email-template/:id",component:Q}];let be=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[y.g],imports:[[r.u5,C.ez,i.Bz.forChild(Ie),O.T5,j.S,$.Bb,K.N6,p.ot,B.Hi,X.t,W.To,g.lN,c.Ps,h.c,L.TU,Z.si,d.LD,x.JX,G.ZX,s.p0,M.Nh,f.p9,A.Tx,E.FA,V.g0,Y.QW,U.Is,z.Fk,P.A,b.lJ,b.QH]]}),a})()}}]);