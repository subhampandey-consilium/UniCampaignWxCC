(self.webpackChunkuni_connect=self.webpackChunkuni_connect||[]).push([[4586],{74586:(N,y,o)=>{"use strict";o.r(y),o.d(y,{CSRTemplateModule:()=>be});var T=o(93917),S=o(4859),A=o(3238),g=o(59549),Z=o(73546),C=o(97392),u=o(44144),L=o(84385),_=o(56709),i=o(8882),r=o(82689),h=o(77331),s=o(37084),c=o(27974),R=o(96308),U=o(17009),p=o(2143),b=o(3848),v=o(28255),x=o(79497),B=o(77394),k=o(23753),P=o(36787),G=o(21086),j=o(1059),W=o(87545),K=o(24850),z=o(27221),V=o(94327),e=o(94650),H=o(25849),X=o(65938),M=o(6072),D=o(96560),w=o(1576),Q=o(43764),F=o(36895);const $=["searchCSRTemplate"];function q(a,l){1&a&&(e.TgZ(0,"mat-header-cell",29),e._uU(1,"Template Name"),e.qZA())}function ee(a,l){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",30),e._uU(2),e.qZA()()),2&a){const t=l.$implicit;e.xp6(2),e.Oqu(t.name)}}function te(a,l){1&a&&(e.TgZ(0,"mat-header-cell",29),e._uU(1,"Created On"),e.qZA())}function ae(a,l){if(1&a&&(e.TgZ(0,"mat-cell")(1,"p",30),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&a){const t=l.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,t.createdOn+"Z","medium"))}}function ne(a,l){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Actions"),e.qZA())}function oe(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",31),e.NdJ("click",function(m){return m.stopPropagation()}),e.TgZ(2,"mat-icon",32),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,33)(6,"button",34)(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit"),e.qZA()(),e.TgZ(11,"button",35),e.NdJ("click",function(){const f=e.CHM(t).$implicit;return e.oxw().deleteTemplate(f)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Delete"),e.qZA()()()()}if(2&a){const t=l.$implicit,n=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(5),e.Q6J("routerLink","/app/csr-template-management/template/"+t.id)}}function le(a,l){1&a&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Download "),e.qZA())}function ie(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",36),e.NdJ("click",function(){const f=e.CHM(t).$implicit;return e.oxw().downloadCSRTemplate(f)}),e.TgZ(2,"span",37)(3,"mat-icon"),e._uU(4,"download"),e.qZA()()()()}}function re(a,l){1&a&&e._UZ(0,"mat-header-row")}function me(a,l){1&a&&e._UZ(0,"mat-row",38)}function se(a,l){1&a&&(e.TgZ(0,"div",39)(1,"span"),e._uU(2,"No Records found."),e.qZA()())}const ce=function(){return{delay:"50ms",scale:"0.2"}},Y=function(a){return{value:"*",params:a}},pe=function(){return{delay:"100ms",x:"-25px"}},ue=function(){return{value:"50"}},de=function(){return[10,25,100]};let I=(()=>{class a{constructor(t,n,m){this._csrTemplateService=t,this._matDialog=n,this._snackbarService=m,this.filteredAndPagedLists=[],this.displayedColumns=["name","createdOn","actions","download"],this.resultsLength=0}ngOnInit(){}ngAfterViewInit(){let t=(0,k.R)(this.searchCSRTemplate.nativeElement,"keyup");(0,P.T)(this.sort.sortChange,this.paginator.page,t).pipe((0,j.O)({}),(0,W.w)(()=>this._csrTemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchCSRTemplate.nativeElement.value,this.sort.direction)),(0,K.U)(n=>(this.resultsLength=n.result.total,n.result.items)),(0,z.K)(()=>(0,G.of)([]))).subscribe(n=>{this.filteredAndPagedLists=n,console.log("Fetched templates:",this.filteredAndPagedLists)})}reload(){this._csrTemplateService.getAll(this.paginator.pageIndex+1,this.paginator.pageSize,this.searchCSRTemplate.nativeElement.value,this.sort.direction).subscribe(t=>{this.filteredAndPagedLists=t.result.items,console.log(t)})}deleteTemplate(t){this.confirmDialogRef=this._matDialog.open(B.J,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage=`Are you sure you want to delete ${t.name} template?`,this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this._csrTemplateService.deleteTemplate(t.id).subscribe(m=>{m&&(this._snackbarService.success(`Template ${t.name} deleted successfully.`),this.filteredAndPagedLists.splice(this.filteredAndPagedLists.findIndex(f=>f.id==t.id),1),this.matCSRTemplateTable.renderRows())}),this.confirmDialogRef=null})}downloadCSRTemplate(t){this._csrTemplateService.downloadCSRTemplate(t.id).subscribe(n=>{console.log(n),V.saveAs(n.blob,n.fileName)},n=>{console.log("Error downloading the file")})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(H.J),e.Y36(X.uw),e.Y36(M.k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["uc-csr-template-home"]],viewQuery:function(t,n){if(1&t&&(e.Gf(c.NW,7),e.Gf(R.YE,7),e.Gf(p.BZ,5),e.Gf($,7)),2&t){let m;e.iGM(m=e.CRH())&&(n.paginator=m.first),e.iGM(m=e.CRH())&&(n.sort=m.first),e.iGM(m=e.CRH())&&(n.matCSRTemplateTable=m.first),e.iGM(m=e.CRH())&&(n.searchCSRTemplate=m.first)}},decls:44,vars:20,consts:[["id","templates",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a template"],["searchCSRTemplate",""],["mat-raised-button","",1,"cuc-white","mt-md-0",3,"routerLink"],[1,"content-card"],["matSort","","cucPerfectScrollbar","",1,"templates-table",3,"dataSource"],["matCSRTemplateTable",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["matColumnDef","download"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","template-row",4,"matRowDef","matRowDefColumns"],["class","no-data-message",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","fxLayout","column","fxLayoutAlign","center none",3,"click"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],[1,"text-truncate"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","edit",3,"routerLink"],["mat-menu-item","","aria-label","remove",3,"click"],["color","accent","mat-icon-button","","color","accent",3,"click"],[1,"material-icons"],[1,"template-row"],[1,"no-data-message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),e._uU(6," list_alt "),e.qZA(),e.TgZ(7,"span",6),e._uU(8," CSR Template Management "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-icon"),e._uU(12,"search"),e.qZA(),e._UZ(13,"input",9,10),e.qZA()(),e.TgZ(15,"button",11)(16,"mat-icon"),e._uU(17,"add"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Add New Template"),e.qZA()()(),e.TgZ(20,"div",12)(21,"mat-table",13,14),e.ynx(23,15),e.YNc(24,q,2,0,"mat-header-cell",16),e.YNc(25,ee,3,1,"mat-cell",17),e.BQk(),e.ynx(26,18),e.YNc(27,te,2,0,"mat-header-cell",16),e.YNc(28,ae,4,4,"mat-cell",17),e.BQk(),e.ynx(29,19),e.YNc(30,ne,2,0,"mat-header-cell",20),e.YNc(31,oe,16,2,"mat-cell",17),e.BQk(),e.ynx(32,21),e.YNc(33,le,2,0,"mat-header-cell",20),e.YNc(34,ie,5,0,"mat-cell",17),e.BQk(),e.YNc(35,re,1,0,"mat-header-row",22),e.YNc(36,me,1,0,"mat-row",23),e.qZA(),e.YNc(37,se,3,0,"div",24),e.TgZ(38,"div",25)(39,"button",26),e.NdJ("click",function(){return n.reload()}),e.TgZ(40,"mat-icon"),e._uU(41,"refresh"),e.qZA()(),e._UZ(42,"mat-paginator",27,28),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("@animate",e.VKq(13,Y,e.DdM(12,ce))),e.xp6(2),e.Q6J("@animate",e.VKq(16,Y,e.DdM(15,pe))),e.xp6(8),e.Q6J("routerLink","/app/csr-template-management/template/new"),e.xp6(6),e.Q6J("dataSource",n.filteredAndPagedLists)("@animateStagger",e.DdM(18,ue)),e.xp6(14),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0==n.filteredAndPagedLists.length),e.xp6(5),e.Q6J("length",n.resultsLength)("pageSize",10)("pageSizeOptions",e.DdM(19,de)))},directives:[D.V,w.xw,w.Wh,C.Hw,w.yH,S.lW,T.rH,p.BZ,R.YE,Q.i,p.w1,p.fO,p.ge,R.nU,p.Dz,p.ev,v.p6,v.VK,v.OP,p.as,p.XQ,p.nj,p.Gk,F.O5,c.NW],pipes:[F.uU],styles:["@media screen and (max-width: 959px){uc-csr-template-home #templates .top-bg{height:256px}}uc-csr-template-home #templates>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px rgba(0,0,0,.14),0 1px 3px rgba(0,0,0,.12)}@media screen and (max-width: 599px){uc-csr-template-home #templates>.center>.header .search-wrapper{width:100%}}uc-csr-template-home #templates>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}uc-csr-template-home #templates>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width: 959px){uc-csr-template-home #templates>.center>.header{padding:8px 0;height:192px!important;min-height:192px!important;max-height:192px!important}}uc-csr-template-home .templates-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}uc-csr-template-home .templates-table .mat-header-row{min-height:64px}uc-csr-template-home .templates-table .template-row{position:relative;cursor:pointer;height:60px}uc-csr-template-home .templates-table .mat-cell{min-width:0;display:flex;align-items:center}uc-csr-template-home .templates-table .active-icon{border-radius:50%}uc-csr-template-home .no-data-message{padding-top:25px;height:100%;text-align:center}\n"],encapsulation:2,data:{animation:x.J}}),a})();var d=o(24006);class E{constructor(l){this.templateColumns=[],this.id=(l=l||{}).id||"",this.name=l.name||"",this.description=l.description||"",this.templateColumns=l.templateColumns||[]}}function fe(a,l){if(1&a&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.template.name,"")}}function he(a,l){1&a&&(e.TgZ(0,"div",18),e._uU(1,"New Template"),e.qZA())}function ge(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().addTemplate()}),e.TgZ(1,"span"),e._uU(2,"Add"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.CSRTemplateForm.invalid)}}function Te(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveTemplate()}),e.TgZ(1,"span"),e._uU(2,"Save"),e.qZA()()}if(2&a){const t=e.oxw();e.Q6J("disabled",t.CSRTemplateForm.invalid||t.CSRTemplateForm.pristine)}}function Ce(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().index;return e.oxw().addTemplateColumnFormGroup(m)}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function ve(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().index;return e.oxw().removeTemplateColumn(m)}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}if(2&a){const t=e.oxw().index;e.s9C("id",t)}}function xe(a,l){if(1&a&&(e.TgZ(0,"div",20)(1,"div",21)(2,"mat-form-field",15)(3,"mat-label"),e._uU(4," Column"),e.qZA(),e._UZ(5,"input",22),e.qZA(),e.TgZ(6,"div",23),e.YNc(7,Ce,3,1,"button",24),e.YNc(8,ve,3,1,"button",24),e.qZA()()()),2&a){const t=l.index,n=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(6),e.Q6J("ngIf",n.templateColumnsFormArray.length-1==t&&"new"==n.pageType),e.xp6(1),e.Q6J("ngIf",n.templateColumnsFormArray.length-1!=t&&"new"==n.pageType)}}const Se=function(){return{delay:"100ms",x:"-25px"}},_e=function(a){return{value:"*",params:a}};let O=(()=>{class a{constructor(t,n,m,f,J){this._formBuilder=t,this._snackbarService=n,this._csrTemplateService=m,this._route=f,this._router=J,this.template=new E}ngOnInit(){this.routeParams=this._route.params,this.CSRTemplateForm=this.createCreateForm(),"new"===this.routeParams.value.id?(this.pageType="new",this.template=new E):(this.pageType="edit",this.template.id=this.routeParams.value.id,this._csrTemplateService.getById(this.routeParams.value.id).subscribe(t=>{var{templateColumns:n,...m}=t.result;n=n.map(f=>f.templateColumn),this.template=new E({templateColumns:n,...m}),console.log(this.template),this.CSRTemplateForm=this.createCreateForm()}))}createCreateForm(){return this._formBuilder.group({name:new d.NI(this.template.name),description:new d.NI(this.template.description),templateColumns:this.addTemplateColumns(this.template.templateColumns)})}get templateColumnsFormArray(){return this.CSRTemplateForm.get("templateColumns")}getTemplateColumnsControls(){return this.CSRTemplateForm.get("templateColumns").controls}addTemplateColumnFormGroup(){const t=this._formBuilder.group({templateColumn:[""]});this.templateColumnsFormArray.push(t)}removeTemplateColumn(t){this.templateColumnsFormArray.removeAt(this.templateColumnsFormArray.length-1)}addTemplateColumns(t){var n=this._formBuilder.array([]);if(0==t.length){const m=this._formBuilder.group({templateColumn:new d.NI});n.push(m)}else t.forEach(m=>{const f=this._formBuilder.group({templateColumn:new d.NI(m)});n.push(f)});return n}saveTemplate(){const t=this.CSRTemplateForm.getRawValue();t.id=this.template.id,console.log(t.id),this._csrTemplateService.saveTemplate(t).subscribe(n=>{n.result&&(this._snackbarService.success(`Template ${t.name} saved successfully.`),this._router.navigateByUrl("app/csr-template-management/templates"))})}addTemplate(){const t=this.CSRTemplateForm.getRawValue();console.log(t),this._csrTemplateService.addTemplate(t).subscribe(n=>{n.result&&(this._snackbarService.success("Template added successfully."),this._router.navigateByUrl("app/csr-template-management/templates"))})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d.qu),e.Y36(M.k),e.Y36(H.J),e.Y36(T.gz),e.Y36(T.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["csr-template"]],decls:27,vars:11,consts:[["id","product",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-0","mr-sm-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],["class","h2",4,"ngIf"],[1,"subtitle","secondary-text"],["mat-raised-button","","class","save-product-button",3,"disabled","click",4,"ngIf"],[1,"content-card"],[1,"content"],["name","CSRTemplateForm","fxLayout","column","fxFlex","",1,"product","w-100-p",3,"formGroup"],["label","Templates"],["cucPerfectScrollbar","",1,"tab-content","p-24"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","Template Name","formControlName","name"],["formArrayName","templateColumns",4,"ngFor","ngForOf"],[1,"h2"],["mat-raised-button","",1,"save-product-button",3,"disabled","click"],["formArrayName","templateColumns"],[3,"formGroupName"],["matInput","","placeholder","Column","formControlName","templateColumn"],["fxFlex","15",1,"mini-fab-button-container"],["mat-mini-fab","","color","secondary","mat-icon-button","",3,"id","click",4,"ngIf"],["mat-mini-fab","","color","secondary","mat-icon-button","",3,"id","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon"),e._uU(7,"arrow_back"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,fe,2,1,"div",7),e.YNc(10,he,2,0,"div",7),e.TgZ(11,"div",8)(12,"span"),e._uU(13,"Template Settings"),e.qZA()()()(),e.YNc(14,ge,3,1,"button",9),e.YNc(15,Te,3,1,"button",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"form",12)(19,"mat-tab-group")(20,"mat-tab",13)(21,"div",14)(22,"mat-form-field",15)(23,"mat-label"),e._uU(24,"Template Name"),e.qZA(),e._UZ(25,"input",16),e.qZA(),e.YNc(26,xe,9,3,"div",17),e.qZA()()()()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink","/app/csr-template-management/templates"),e.xp6(3),e.Q6J("@animate",e.VKq(9,_e,e.DdM(8,Se))),e.xp6(1),e.Q6J("ngIf","edit"===n.pageType),e.xp6(1),e.Q6J("ngIf","new"===n.pageType),e.xp6(4),e.Q6J("ngIf","new"===n.pageType),e.xp6(1),e.Q6J("ngIf","edit"===n.pageType),e.xp6(3),e.Q6J("formGroup",n.CSRTemplateForm),e.xp6(8),e.Q6J("ngForOf",n.getTemplateColumnsControls()))},directives:[D.V,w.xw,w.Wh,S.lW,T.rH,C.Hw,F.O5,d._Y,d.JL,w.yH,d.sg,b.SP,b.uX,Q.i,g.KE,g.hX,u.Nt,d.Fj,d.JJ,d.u,F.sg,d.CE,d.x0],styles:[""],encapsulation:2,data:{animation:x.J}}),a})();const Re=[{path:"",component:I},{path:"templates",component:I},{path:"template/:id",component:O},{path:"template/:id/:handle",component:O}];let be=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[H.J],imports:[[T.Bz.forChild(Re),S.ot,h.Hi,s.To,g.lN,C.Ps,u.c,c.TU,A.si,L.LD,R.JX,Z.QW,U.ZX,p.p0,b.Nh,_.p9,v.Tx,i.A,r.lJ,r.QH]]}),a})()},94327:function(N,y){var S;void 0!==(S=function(){"use strict";function g(i,r,h){var s=new XMLHttpRequest;s.open("GET",i),s.responseType="blob",s.onload=function(){_(s.response,r,h)},s.onerror=function(){console.error("could not download file")},s.send()}function Z(i){var r=new XMLHttpRequest;r.open("HEAD",i,!1);try{r.send()}catch{}return 200<=r.status&&299>=r.status}function C(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(r)}}var u="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,L=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_=u.saveAs||("object"!=typeof window||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!L?function(i,r,h){var s=u.URL||u.webkitURL,c=document.createElement("a");c.download=r=r||i.name||"download",c.rel="noopener","string"==typeof i?(c.href=i,c.origin===location.origin?C(c):Z(c.href)?g(i,r,h):C(c,c.target="_blank")):(c.href=s.createObjectURL(i),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){C(c)},0))}:"msSaveOrOpenBlob"in navigator?function(i,r,h){if(r=r||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function A(i,r){return typeof r>"u"?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i}(i,h),r);else if(Z(i))g(i,r,h);else{var s=document.createElement("a");s.href=i,s.target="_blank",setTimeout(function(){C(s)})}}:function(i,r,h,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof i)return g(i,r,h);var c="application/octet-stream"===i.type,R=/constructor/i.test(u.HTMLElement)||u.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||c&&R||L)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var x=p.result;x=U?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=x:location=x,s=null},p.readAsDataURL(i)}else{var b=u.URL||u.webkitURL,v=b.createObjectURL(i);s?s.location=v:location.href=v,s=null,setTimeout(function(){b.revokeObjectURL(v)},4e4)}});u.saveAs=_.saveAs=_,N.exports=_}.apply(y,[]))&&(N.exports=S)}}]);